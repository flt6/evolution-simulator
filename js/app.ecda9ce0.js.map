{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/floating-panel.vue?4d61","webpack:///./src/components/drawer.vue?b5dd","webpack:///./src/components/view-screen.vue?0260","webpack:///./src/components/audio-scrubber.vue?f261","webpack:///./src/components/player.vue?5723","webpack:///./src/components/creature-template-config.vue?27ed","webpack:///./src/components/player-controls.vue?cdea","webpack:///./src/workers/simulation.js?ac30","webpack:///./src/assets/status-icons/chase.svg","webpack:///./src/components/simulation-config.vue?a2fe","webpack:///./src/pages/about.vue?838e","webpack:///./src/components/flower-chart.vue?aeff","webpack:///./src/components/generation-viewer.vue?987c","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/assets/status-icons/reproduce.svg","webpack:///./src/app.vue?7732","webpack:///./src/components/app-messages.vue?9d19","webpack:///./src/components/alerts/info-message.vue?9907","webpack:///src/components/alerts/info-message.vue","webpack:///./src/components/alerts/info-message.vue?fee7","webpack:///./src/components/alerts/info-message.vue","webpack:///./src/components/alerts/error-message.vue?669b","webpack:///src/components/alerts/error-message.vue","webpack:///./src/components/alerts/error-message.vue?16f8","webpack:///./src/components/alerts/error-message.vue","webpack:///src/components/app-messages.vue","webpack:///./src/components/app-messages.vue?1779","webpack:///./src/components/app-messages.vue","webpack:///src/app.vue","webpack:///./src/app.vue?a3e2","webpack:///./src/app.vue?64bf","webpack:///./src/pages/player-ui.vue?ee27","webpack:///./src/components/player.vue?85e7","webpack:///./src/lib/visibility.js","webpack:///./src/components/audio-scrubber.vue?c32c","webpack:///src/components/player.vue","webpack:///./src/components/player.vue?e357","webpack:///./src/components/player.vue?845f","webpack:///./src/components/player-controls.vue?4c68","webpack:///src/components/audio-scrubber.vue","webpack:///./src/components/audio-scrubber.vue?e216","webpack:///src/components/player-controls.vue","webpack:///./src/components/player-controls.vue?b824","webpack:///./src/components/player-controls.vue?680d","webpack:///src/pages/player-ui.vue","webpack:///./src/pages/player-ui.vue?1b33","webpack:///./src/pages/player-ui.vue?1697","webpack:///./src/pages/about.vue?bde8","webpack:///./src/components/responsive-embed.vue?2034","webpack:///src/components/responsive-embed.vue","webpack:///./src/components/responsive-embed.vue?42c6","webpack:///./src/components/responsive-embed.vue?9bdb","webpack:///./src/components/flower-chart.vue?fc24","webpack:///src/components/flower-chart.vue","webpack:///./src/components/flower-chart.vue?af0f","webpack:///./src/components/flower-chart.vue?1060","webpack:///src/pages/about.vue","webpack:///./src/pages/about.vue?fefd","webpack:///./src/pages/about.vue?67fd","webpack:///./src/pages/simulation.vue?46ac","webpack:///./src/config/sougy-colors.js","webpack:///./src/config/trait-colors.js","webpack:///./src/components/flower-timeline.vue?388f","webpack:///src/components/flower-timeline.vue","webpack:///./src/components/flower-timeline.vue?f4d7","webpack:///./src/components/flower-timeline.vue?5bb6","webpack:///./src/components/drawer.vue?28e4","webpack:///src/components/drawer.vue","webpack:///./src/components/drawer.vue?607b","webpack:///./src/components/drawer.vue?8936","webpack:///./src/components/legend.vue?b16c","webpack:///src/components/legend.vue","webpack:///./src/components/legend.vue?ec00","webpack:///./src/components/legend.vue?b727","webpack:///./src/components/simulation-config.vue?c805","webpack:///./src/components/inputs/number-input.vue?94cc","webpack:///src/components/inputs/number-input.vue","webpack:///./src/components/inputs/number-input.vue?cf6d","webpack:///./src/components/inputs/number-input.vue?bad4","webpack:///./src/components/creature-template-config.vue?aa27","webpack:///./src/config/creature-colors.js","webpack:///src/components/creature-template-config.vue","webpack:///./src/components/creature-template-config.vue?2565","webpack:///./src/components/creature-template-config.vue?45da","webpack:///./src/components/food-control.vue?1c9b","webpack:///src/components/food-plot.vue","webpack:///./src/components/food-plot.vue","webpack:///./src/components/food-plot.vue?53e8","webpack:///./src/lib/interpolator.js","webpack:///src/components/food-control.vue","webpack:///./src/components/food-control.vue?27b5","webpack:///./src/components/food-control.vue?9a61","webpack:///src/components/simulation-config.vue","webpack:///./src/components/simulation-config.vue?d79c","webpack:///./src/components/simulation-config.vue?397f","webpack:///src/pages/simulation.vue","webpack:///./src/pages/simulation.vue?ef39","webpack:///./src/pages/simulation.vue?a454","webpack:///./src/components/simulation-statistics.vue?e5d4","webpack:///src/components/trait-plot.vue","webpack:///./src/components/trait-plot.vue","webpack:///./src/components/trait-plot.vue?f17d","webpack:///src/components/overview-plot.vue","webpack:///./src/components/overview-plot.vue","webpack:///./src/components/overview-plot.vue?879f","webpack:///src/components/birth-death-plot.vue","webpack:///./src/components/birth-death-plot.vue","webpack:///./src/components/birth-death-plot.vue?e8f0","webpack:///src/components/simulation-statistics.vue","webpack:///./src/components/simulation-statistics.vue?a8e1","webpack:///./src/components/simulation-statistics.vue?fa95","webpack:///./src/components/view-screen.vue?60c8","webpack:///./src/components/generation-viewer.vue?f43b","webpack:///./src/components/three-vue/v3-renderer.js","webpack:///./src/components/three-vue/v3-object.mixin.js","webpack:///./src/components/three-vue/fade.transition.js","webpack:///./src/components/three-vue/gestures.js","webpack:///./src/components/three-vue/v3-scene.js","webpack:///./src/components/three-vue/v3-camera.js","webpack:///./src/components/three-vue/v3-light.js","webpack:///./src/components/three-vue/v3-group.js","webpack:///./src/components/three-vue/v3-dom.js","webpack:///./src/components/three-vue/v3-grid.js","webpack:///./src/components/three-vue/v3-plane.js","webpack:///./src/components/three-vue/v3-box.js","webpack:///./src/components/three-vue/v3-fog.js","webpack:///./src/components/3d-objects/food.js","webpack:///./src/components/3d-objects/creature.js","webpack:///./src/components/3d-objects/creature-status.vue?9c77","webpack:///src/components/3d-objects/creature-status.vue","webpack:///./src/components/3d-objects/creature-status.vue?43e8","webpack:///./src/components/3d-objects/creature-status.vue?8a0a","webpack:///./src/components/tour.vue?20aa","webpack:///./src/components/tour-step.vue?e2ec","webpack:///src/components/tour-step.vue","webpack:///./src/components/tour-step.vue?a1c9","webpack:///./src/components/tour-step.vue?4c94","webpack:///./src/components/typewriter-text.transition.vue?f738","webpack:///src/components/typewriter-text.transition.vue","webpack:///./src/components/typewriter-text.transition.vue?6e58","webpack:///./src/components/typewriter-text.transition.vue?8860","webpack:///src/components/tour.vue","webpack:///./src/components/tour.vue?a89f","webpack:///./src/components/tour.vue?d13c","webpack:///src/components/generation-viewer.vue","webpack:///./src/components/generation-viewer.vue?87e1","webpack:///./src/components/generation-viewer.vue?c20f","webpack:///./src/components/floating-panel.vue?e21a","webpack:///src/components/floating-panel.vue","webpack:///./src/components/floating-panel.vue?986e","webpack:///./src/components/floating-panel.vue?3494","webpack:///./src/components/creature-flower-chart.vue?a494","webpack:///src/components/creature-flower-chart.vue","webpack:///./src/components/creature-flower-chart.vue?9a72","webpack:///./src/components/creature-flower-chart.vue?a1fa","webpack:///src/components/view-screen.vue","webpack:///./src/components/view-screen.vue?2543","webpack:///./src/components/view-screen.vue?62a8","webpack:///./src/router/index.js","webpack:///./src/workers/simulation.js","webpack:///./src/store/alerts.js","webpack:///./src/store/simulation.js","webpack:///./src/store/index.js","webpack:///./src/plugins/filters.js","webpack:///./src/plugins/gestures/drag.js","webpack:///./src/plugins/gestures/index.js","webpack:///./src/plugins/on-resize.js","webpack:///./src/main.js","webpack:///./src/assets/status-icons/food.svg","webpack:///./src/components/food-control.vue?7fa6","webpack:///./src/components/inputs/number-input.vue?cad5","webpack:///./src/components/inputs/number-input.vue?bad1","webpack:///./src/app.vue?acc2","webpack:///./src/components/creature-flower-chart.vue?425c","webpack:///./src/components/tour.vue?6bf3","webpack:///./src/assets/status-icons/satisfied.svg","webpack:///./src/components/3d-objects/creature-status.vue?a29d","webpack:///./src/components/legend.vue?bbb2","webpack:///./src/assets/status-icons/run.svg","webpack:///./src/assets/logo-dark.png","webpack:///./src/pages/simulation.vue?e85b","webpack:///./src/assets/status-icons/thought-1.svg","webpack:///./src/components/tour-step.vue?8ac7","webpack:///./src/components/responsive-embed.vue?9728","webpack:///./src/components/flower-timeline.vue?0226","webpack:///./src/pages/player-ui.vue?0ac6","webpack:///./src/assets/status-icons/low-energy.svg","webpack:///./src/components/typewriter-text.transition.vue?6ef4","webpack:///./src/assets/status-icons/search.svg","webpack:///./src/assets/status-icons/extinction.svg","webpack:///./src/components/simulation-statistics.vue?6d10","webpack:///./src/assets/status-icons/thought-2.svg"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","this","oldJsonpFunction","slice","Worker","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","_vm","_h","$createElement","_c","_self","attrs","staticRenderFns","staticClass","_l","alert","type","handler","showAlert","$buefy","snackbar","open","message","component","context","InfoMessage","AppMessages","playlist","playIndex","music","scopedSlots","_u","fn","playerProps","ref","loading","viewWidth","viewHeight","_e","_t","hiddenProperty","document","visibilityChangeEvent","replace","isSupported","onChange","args","window","addEventListener","offChange","removeEventListener","isHidden","Array","String","Number","player","getPlaybackRate","$once","cleanup","$on","$watch","noSleep","disable","enable","wasPlayingMusic","howls","forEach","musicHowl","unload","howl","totalTime","time","oldHowl","pause","off","newHowl","on","setTotalTime","announceError","load","seek","oldHowls","volume","filter","src","entry","files","audio","console","log","$ga","exception","duration","play","$emit","setTrack","$router","seekAudio","fade","setTimeout","class","paused","progress","onScrub","$event","scrubbing","slot","_v","_s","nowPlaying","title","item","index","itemType","_f","volumeIcon","model","callback","$$v","$set","expression","disabled","previous","togglePlay","ended","isLast","next","cb","h","AudioScrubber","vol","trackScrub","event","Player","getViewDimensions","playerRoute","children","findIndex","meta","$refs","main","offsetWidth","offsetHeight","_m","style","maxWidth","paddingTop","ratio","centerHover","showValues","valuesOutside","width","size","height","transform","viewbox","globalAngle","svg","_b","onPetalClick","group","hoverArea","petal","text","label","onCenterClick","center","colors","scale","min","max","z","lerp","a","b","petalPath","arc","fixed","undefined","v","toFixed","Boolean","topPetal","petals","centerScale","range","ranges","isNaN","minSize","Pi2","len","ResponsiveEmbed","$route","showIntro","params","hideSettings","tourStepNumber","showConfig","query","cfg","fixLayout","hideControls","isContinuing","shuffleSimulation","continueSimulation","showBottomDrawer","isLoading","legendStartsOpen","flowerLegend","propertySelect","canContinue","flowerTimelineData","flowerRanges","flowerColors","genIndex","generation","selected","proxy","freeze","red","crimson","blue","cyan","green","lime","darkGreen","orange","yellow","violet","seafoam","cream","ivory","pink","brown","lightBrown","sand","grey","sougy","onScroll","gen","dataRanges","onFlowerSelect","FlowerChart","focusSelected","oldValue","el","scrollLeft","deltaY","$nextTick","container","_obj","collapsed","isOpen","direction","closeIcon","openIcon","openState","color","close","maxGenerations","seed","run","tabItem","species","active","foodColor","foodPerGeneration","condensed","input","focus","sliderProcess","sliderDrag","sliderIsDragging","sliderValue","directives","rawName","modifiers","step","domProps","target","composing","displayValue","_n","$forceUpdate","nearest","lastUpdate","backgroundColor","sanitizeValue","drag","changeValue","Math","frac","dt","delay","dv","now","creatureColors","creatureCount","traitColors","energy","speed","speedValue","sizeValue","sense_range","sense_rangeValue","speedVariance","sizeVariance","sense_rangeVariance","chroma","desaturate","num","creatureProps","props","f","ret","NumberInput","commit","showGraph","foodPlotData","nativeOn","setControlPointOnInteract","addCol","options","responsive","enabled","tooltips","xAxes","display","fontColor","textColor","line","borderWidth","showLine","chartdata","render","tooltip","_active","$el","onClick","_inactive","scales","renderChart","offsetY","yBottom","yTop","newY","abs","offsetX","xBottom","xTop","newX","from","to","interpolator","pts","useSpline","minX","maxX","spline","tension","isClosed","numOfSegments","x","xn","x1","x2","y","t1x","t2x","t1y","t2y","c1","c2","c3","c4","st","_pts","res","unshift","st2","st3","FoodPlot","last","isFinite","sort","config","food_per_generation","$store","dispatch","buttons","round","food","existing","storeParam","action","presetOptions","state","simulation","creatureConfigs","preset","getters","then","idx","intro","stats","generation_statistics","g","population","values","traits","generationIndex","loadGeneration","getCurrentGeneration","fresh","view","statsSpeciesFilter","isDownloading","downloadCSV","restart","keepGoing","plot","titleColor","showPlot","plots","birthsDeathsData","foodData","maxFood","hidePlot","clamp","intersect","datasets","labels","TraitPlot","statistics","reduce","hiddenPlots","showSightIndicator","stopPropagation","showSpeedIndicator","showEnergyIndicator","showFoodIndicator","followCreature","followCreatureId","stepTime","creature","playthrough","prevGeneration","nextGeneration","playbackSpeed","onScrubStart","onScrubEnd","highlightColor","interactiveObjects","tapCreature","onHover","persCameraPos","tourPosition","shadowCamera","gridSize","PI","refInFor","speedIndicators","speedColorScale","getCreatureColor","creatureIndicators","Pass","FullScreenQuad","camera","THREE","material","geometry","_mesh","set","assign","renderer","outlineColor","default","outlineColorBehind","clearColor","clearAlpha","shadows","components","provide","threeVue","created","afterReady","isReady","alpha","antialias","shadowMap","setPixelRatio","devicePixelRatio","cssRenderer","CSS2DRenderer","composer","EffectComposer","renderPass","RenderPass","addPass","effectFXAA","ShaderPass","FXAAShader","pixelRatio","getPixelRatio","uniforms","setSize","immediate","beforeDestroy","dispose","fsQuad","renderTarget1","renderTarget2","copyPass","outlinePass","mounted","domElement","position","top","left","zIndex","userSelect","lineHeight","className","appendChild","computed","watch","visibleEdgeColor","hiddenEdgeColor","methods","draw","scene","initOutlinePass","getObjectByName","checkClear","passes","indexOf","clear","insertRenderPass","pass","insertPass","removeRenderPass","renderCamera","renderScene","dims","OutlinePass","edgeStrength","edgeThickness","overlayMaterial","blending","addOutline","v3object","selectedObjects","removeOutline","overflow","$slots","visible","castShadow","receiveShadow","depthTest","depthWrite","inject","disposables","parent","$parent","add","remove","autoClean","registerDisposables","thing","createObject","updateObjects","obj","deep","_compact","isArray","th","beforeDraw","$off","assignProps","dest","prop","val","cur","Color","Vector3","Euler","fromArray","copy","mixins","THREEObjectMixin","css","enter","beforeEnter","beforeLeave","leave","afterLeave","$children","ch","transparent","oldOpacity","opacity","done","fadeIn","startTime","Copilot","Util","endTime","Interpolators","Linear","concat","update","timeFraction","Animation","getTimeFraction","Easing","Quadratic","InOut","interpolateProperty","names","raycaster","pos","updateMonitored","monitored","collectNamedChildren","listen","onMouseMove","onMouseDown","onMouseUp","onTouchMove","onTouchStart","onTouchEnd","flag","passive","getMousePos","elOffset","getBoundingClientRect","clientX","clientY","getTouchPos","touch","touches","pageX","pageY","raycast","setFromCamera","intersectObjects","dragStart","dragEnd","preventDefault","intersects","ray","clone","dragging","dragged","_get","sceneProps","background","parentNode","removeChild","Types","orthographiccamera","right","bottom","near","far","OrthographicCamera","perspectivecamera","fov","aspect","PerspectiveCamera","watchableProps","positionProps","zoom","rotation","preventUpdate","lookAt","cameraConstructor","updateProjectionMatrix","lookAtV","toLowerCase","ambientlight","intensity","AmbientLight","directionallight","DirectionalLight","hemispherelight","skyColor","groundColor","HemisphereLight","pointlight","distance","decay","PointLight","rectarealight","RectAreaLight","spotlight","angle","penumbra","SpotLight","lightProps","shadowProps","shadowBias","shadowRadius","shadowPropsNoPrefix","_mapKeys","k","substr","shadowMapSizePower","debug","light","lightConstructor","shadow","shadowHelper","CameraHelper","mapPass","mapSize","Vector2","multiplyScalar","pow","threeProps","dummyEl","createElement","anchorDir","boundingBox","CSS2DObject","element","divisions","color1","color2","geometryProps","segments","materialProps","oldGeometry","_pick","side","plane","depth","box","fog","foodSize","darken","saturate","foodGeometry","foodMaterial","getStep","isEaten","status","Eaten","blobColor","makeEye","geo","makeDeadEye","thickness","createBlobCreatureParts","resolution","isolation","effect","MarchingCubes","strength","sqrt","reset","addBall","generateBufferGeometry","blob","rightDead","leftDead","cachedBlobParts","createBlob","part","createCircle","circle","cachedVisionCircle","mix","cachedEnergyCircle","cachedFoodIndicator","getChevronShape","ang","sin","cos","lineTo","cachedSpeedIndicator","depthFunc","_times","growth","spaceBetween","chev","getSpeedIndicator","energyColorScale","getEnergyColor","start","end","energy_consumed","getSpeedIndicatorCount","maxSpeed","blobMaterialProps","tmpV","axisX","axisY","steps","movement_history","willDie","stepFrac","getPoint","tmpV2","rot","getTangent","deadState","creatureObject","blobMaterial","rightEye","leftEye","rightDeadEye","leftDeadEye","energyColor","energyIndicator","foods","foods_eaten","foodIndicators","dir","getWorldDirection","projectOnPlane","angleTo","sign","cross","visionIndicator","speedIndicator","foodsEaten","applyAxisAngle","vision","chevN","iconUrl","history","lastStep","ICONS","skip","stepNumber","back","buttonText","transitionText","cancelTransition","lps","ps","innerText","letterCount","psText","psLetters","innerHTML","visibleText","nps","togglePause","TourStep","v3Renderer","sightIndicators","hideStage","checkFollowCreature","axesHelper","defaultCreatureColor","controls","rotateSpeed","zoomSpeed","panSpeed","enableZoom","enablePan","enableDamping","dampingFactor","minZoom","maxZoom","maxDistance","minPolarAngle","epsilon","maxPolarAngle","cameraGoal","cameraFocusGoal","goal","setFromMatrixPosition","matrixWorld","clearTimeout","followTO","transitionCamera","hw","cameraPosition","frames","tourActive","getFrame","playTo","destroy","$onResize","onResize","initCamera","initTour","requestAnimationFrame","stop","closeOnClick","traitData","generationRanges","getTraitColors","shownTraits","currentGenerationIndex","getTime","log2","playbackRate","prate","oldStep","creatures","oldg","updateTime","wasPaused","viewer","Vue","use","Router","inst","shownIntro","parseProps","route","router","routes","path","PlayerUI","redirect","append","Simulation","ViewScreen","SimulationStatistics","About","DEFAULT_INFO_TIMEOUT","DEFAULT_ERROR_TIMEOUT","initialState","errors","infos","alerts","namespaced","hasError","hasInfo","actions","error","timeout","clearError","clearErrors","info","clearInfo","clearInfos","mutations","clearAll","addError","_uniqueId","removeError","_differenceBy","addInfo","removeInfo","worker","require","wrap","createWorker","PRESETS","getTraitsForPreset","DEFAULT_CREATURE_PROPS","reach","flee_distance","life_span","isBusy","isRestarting","startedAt","computeTime","max_generations","count","template","strTypeToNumber","sanitizeConfig","getCreatureTemplate","age","home_pos","status_history","getCreatureConfigs","cfgs","specieses","presets","speciesKeys","creatureConfig","creatureTemplate","rootState","speciesFilterList","filters","speciesFilterKey","Promise","reject","preload","postload","initSimulation","advanceSimulation","root","continue","numGenerations","num_generations","current","getGeneration","setStatsFilter","getStats","getStatistics","setConfig","_cloneDeep","setCreatureConfig","setCreatureTemplate","getCSV","isRestart","performance","setGenerationIndex","setMeta","setStatistics","setGeneration","setSpeciesFilter","Vuex","watchGeneration","store","Store","strict","process","plugins","titleCase","str","split","w","_capitalize","join","numberRanges","suffix","decimals","Infinity","shortNumber","_find","hours","floor","minutes","seconds","fmt","truncate","sfx","install","_kebabCase","_startCase","_filter","POINTER_START_EVENTS","POINTER_MOVE_EVENTS","POINTER_END_EVENTS","addEventListeners","events","removeEventListeners","getCoords","rect","changedTouches","layerX","layerY","inserted","binding","draggedElem","onPointerStart","evt","coords","lastCoords","firstCoords","first","onPointerEnd","onPointerMove","deltaX","documentElement","unbind","directive","listeners","throttleTime","_throttle","_pull","VueSlider","sync","registerType","isProduction","VueAnalytics","trace","sendHitTask","autoTracking","pageviewTemplate","labConfig","page","repo","location","href","Buefy","defaultContainerElement","VueCircleSlider","Filters","Gestures","productionTip","App","$mount"],"mappings":"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","file":"js/app.ecda9ce0.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/evolution-simulator/\";\n\n \tvar jsonpArray = this[\"webpackJsonp\"] = this[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./floating-panel.vue?vue&type=style&index=0&id=1b033d01&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./drawer.vue?vue&type=style&index=0&id=abbc309c&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./view-screen.vue?vue&type=style&index=0&id=7b6932ac&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./audio-scrubber.vue?vue&type=style&index=0&id=364d28c4&scoped=true&lang=sass&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./player.vue?vue&type=style&index=0&id=69e95553&scoped=true&lang=sass&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./creature-template-config.vue?vue&type=style&index=0&id=28527534&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./player-controls.vue?vue&type=style&index=0&id=dd1fd39c&scoped=true&lang=sass&\"","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"62fc8618f4a53a204cad.worker.js\");\n};","module.exports = __webpack_public_path__ + \"img/chase.89cddc3d.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./simulation-config.vue?vue&type=style&index=0&id=fd2e3e02&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./about.vue?vue&type=style&index=0&id=e42bfca8&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flower-chart.vue?vue&type=style&index=0&id=63af28cc&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./generation-viewer.vue?vue&type=style&index=0&id=afdd8940&lang=sass&scoped=true&\"","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","module.exports = __webpack_public_path__ + \"img/reproduce.a99d70c4.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('AppMessages'),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-messages\"},[_vm._l((_vm.infos),function(alert){return _c('InfoMessage',{key:alert.id,attrs:{\"alert\":alert}})}),_vm._l((_vm.errors),function(alert){return _c('ErrorMessage',{key:alert.id,attrs:{\"alert\":alert}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"is-hidden\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.is-hidden\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\n\nexport default {\n  name: 'ErrorMessage'\n  , props: {\n    alert: {\n      type: Object\n    }\n  }\n  , watch: {\n    alert: {\n      handler(){\n        if ( !this.alert ){ return }\n        this.showAlert()\n      }\n      , immediate: true\n    }\n  }\n  , methods: {\n    ...mapActions([\n      'clearError'\n    ])\n    , showAlert(){\n      let alert = this.alert\n      this.$buefy.snackbar.open({\n        message: alert.message +  (alert.context ? `<br/>(${alert.context})` : '')\n        , duration: alert.timeout\n        , indefinite: !alert.timeout\n        , position: 'is-bottom-right'\n        , type: 'is-info'\n        , actionText: 'ok'\n        , queue: true\n        , onAction: () => {\n          let id = alert.id\n          this.clearError({ id })\n        }\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info-message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info-message.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./info-message.vue?vue&type=template&id=6a292bc4&lang=pug&\"\nimport script from \"./info-message.vue?vue&type=script&lang=js&\"\nexport * from \"./info-message.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"is-hidden\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.is-hidden\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\n\nexport default {\n  name: 'ErrorMessage'\n  , props: {\n    alert: {\n      type: Object\n    }\n  }\n  , watch: {\n    alert: {\n      handler(){\n        if ( !this.alert ){ return }\n        this.showAlert()\n      }\n      , immediate: true\n    }\n  }\n  , methods: {\n    ...mapActions([\n      'clearError'\n    ])\n    , showAlert(){\n      let alert = this.alert\n      this.$buefy.snackbar.open({\n        message: '<span class=\"has-text-danger\">Error</span>' + (alert.context ? ` ${alert.context}:` : ':') + '<br/>' + alert.error.message\n        , duration: alert.timeout\n        , indefinite: !alert.timeout\n        , position: 'is-bottom-right'\n        , type: 'is-danger'\n        , actionText: 'close'\n        , queue: false\n        , onAction: () => {\n          let id = alert.id\n          this.clearError({ id })\n        }\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./error-message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./error-message.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./error-message.vue?vue&type=template&id=774e2405&lang=pug&\"\nimport script from \"./error-message.vue?vue&type=script&lang=js&\"\nexport * from \"./error-message.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n.app-messages\n  InfoMessage(v-for=\"alert in infos\", :alert=\"alert\", :key=\"alert.id\")\n  ErrorMessage(v-for=\"alert in errors\", :alert=\"alert\", :key=\"alert.id\")\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport InfoMessage from '@/components/alerts/info-message'\nimport ErrorMessage from '@/components/alerts/error-message'\n\nexport default {\n  name: 'AppMessages'\n  , props: {\n  }\n  , data: () => ({\n  })\n  , components: {\n    InfoMessage\n    , ErrorMessage\n  }\n  , computed: {\n    ...mapGetters([\n      'errors'\n      , 'infos'\n    ])\n  }\n  , methods: {\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-messages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-messages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app-messages.vue?vue&type=template&id=4a55f0ae&lang=pug&\"\nimport script from \"./app-messages.vue?vue&type=script&lang=js&\"\nexport * from \"./app-messages.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n#app\n  AppMessages\n  router-view\n</template>\n\n<script>\n// import PubSub from '@/lib/pubsub'\nimport AppMessages from '@/components/app-messages'\nexport default {\n  name: 'App'\n  , data: () => ({\n  })\n  , components: {\n    AppMessages\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n#app\n  position: fixed\n  top: 0\n  left: 0\n  right: 0\n  bottom: 0\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app.vue?vue&type=template&id=d8e83a54&scoped=true&lang=pug&\"\nimport script from \"./app.vue?vue&type=script&lang=js&\"\nexport * from \"./app.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app.vue?vue&type=style&index=0&id=d8e83a54&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d8e83a54\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Player',{staticClass:\"player\",attrs:{\"playlist\":_vm.playlist,\"play-index\":_vm.playIndex,\"music\":_vm.music},scopedSlots:_vm._u([{key:\"default\",fn:function(playerProps){return [_c('div',{ref:\"main\",staticClass:\"main\"},[(_vm.viewWidth)?_c('router-view',{attrs:{\"player-loading\":playerProps.loading,\"view-width\":_vm.viewWidth,\"view-height\":_vm.viewHeight}}):_vm._e()],1),_c('div',{staticClass:\"panel-bottom\"},[_c('PlayerControls')],1)]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"player\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading}}),_vm._t(\"default\",null,{\"loading\":_vm.loading})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const hiddenProperty = 'hidden' in document ? 'hidden' :\n  'webkitHidden' in document ? 'webkitHidden' :\n  'mozHidden' in document ? 'mozHidden' : null\n// const visibilityStateProperty = 'visibilityState' in document ? 'visibilityState' :\n//   'webkitVisibilityState' in document ? 'webkitVisibilityState' :\n//   'mozVisibilityState' in document ? 'mozVisibilityState' : null\nconst visibilityChangeEvent = hiddenProperty && hiddenProperty.replace(/hidden/i, 'visibilitychange')\nconst isSupported = !!hiddenProperty\n\nexport function onChange( fn, args ){\n  if ( !isSupported ) return\n  window.addEventListener( visibilityChangeEvent, fn, args )\n}\n\nexport function offChange( fn ){\n  if ( !isSupported ) return\n  window.removeEventListener( visibilityChangeEvent, fn )\n}\n\nexport function isHidden(){\n  if ( !isSupported ) return false\n  return document[hiddenProperty]\n}\n","var render, staticRenderFns\nimport script from \"./audio-scrubber.vue?vue&type=script&lang=js&\"\nexport * from \"./audio-scrubber.vue?vue&type=script&lang=js&\"\nimport style0 from \"./audio-scrubber.vue?vue&type=style&index=0&id=364d28c4&scoped=true&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"364d28c4\",\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n.player\n  b-loading(:is-full-page=\"false\", :active=\"loading\")\n  slot(:loading=\"loading\")\n</template>\n\n<script>\n// import PubSub from '@/lib/pubsub'\nimport Copilot from 'copilot'\nimport { Howl, Howler } from 'howler'\nimport NoSleep from 'nosleep.js'\nimport * as Visibility from '@/lib/visibility'\nimport _throttle from 'lodash/throttle'\n\nexport default {\n  name: 'Player'\n  , props: {\n    playlist: {\n      type: Array\n      , required: true\n    }\n    , music: {\n      type: Object\n    }\n    , itemType: {\n      type: String\n      , default: 'Chapter'\n    }\n    , playIndex: {\n      type: Number\n      , default: 0\n    }\n  }\n  , provide(){\n    return {\n      player: this\n    }\n  }\n  , components: {\n  }\n  , data: () => ({\n    time: 0\n    , totalTime: -1\n    , paused: true\n    , ended: false\n    , playlistIndex: 0\n    , scrubbing: false\n\n    , volume: 1\n    , musicVolume: 1\n  })\n  , created(){\n    Howler.volume( 1 )\n\n    let cleanup = Copilot.Syncher({\n      getPlaybackRate: () => this.howl && this.howl.rate()\n      , isPlaying: () => this.howl && this.howl.playing()\n      , getTime: () => this.howl && this.howl.seek() * 1000\n      , onFrame: ( time, now, { isPlaying } ) => {\n        this.$emit('frame', now)\n\n        if ( !this.howl || this.scrubbing ){ return }\n\n        if ( isPlaying ){\n          this.time = time\n        }\n      }\n    })\n\n    this.$once('hook:beforeDestroy', () => {\n      cleanup()\n    })\n\n    this.$on('end', () => {\n      this.paused = true\n      this.ended = true\n    })\n\n    this.$on('seek', () => { this.ended = false })\n    this.$on('togglePause', () => { this.ended = false })\n\n    const noSleep = new NoSleep()\n\n    this.$watch('paused', isPaused => {\n      if ( isPaused ){\n        noSleep.disable()\n      } else {\n        noSleep.enable()\n      }\n    })\n\n    let wasPlayingMusic = false\n    this.$once('play', () => {\n      if ( this.musicHowl ){\n        wasPlayingMusic = true\n        this.musicHowl.play()\n      }\n    })\n\n    const pauseOnWindowHidden = () => {\n      if ( Visibility.isHidden() ){\n        this.pause()\n\n        if ( this.musicHowl ){\n          this.musicHowl.pause()\n        }\n      } else {\n        if ( this.musicHowl && wasPlayingMusic ){\n          this.musicHowl.play()\n        }\n      }\n    }\n\n    Visibility.onChange( pauseOnWindowHidden )\n    this.$on('hook:beforeDestroy', () => {\n      Visibility.offChange( pauseOnWindowHidden )\n    })\n  }\n  , destroyed(){\n    if ( this.howls ){\n      this.howls.forEach( h => h.unload() )\n    }\n    if ( this.musicHowl ){\n      this.musicHowl.unload()\n    }\n  }\n  , watch: {\n    howl: {\n      handler( newHowl, oldHowl ){\n        this.totalTime = -1\n        this.time = 0\n\n        if ( oldHowl ){\n          oldHowl.pause()\n          // remove all events\n          oldHowl.off()\n        }\n\n        newHowl.on('load', this.setTotalTime.bind(this))\n        newHowl.on('loaderror', this.announceError.bind(this))\n        newHowl.on('play', () => { this.paused = false })\n        newHowl.on('pause', () => { this.paused = true })\n        newHowl.on('end', () => { this.$emit('end') })\n        // fix for dumb bug with seeking\n        newHowl.on('fade', () => { this._mlio_volume = null })\n        newHowl.load().seek(0)\n      }\n      , immediate: true\n    }\n    , howls( newHowls, oldHowls ){\n      if (oldHowls){\n        oldHowls.forEach( h => h.unload() )\n      }\n    }\n    , volume( val ){\n      Howler.volume( val )\n    }\n    , musicVolume( val ){\n      let m = this.musicHowl\n      if ( !m ) return\n\n      m.volume( val * this.music.maxVolume )\n    }\n  }\n  , computed: {\n    howls(){\n      if ( !this.playlist ){ return [] }\n      return this.playlist.filter( e => e.files ).map( entry => {\n        return new Howl({\n          src: entry.files\n          , preload: false\n        })\n      })\n    }\n    , howl(){\n      if ( !this.howls.length ){ return null }\n      return this.howls[ this.playIndex ]\n    }\n    , musicHowl(){\n      if ( !this.music ){ return }\n      return new Howl({\n        src: this.music.audio\n        , preload: true\n        , loop: true\n        , volume: this.music.maxVolume\n      })\n    }\n    , nowPlaying(){\n      if ( !this.playlist ){ return { title: '' } }\n      return this.playlist[ this.playIndex ]\n    }\n    , loading(){\n      return this.totalTime === -1\n    }\n  }\n  , methods: {\n    announceError( err ){\n      console.log( err ) // eslint-disable-line no-console\n      const exception = err.message || err\n      this.$ga.exception(exception)\n    }\n    , setTotalTime(){\n      this.totalTime = this.howl.duration() * 1000\n    }\n    , togglePlay(){\n      if ( !this.howl ){ return }\n      if ( !this.paused ){\n        this.pause()\n      } else {\n        this.play()\n      }\n    }\n    , pause(){\n      this.howl.pause()\n      this.$emit('pause')\n      this.$emit('togglePause', true)\n    }\n    , play(){\n      this.howl.play()\n      this.$emit('play')\n      this.$emit('togglePause', false)\n    }\n    , previous(){\n      this.setTrack( this.playIndex - 1 )\n    }\n    , next(){\n      this.setTrack( this.playIndex + 1 )\n    }\n    , setTrack( index ){\n      if ( index < 0 ){ return }\n      if ( index >= this.playlist.length ){ return }\n\n      let name = this.playlist[ index ].routeName\n\n      this.pause()\n      this.$router.push({ name })\n    }\n    , seek( time ){\n      this.time = time\n      this.seekAudio()\n      this.$emit('seek')\n    }\n    , seekAudio: _throttle(function(){\n      let vol = this.howl._mlio_volume || (this.howl._mlio_volume = this.howl.volume())\n      this.howl.fade( vol, 0, 10 )\n      setTimeout( () => {\n        this.howl.seek( this.time / 1000 )\n        this.howl.fade( 0, vol, 100 )\n      }, 10)\n    }, 200)\n  }\n}\n</script>\n\n<style scoped lang=\"sass\">\n.loading-overlay\n  z-index: 100\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./player.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./player.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./player.vue?vue&type=template&id=69e95553&scoped=true&lang=pug&\"\nimport script from \"./player.vue?vue&type=script&lang=js&\"\nexport * from \"./player.vue?vue&type=script&lang=js&\"\nimport style0 from \"./player.vue?vue&type=style&index=0&id=69e95553&scoped=true&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69e95553\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"player-controls\",class:{ paused: _vm.player.paused }},[_c('AudioScrubber',{attrs:{\"progress\":_vm.progress},on:{\"scrub\":_vm.onScrub,\"scrubstart\":function($event){_vm.player.scrubbing = true},\"scrubend\":function($event){_vm.player.scrubbing = false}}}),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"toc\"},[_c('b-dropdown',{attrs:{\"position\":\"is-top-left\"}},[_c('div',{staticClass:\"button btn-toc is-fullwidth\",attrs:{\"slot\":\"trigger\"},slot:\"trigger\"},[_c('span',[_vm._v(_vm._s(_vm.player.nowPlaying.title))]),_c('b-icon',{attrs:{\"icon\":\"chevron-up\",\"size\":\"is-small\"}})],1),_vm._l((_vm.player.playlist),function(item,index){return _c('b-dropdown-item',{key:item.title,on:{\"click\":function($event){return _vm.player.setTrack(index)}}},[_vm._v(_vm._s(_vm.player.itemType)+\" \"+_vm._s(index + 1)+\": \"+_vm._s(item.title))])})],2)],1),_c('div',{staticClass:\"time-total\"},[_vm._v(_vm._s(_vm._f(\"duration\")(_vm.player.totalTime)))]),_c('div',{staticClass:\"time-elapsed\"},[_vm._v(_vm._s(_vm._f(\"duration\")(_vm.player.time)))])]),_c('div',{staticClass:\"controls\"},[_c('div',{staticClass:\"volume\"},[_c('b-dropdown',{staticClass:\"mini\",attrs:{\"mobile-modal\":false,\"hoverable\":false,\"position\":\"is-top-right\"}},[_c('div',{staticClass:\"button btn-dark\",attrs:{\"slot\":\"trigger\"},slot:\"trigger\"},[_c('b-icon',{attrs:{\"icon\":_vm.volumeIcon}})],1),_c('b-dropdown-item',{staticClass:\"no-outline\",attrs:{\"custom\":\"\"}},[_c('div',{staticClass:\"columns is-mobile\"},[_c('div',{staticClass:\"column\"},[_c('b-icon',{attrs:{\"icon\":\"volume-high\"}}),_c('vue-slider',{staticClass:\"slider\",attrs:{\"dotSize\":19,\"height\":100,\"width\":8,\"direction\":\"btt\",\"tooltip\":\"none\",\"contained\":true,\"max\":1,\"min\":0,\"interval\":0.01},model:{value:(_vm.player.volume),callback:function ($$v) {_vm.$set(_vm.player, \"volume\", $$v)},expression:\"player.volume\"}})],1),_c('div',{staticClass:\"column\"},[_c('b-icon',{attrs:{\"icon\":\"music\"}}),_c('vue-slider',{staticClass:\"slider\",attrs:{\"dotSize\":19,\"height\":100,\"width\":8,\"direction\":\"btt\",\"tooltip\":\"none\",\"contained\":true,\"max\":1,\"min\":0,\"interval\":0.01},model:{value:(_vm.player.musicVolume),callback:function ($$v) {_vm.$set(_vm.player, \"musicVolume\", $$v)},expression:\"player.musicVolume\"}})],1)])])],1)],1),_c('div',{staticClass:\"btn clickable\",class:{ disabled: _vm.player.playIndex <= 0 },on:{\"click\":_vm.player.previous}},[_c('b-icon',{attrs:{\"icon\":\"skip-previous\",\"size\":\"is-large\"}})],1),_c('div',{staticClass:\"btn clickable\",on:{\"click\":_vm.togglePlay}},[(!_vm.player.ended)?_c('div',{staticClass:\"playpause\"}):_vm._e(),(_vm.player.ended)?_c('b-icon',{staticClass:\"play-again\",attrs:{\"icon\":\"replay\",\"size\":\"is-large\"}}):_vm._e()],1),_c('div',{staticClass:\"btn clickable\",class:{ disabled: _vm.isLast },on:{\"click\":_vm.player.next}},[_c('b-icon',{class:{'pulse-text': !_vm.isLast && _vm.player.ended },attrs:{\"icon\":\"skip-next\",\"size\":\"is-large\"}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nexport default {\n  name: 'AudioScrubber'\n  , functional: true\n  , props: {\n    progress: Number\n  }\n  , render(h, ctx){\n    let currentProgress = ctx.props.progress\n    let style = { transform: `translate(${currentProgress}%)` }\n    const $emit = (name, ...args) => {\n      let cb = ctx.listeners[name]\n      if (cb){\n        cb.apply(null, args)\n      }\n    }\n    return h('div',\n      {\n        class: 'scrubber'\n        , directives: [\n          {\n            name: 'drag'\n            , value: ( e ) => {\n              let el = e.el\n              let x = e.layerX\n              let progress = x / el.offsetWidth * 100\n              progress = Math.min(Math.max(0, progress), 100)\n              if ( e.first ){\n                $emit('scrubstart')\n              }\n              if ( e.last ){\n                $emit('scrubend')\n              }\n              if ( progress === currentProgress ){ return }\n              $emit('scrub', progress)\n            }\n          }\n        ]\n      }\n      , [\n        h('div', { class: 'nib', style })\n        , h('div', { class: 'inner' }, [\n          h('div', { class: 'progress-bar', style })\n        ])\n      ]\n    )\n  }\n}\n</script>\n\n<style scoped lang=\"sass\">\n$pending-color: $grey-darker\n$progress-color: lighten($primary, 8)\n.scrubber\n  position: relative\n  z-index: 1\n  padding-top: 6px\n  margin: -8px 0\n  width: 100%\n  height: 16px\n  -webkit-touch-callout: none\n  -webkit-user-select: none\n  -khtml-user-select: none\n  -moz-user-select: none\n  -ms-user-select: none\n  user-select: none\n  -webkit-tap-highlight-color:  rgba(255, 255, 255, 0)\n  cursor: pointer\n  .nib\n    position: absolute\n    top: 0px\n    left: 0px\n    width: 100%\n    z-index: 1\n    will-change: transform\n    // transition: transform 0.01s ease-in\n    &:after\n      content: ''\n      position: absolute\n      left: -5px\n      top: 3px\n      display: block\n      background: $progress-color\n      width: 10px\n      height: 10px\n      border-radius: 10px\n  .inner\n    position: relative\n    overflow: hidden\n    height: 4px\n    background: $pending-color\n  .progress-bar\n    position: relative\n    right: 100%\n    width: 100%\n    height: 100%\n    background: $progress-color\n    will-change: transform\n    // border-radius: 0 6px 6px 0\n    // transition: transform 0.01s ease-in\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./audio-scrubber.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./audio-scrubber.vue?vue&type=script&lang=js&\"","<template lang=\"pug\">\n.player-controls(:class=\"{ paused: player.paused }\")\n  AudioScrubber(:progress=\"progress\", @scrub=\"onScrub\", @scrubstart=\"player.scrubbing = true\", @scrubend=\"player.scrubbing = false\")\n  .info\n    .toc\n      b-dropdown(position=\"is-top-left\")\n        .button.btn-toc.is-fullwidth(slot=\"trigger\")\n          span {{ player.nowPlaying.title }}\n          b-icon(icon=\"chevron-up\", size=\"is-small\")\n        b-dropdown-item(v-for=\"(item, index) in player.playlist\", :key=\"item.title\", @click=\"player.setTrack(index)\")\n          | {{ player.itemType }} {{ index + 1 }}: {{ item.title }}\n    .time-total {{ player.totalTime | duration }}\n    .time-elapsed {{ player.time | duration }}\n\n  .controls\n    .volume\n      b-dropdown.mini(:mobile-modal=\"false\", :hoverable=\"false\", position=\"is-top-right\")\n        .button.btn-dark(slot=\"trigger\")\n          b-icon(:icon=\"volumeIcon\")\n        b-dropdown-item.no-outline(custom)\n          .columns.is-mobile\n            .column\n              b-icon(icon=\"volume-high\")\n              vue-slider.slider(\n                v-model=\"player.volume\"\n                , :dotSize=\"19\"\n                , :height=\"100\"\n                , :width=\"8\"\n                , direction=\"btt\"\n                , tooltip=\"none\"\n                , :contained=\"true\"\n                , :max=\"1\"\n                , :min=\"0\"\n                , :interval=\"0.01\"\n              )\n            .column\n              b-icon(icon=\"music\")\n              vue-slider.slider(\n                v-model=\"player.musicVolume\"\n                , :dotSize=\"19\"\n                , :height=\"100\"\n                , :width=\"8\"\n                , direction=\"btt\"\n                , tooltip=\"none\"\n                , :contained=\"true\"\n                , :max=\"1\"\n                , :min=\"0\"\n                , :interval=\"0.01\"\n              )\n    .btn.clickable(@click=\"player.previous\", :class=\"{ disabled: player.playIndex <= 0 }\")\n      b-icon(icon=\"skip-previous\", size=\"is-large\")\n    .btn.clickable(@click=\"togglePlay\")\n      .playpause(v-if=\"!player.ended\")\n      b-icon.play-again(v-if=\"player.ended\", icon=\"replay\", size=\"is-large\")\n    .btn.clickable(@click=\"player.next\", :class=\"{ disabled: isLast }\")\n      b-icon(icon=\"skip-next\", size=\"is-large\", :class=\"{'pulse-text': !isLast && player.ended }\")\n</template>\n\n<script>\nimport _debounce from 'lodash/debounce'\nimport vueSlider from 'vue-slider-component'\nimport 'vue-slider-component/theme/default.css'\nimport AudioScrubber from '@/components/audio-scrubber'\n\nexport default {\n  name: 'PlayerControls'\n  , inject: [ 'player' ]\n  , props: {\n\n  }\n  , components: {\n    AudioScrubber\n    , vueSlider\n  }\n  , data: () => ({\n  })\n  , computed: {\n    progress(){\n      return this.player.time / this.player.totalTime * 100\n    }\n    , isLast(){\n      return this.player.playIndex >= (this.player.playlist.length - 1)\n    }\n    , volumeIcon(){\n      let vol = this.player.volume\n      return vol === 0 ?\n        'volume-off' : vol < 0.3 ?\n        'volume-low' : vol < 0.7 ?\n        'volume-medium':\n        'volume-high'\n    }\n  }\n  , methods: {\n    onScrub( progress ){\n      let time = progress * this.player.totalTime / 100\n      this.player.seek( time )\n      this.trackScrub()\n    }\n    , trackScrub: _debounce(function(){\n      this.$ga.event(\n        'player'\n        , 'scrub'\n        , this.player.nowPlaying.title\n        , this.player.time | 0\n      )\n    }, 1000)\n    , togglePlay(){\n      let wasPaused = this.player.paused\n      this.player.togglePlay()\n      this.$ga.event(\n        'player'\n        , wasPaused ? 'play' : 'pause'\n        , this.player.nowPlaying.title\n        , this.player.time | 0\n      )\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"sass\">\n.player-controls\n  position: relative\n  max-width: 100vw\n  color: $text\n.info\n  margin-top: 2px\n  display: flex\n  flex-direction: row\n  justify-content: center\n  flex-grow: 1\n  flex-wrap: nowrap\n  .toc\n    margin-top: 16px\n    margin-bottom: -6px\n    max-width: 100%\n    align-self: center\n\n    .btn-toc\n      background: $background\n      border-color: $background\n      color: $text\n  .time-total,\n  .time-elapsed\n    position: absolute\n    top: 9px\n    right: 3px\n    text-align: right\n    font-family: $family-monospace\n    font-size: 14px\n  .time-elapsed\n    right: auto\n    left: 3px\n.controls\n  display: flex\n  flex-direction: row\n  justify-content: center\n  .volume\n    position: absolute\n    left: 0.5em\n    bottom: 1.15em\n  .btn\n    margin: 0 12px 12px\n    border-radius: 50%\n    transition: 0.1s color ease\n    &:active,\n    &:hover\n      color: $primary\n\n    &.disabled\n      color: inherit\n      opacity: 0.5\n      cursor: auto\n    // border: 1px solid $grey-light\n.right\n  display: flex\n  flex-direction: column\n  flex: 1\n  padding: 2px 8px 2px 0\n\n.playlist-nav\n  display: flex\n  flex-direction: row\n  align-self: flex-end\n\n  .dropdown\n    flex: 1\n\n.play-again\n  transform: rotate(-20deg)\n\n.playpause\n  $size: 26px\n  display: block\n  margin: 11px 13px\n  width: 0\n  height: $size\n  border-style: double\n  border-width: 0px 0 0px round($size * 0.85)\n  border-color: transparent transparent transparent $text\n  // transform: translate( 0, 0 )\n  transition: 0.1s all ease\n\n  &:active,\n  &:hover\n    border-left-color: $primary\n\n  .paused &\n    border-style: solid\n    border-width: ($size/2) 0 ($size/2) round($size * 0.85)\n    // transform: translate( 3px, 0 )\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./player-controls.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./player-controls.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./player-controls.vue?vue&type=template&id=dd1fd39c&scoped=true&lang=pug&\"\nimport script from \"./player-controls.vue?vue&type=script&lang=js&\"\nexport * from \"./player-controls.vue?vue&type=script&lang=js&\"\nimport style0 from \"./player-controls.vue?vue&type=style&index=0&id=dd1fd39c&scoped=true&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dd1fd39c\",\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\nPlayer.player(:playlist=\"playlist\", :play-index=\"playIndex\", :music=\"music\")\n  template(slot-scope=\"playerProps\")\n    .main(ref=\"main\")\n      router-view(v-if=\"viewWidth\", :player-loading=\"playerProps.loading\", :view-width=\"viewWidth\", :view-height=\"viewHeight\")\n    .panel-bottom\n      PlayerControls()\n</template>\n\n<script>\n// import Promise from 'bluebird'\n// import PubSub from '@/lib/pubsub'\nimport _debounce from 'lodash/debounce'\nimport Player from '@/components/player'\nimport PlayerControls from '@/components/player-controls'\n\nexport default {\n  name: 'PlayerUI'\n  , props: {\n\n  }\n  , components: {\n    Player\n    , PlayerControls\n  }\n  , data: () => ({\n    viewWidth: 0\n    , viewHeight: 0\n  })\n  , created(){\n    const onResize = _debounce(() => this.getViewDimensions(), 100)\n    window.addEventListener( 'resize', onResize, { passive: true } )\n\n    this.$once('hook:beforeDestroy', () => {\n      window.removeEventListener( 'resize', onResize )\n    })\n  }\n  , mounted(){\n    this.getViewDimensions()\n  }\n  , computed: {\n    playlist(){\n      let playerRoute = this.$router.options.routes.find( r => r.name === 'player' )\n      return playerRoute.children.map( r => ({\n        routeName: r.name\n        , title: r.meta.title\n        , files: r.meta.audio\n      }))\n    }\n    , playIndex(){\n      let title = this.$route.meta.title\n      return this.playlist.findIndex( p => p.title === title )\n    }\n    , music(){\n      let playerRoute = this.$router.options.routes.find( r => r.name === 'player' )\n      return playerRoute.meta.music\n    }\n  }\n  , methods: {\n    getViewDimensions(){\n      this.viewWidth = this.$refs.main.offsetWidth\n      this.viewHeight = this.$refs.main.offsetHeight\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"sass\">\n.player\n  position: absolute\n  top: 0\n  left: 0\n  bottom: 0\n  right: 0\n  display: flex\n  flex-direction: column\n  justify-content: flex-end\n.panel-bottom\n  background: $background\n  padding-top: 2px\n.main\n  position: relative\n  flex: 1\n  overflow: hidden\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./player-ui.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./player-ui.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./player-ui.vue?vue&type=template&id=112075d2&scoped=true&lang=pug&\"\nimport script from \"./player-ui.vue?vue&type=script&lang=js&\"\nexport * from \"./player-ui.vue?vue&type=script&lang=js&\"\nimport style0 from \"./player-ui.vue?vue&type=style&index=0&id=112075d2&scoped=true&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"112075d2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about scrollbars\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"section\"},[_c('div',{staticClass:\"content\"},[_vm._m(0),_c('h2',{staticClass:\"title is-size-3\"},[_vm._v(\"How to use this thing\")]),_c('p',[_vm._v(\"This video will give you a good introduction to the simulator\")]),_c('responsive-embed',{attrs:{\"ratio\":16/9,\"max-width\":560}},[_c('iframe',{attrs:{\"width\":\"560\",\"height\":\"315\",\"src\":\"https://www.youtube.com/embed/6nMo8T3T0L4\",\"frameborder\":\"0\",\"allow\":\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\",\"allowfullscreen\":\"\"}})]),_c('br'),_c('p',[_vm._v(\"The idea for this lab came from Primer. This video explains the basics of the model.\\n\")]),_c('responsive-embed',{attrs:{\"ratio\":16/9,\"max-width\":560}},[_c('iframe',{attrs:{\"width\":\"560\",\"height\":\"315\",\"src\":\"https://www.youtube.com/embed/0ZGbIKd0XrM\",\"frameborder\":\"0\",\"allow\":\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\",\"allowfullscreen\":\"\"}})]),_c('br'),_c('p',[_vm._v(\"Soon more complex models will be added with different rules... so stay tuned!\\n\")]),_c('h3',{staticClass:\"title is-size-3\"},[_vm._v(\"CSV Export\")]),_c('p',[_vm._v(\"You can download the data generated on the Trends page. It will generate a CSV\\nwith as many generations as you set in the simulation settings. If you want to\\ndownload data for only one species, set the species filter at the top of the\\nTrends page before clicking \\\"Download\\\".\\n\")]),_c('h3',{staticClass:\"title is-size-3\"},[_vm._v(\"How to Support my Work\")]),_c('p',[_vm._v(\"I release all content online for free, so user support is the only way I can continue\\nmaking things like this. If my work helps you as much as a cup of coffee does,\\nconsider supporting current and future work any way you can.\\n\")]),_c('p',[_vm._v(\"Besides sharing the apps with others, here are some other ways to help:\")]),_c('br'),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column has-text-centered\"},[_c('p',[_vm._v(\"Donate through \"),_c('br'),_c('a',{staticClass:\"button is-info is-medium\",attrs:{\"href\":\"https://github.com/sponsors/wellcaffeinated\",\"target\":\"_blank\"}},[_c('b-icon',{attrs:{\"icon\":\"heart\"}}),_c('span',[_vm._v(\"Github Sponsors\")])],1)])]),_vm._m(1)]),_c('h2',{staticClass:\"title is-size-3\"},[_vm._v(\"Credits\")]),_vm._m(2),_c('p',[_vm._v(\"All of the code was written by yours truly (Jasper), but I couldn't\\nhave made it look so good without Sarah Berman's artistic direction and\\ndrawings.\")]),_vm._m(3),_c('h3',{staticClass:\"title is-size-3\"},[_vm._v(\"Source Code\")]),_vm._m(4),_c('h3',{staticClass:\"title is-size-3\"},[_vm._v(\"Bug Reports\")]),_vm._m(5)],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"has-text-centered\"},[_c('div',{staticClass:\"is-inline-block\"},[_c('img',{attrs:{\"src\":\"social-thumbnail.jpg\",\"alt\":\"Evolution Simulator by MinuteLabs.io and Primer\"}})]),_c('h1',{staticClass:\"is-sr-only\"},[_vm._v(\"Evolution Simulator by MinuteLabs.io and Primer\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"column has-text-centered\"},[_c('p',[_vm._v(\"Subscribe on Patreon \"),_c('br'),_c('a',{attrs:{\"href\":\"https://www.patreon.com/bePatron?u=617966\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":\"https://c5.patreon.com/external/logo/become_a_patron_button@2x.png\",\"width\":\"217\",\"height\":\"51\"}})])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"The original idea behind this came from\\n\"),_c('a',{attrs:{\"href\":\"https://www.youtube.com/watch?v=0ZGbIKd0XrM\",\"target\":\"_blank\"}},[_vm._v(\"Primer's wonderful video.\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"And as always, this was made possible by ths support of the\\n\"),_c('a',{attrs:{\"href\":\"https://minuteearth.com\",\"target\":\"_blank\"}},[_vm._v(\"MinuteEarth team\")]),_vm._v(\".\\n\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"As always, freely available on\\n\"),_c('a',{attrs:{\"href\":\"https://github.com/minutelabsio/evolution-simulator\",\"target\":\"_blank\"}},[_vm._v(\"github\")]),_vm._v(\".\\n\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"If you find a bug, you can post it on\\n\"),_c('a',{attrs:{\"href\":\"https://www.patreon.com/minutelabsio\",\"target\":\"_blank\"}},[_vm._v(\"patreon\")]),_vm._v(\",\\n\"),_c('a',{attrs:{\"href\":\"mailto:bugs@minutelabs.io\"}},[_vm._v(\"email us\")]),_vm._v(\",\\nor post it on \"),_c('a',{attrs:{\"href\":\"https://github.com/minutelabsio/evolution-simulator\",\"target\":\"_blank\"}},[_vm._v(\"github\")]),_vm._v(\".\")])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"responsive-embed-wrap\",style:({ maxWidth: _vm.maxWidth + 'px' })},[_c('div',{staticClass:\"responsive-embed\",style:({ paddingTop: (1/_vm.ratio * 100) + '%' })},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.responsive-embed-wrap(:style=\"{ maxWidth: maxWidth + 'px' }\")\n  .responsive-embed(:style=\"{ paddingTop: (1/ratio * 100) + '%' }\")\n    slot\n</template>\n\n<script>\nexport default {\n  name: 'responsive-embed'\n  , props: {\n    ratio: {\n      type: Number\n      , default: 1\n    }\n    , maxWidth: Number\n  }\n  , data: () => ({\n  })\n  , components: {\n  }\n  , mounted(){\n  }\n  // , computed: {\n  // }\n  , methods: {\n  }\n}\n</script>\n\n<style lang=\"sass\">\n@import '@/styles/_variables.scss'\n.responsive-embed-wrap\n  margin: auto\n.responsive-embed\n  position: relative\n  > *\n    position: absolute\n    top: 0\n    left: 0\n    right: 0\n    bottom: 0\n    width: 100%\n    height: 100%\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./responsive-embed.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./responsive-embed.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./responsive-embed.vue?vue&type=template&id=c40dd250&lang=pug&\"\nimport script from \"./responsive-embed.vue?vue&type=script&lang=js&\"\nexport * from \"./responsive-embed.vue?vue&type=script&lang=js&\"\nimport style0 from \"./responsive-embed.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flower-chart\",class:{ 'show-center-value': _vm.centerHover, 'show-values': _vm.showValues, 'no-hover': _vm.valuesOutside },style:({ width: _vm.size + 'px', height: _vm.size + 'px', transform: 'rotate(-0.25turn)' })},[_c('svg',{ref:\"svg\",attrs:{\"viewBox\":_vm.viewbox,\"width\":_vm.size,\"height\":_vm.size}},[_c('circle',{staticClass:\"outer\",attrs:{\"r\":_vm.valuesOutside ? 0.5 : 1,\"fill\":\"none\"}}),_c('g',{staticClass:\"petals\",attrs:{\"transform\":(\"rotate(\" + _vm.globalAngle + \")\")}},_vm._l((_vm.petalSVG),function(svg,index){return _c('g',_vm._b({staticClass:\"petal\",on:{\"click\":function($event){return _vm.onPetalClick(index)}}},'g',svg.group,false),[_c('path',_vm._b({staticClass:\"hover-area\"},'path',svg.hoverArea,false)),_c('path',_vm._b({},'path',svg.petal,false)),_c('text',_vm._b({},'text',svg.text,false),[_vm._v(_vm._s(svg.label))])])}),0),(_vm.showCenter)?_c('g',{staticClass:\"center\",on:{\"mouseenter\":function($event){_vm.centerHover = true && !_vm.showValues},\"mouseleave\":function($event){_vm.centerHover = false},\"click\":_vm.onCenterClick}},[_c('circle',{attrs:{\"r\":_vm.center,\"fill\":_vm.colors.center}}),_c('circle',{staticClass:\"hover-area\",attrs:{\"r\":\"0.3\"}}),_c('text',{attrs:{\"transform\":\"rotate(90)\",\"dy\":_vm.showValues ? 0.03 : -0.3,\"alignment-baseline\":\"middle\"}},[_vm._v(_vm._s(_vm.data.center))])]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.flower-chart(\n  :style=\"{ width: size + 'px', height: size + 'px', transform: 'rotate(-0.25turn)' }\"\n  , :class=\"{ 'show-center-value': centerHover, 'show-values': showValues, 'no-hover': valuesOutside }\"\n)\n  svg(ref=\"svg\", :viewBox=\"viewbox\", :width=\"size\", :height=\"size\")\n    circle.outer(:r=\"valuesOutside ? 0.5 : 1\", fill=\"none\")\n    g.petals(:transform=\"`rotate(${globalAngle})`\")\n      g.petal(v-for=\"(svg, index) in petalSVG\", v-bind=\"svg.group\", @click=\"onPetalClick(index)\")\n        path.hover-area(v-bind=\"svg.hoverArea\")\n        path(v-bind=\"svg.petal\")\n        text(v-bind=\"svg.text\") {{ svg.label }}\n    g.center(v-if=\"showCenter\", @mouseenter=\"centerHover = true && !showValues\", @mouseleave=\"centerHover = false\", @click=\"onCenterClick\")\n      circle(:r=\"center\", :fill=\"colors.center\")\n      circle.hover-area(r=\"0.3\")\n      text(transform=\"rotate(90)\", :dy=\"showValues ? 0.03 : -0.3\", alignment-baseline=\"middle\") {{ data.center }}\n</template>\n\n<script>\nimport chroma from 'chroma-js'\n\nconst Pi2 = Math.PI * 2\n\nfunction scale(min, max, z){\n  if ( max === min ){ return 1 }\n  return (z - min) / (max - min)\n}\n\nfunction lerp(a, b, t) {\n  return a * (1 - t) + b * t\n}\n\nfunction petalPath(r, arc){\n  let x = Math.cos(0.5 * arc)\n  let y = Math.sin(0.5 * arc)\n  // M x0 y0\n  // A rx ry x-axis-rotation large-arc-flag sweep-flag x y\n  // L x2 y2\n  return `M ${r * x} ${-r * y} A ${r} ${r} 0 0 1 ${r * x} ${r * y} L 0 0`\n}\n\nexport default {\n  name: 'FlowerChart'\n  , filters: {\n    fixed(v, n){\n      if (v === undefined){ return '' }\n      return v.toFixed(n)\n    }\n  }\n  , props: {\n    size: {\n      type: Number\n      , default: 50\n    }\n    , data: {\n      type: Object\n      , default: () => ({})\n    }\n    , colors: {\n      type: Object\n      , default: () => ({\n        center: '#e6e6e6'\n        , petals: chroma.scale('Set1').colors(8)\n      })\n    }\n    , dataRanges: {\n      type: Object\n      , default: () => ({\n        center: [0, 1]\n        , petals: [0, 1]\n      })\n    }\n    , petalWidth: {\n      type: Number\n      , default: 1 - 1 / 1.618\n    }\n    , showValues: {\n      type: Boolean\n      , default: false\n    }\n    , topPetal: {\n      type: Number\n      , default: 0\n    }\n    , showCenter: {\n      type: Boolean\n      , default: true\n    }\n    , valuesOutside: {\n      type: Boolean\n      , default: false\n    }\n  }\n  , data: () => ({\n    viewbox: '-1.1 -1.1 2.2 2.2'\n    , centerHover: false\n  })\n  , mounted(){\n  }\n  , watch: {\n  }\n  , computed: {\n    globalAngle(){\n      return -360 * this.topPetal / this.petals.length\n    }\n    , center(){\n      return this.centerScale(this.data.center) || 0\n    }\n    , centerScale(){\n      let size = 0.25\n      let range = this.dataRanges.center\n      let min = range[0]\n      let max = range[1]\n      return v => size * scale(min, max, v)\n    }\n    , petals(){\n      return (this.data.petals || []).map((value, i) => ({\n        value\n        , scaled: this.petalScales[i](value) * (this.valuesOutside ? 0.5 : 1)\n      }))\n    }\n    , petalScales(){\n      let minSize = this.centerScale(this.dataRanges.center[1])\n      let ranges = this.dataRanges.petals\n\n      return this.data.petals.map((p, i) => {\n        let range = ranges[i]\n        if ( !Array.isArray(range) ){\n          range = ranges\n        }\n        let min = range[0]\n        let max = range[1]\n        return v => {\n          if (isNaN(v) || v === undefined){\n            return 0\n          }\n          return lerp(minSize, 1, scale(min, max, v))\n        }\n      })\n    }\n    , petalSVG(){\n      let colors = this.colors.petals\n      let colorSpaceSize = colors.length\n      let len = this.petals.length\n      let frac = len / this.petalWidth\n      let ang = Pi2 / frac\n      let ga = this.globalAngle\n\n      return this.petals.map((p, i) => {\n        // M x0 y0\n        // A rx ry x-axis-rotation large-arc-flag sweep-flag x y\n        // L x2 y2\n        let fill = colors[i % colorSpaceSize]\n        let d = petalPath(p.scaled, ang)\n        let rot = 360 * (i / len)\n        let transform = `rotate(${rot})`\n\n        let group = { transform }\n        let petal = { d, fill }\n\n        d = petalPath(1, Pi2 / len)\n\n        let hoverArea = { d, fill }\n\n        let textFill = chroma.mix(fill, this.valuesOutside ? 'black' : 'white', 0.6).css()\n        let text = {\n          transform: `translate(0.8, 0) rotate(${-rot - ga + 90})`\n          , 'alignment-baseline': 'middle'\n          , style: { stroke: textFill, fill: textFill }\n        }\n\n        let label\n\n        if (isNaN(p.value) || p.value === undefined){\n          label = 'N/A'\n        } else {\n          label = p.value.toFixed(2)\n        }\n\n        return {\n          group\n          , petal\n          , hoverArea\n          , text\n          , label\n          , value: p.value\n        }\n      })\n    }\n  }\n  , methods: {\n    onPetalClick(index){\n      let data = this.data.petals[index]\n      this.$emit('select', {\n        petal: true\n        , index\n        , data\n      })\n    }\n    , onCenterClick(){\n      let data = this.data.center\n      this.$emit('select', {\n        center: true\n        , data\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.flower-chart\n  display: inline-block\nsvg\n  font-size: .3px\ntext\n  fill: white\n  stroke: black\n  stroke-width: 0\n  text-anchor: middle\n  text-shadow: 0 0 1px white\n.petals\n  transition: transform 0.5s ease\n.petal\n  transition: all 0.15s ease\n  cursor: pointer\n  path\n    transition: fill 0.15s ease\n  .hover-area\n    opacity: 0.05\n    transition: opacity 0.15s ease\n  text\n    opacity: 0\n    transition: opacity 0.15s ease, transform 0.5s ease\n  &:hover\n    .hover-area\n      opacity: 0.2\n    text\n      opacity: 1\ncircle\n  stroke-width: 0.03\n  stroke: #222\ncircle.outer\n  stroke-width: 0.01\n  stroke: rgb(43, 43, 43)\n.center\n  cursor: pointer\n  text\n    opacity: 0\n    transition: opacity 0.15s ease\n  .hover-area\n    fill: white\n    stroke-width: 0\n    opacity: 0\n.show-center-value\n  .petal\n    opacity: 0.1\n    path,\n    text\n      fill: grey\n  .center\n    text\n      opacity: 1\n.no-hover\n  .center, .petal\n    text\n      opacity: 1\n// overrides to show values only\n.show-values\n  .petal,\n  .center\n    .hover-area\n      opacity: 1\n    text\n      opacity: 1\n  .center\n    text\n      fill: $grey-dark\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flower-chart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flower-chart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./flower-chart.vue?vue&type=template&id=63af28cc&scoped=true&lang=pug&\"\nimport script from \"./flower-chart.vue?vue&type=script&lang=js&\"\nexport * from \"./flower-chart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./flower-chart.vue?vue&type=style&index=0&id=63af28cc&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63af28cc\",\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n.about.scrollbars\n  .container\n    .section\n      .content\n        .has-text-centered\n          .is-inline-block\n            img(src=\"social-thumbnail.jpg\", alt=\"Evolution Simulator by MinuteLabs.io and Primer\")\n          h1.is-sr-only Evolution Simulator by MinuteLabs.io and Primer\n\n        h2.title.is-size-3 How to use this thing\n\n        p This video will give you a good introduction to the simulator\n\n        responsive-embed(:ratio=\"16/9\", :max-width=\"560\")\n          iframe(width=\"560\", height=\"315\", src=\"https://www.youtube.com/embed/6nMo8T3T0L4\", frameborder=\"0\", allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\", allowfullscreen)\n\n        br/\n        p.\n          The idea for this lab came from Primer. This video explains the basics of the model.\n\n        responsive-embed(:ratio=\"16/9\", :max-width=\"560\")\n          iframe(width=\"560\", height=\"315\", src=\"https://www.youtube.com/embed/0ZGbIKd0XrM\", frameborder=\"0\", allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\", allowfullscreen)\n        br/\n        p.\n          Soon more complex models will be added with different rules... so stay tuned!\n\n        h3.title.is-size-3 CSV Export\n\n        p.\n          You can download the data generated on the Trends page. It will generate a CSV\n          with as many generations as you set in the simulation settings. If you want to\n          download data for only one species, set the species filter at the top of the\n          Trends page before clicking \"Download\".\n\n        h3.title.is-size-3 How to Support my Work\n\n        p.\n          I release all content online for free, so user support is the only way I can continue\n          making things like this. If my work helps you as much as a cup of coffee does,\n          consider supporting current and future work any way you can.\n\n        p Besides sharing the apps with others, here are some other ways to help:\n\n        br/\n        .columns\n          .column.has-text-centered\n            p Donate through <br/>\n              a.button.is-info.is-medium(href=\"https://github.com/sponsors/wellcaffeinated\", target=\"_blank\")\n                b-icon(icon=\"heart\")\n                span Github Sponsors\n          .column.has-text-centered\n            p.\n              Subscribe on Patreon <br/>\n              <a href=\"https://www.patreon.com/bePatron?u=617966\" target=\"_blank\">\n                <img src=\"https://c5.patreon.com/external/logo/become_a_patron_button@2x.png\" width=\"217\" height=\"51\">\n              </a>\n\n        h2.title.is-size-3 Credits\n        p.\n          The original idea behind this came from\n          <a href=\"https://www.youtube.com/watch?v=0ZGbIKd0XrM\" target=\"_blank\">Primer's wonderful video.</a>\n        p.\n          All of the code was written by yours truly (Jasper), but I couldn't\n          have made it look so good without Sarah Berman's artistic direction and\n          drawings.\n        p.\n          And as always, this was made possible by ths support of the\n          <a href=\"https://minuteearth.com\" target=\"_blank\">MinuteEarth team</a>.\n\n        h3.title.is-size-3 Source Code\n        p.\n          As always, freely available on\n          <a href=\"https://github.com/minutelabsio/evolution-simulator\" target=\"_blank\">github</a>.\n\n        h3.title.is-size-3 Bug Reports\n        p.\n          If you find a bug, you can post it on\n          <a href=\"https://www.patreon.com/minutelabsio\" target=\"_blank\">patreon</a>,\n          <a href=\"mailto:bugs@minutelabs.io\">email us</a>,\n          or post it on <a href=\"https://github.com/minutelabsio/evolution-simulator\" target=\"_blank\">github</a>.\n\n</template>\n\n<script>\nimport ResponsiveEmbed from '@/components/responsive-embed'\nimport FlowerChart from '@/components/flower-chart'\n\nexport default {\n  name: 'About'\n  , components: {\n    ResponsiveEmbed\n    , FlowerChart\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.about\n  padding-top: 5rem\n  max-height: 100%\n  overflow: auto\n  .container\n    max-width: 1020px\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./about.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./about.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./about.vue?vue&type=template&id=e42bfca8&scoped=true&lang=pug&\"\nimport script from \"./about.vue?vue&type=script&lang=js&\"\nexport * from \"./about.vue?vue&type=script&lang=js&\"\nimport style0 from \"./about.vue?vue&type=style&index=0&id=e42bfca8&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e42bfca8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"playground\",class:{ 'header-bg': _vm.$route.name !== 'viewscreen' }},[(_vm.showConfig)?_c('SimulationConfig',{staticClass:\"cfg scrollbars\"}):_vm._e(),_c('transition',{attrs:{\"name\":\"slide-down\",\"appear\":\"\"}},[(!_vm.showIntro)?_c('div',{staticClass:\"top-bar\"},[_c('a',{staticClass:\"logo\",attrs:{\"href\":\"https://minutelabs.io\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/logo-dark.png\")}})]),_c('router-link',{attrs:{\"to\":{ name: 'about' }}},[_c('span',[_vm._v(\"About\")])]),_c('router-link',{attrs:{\"to\":{ params: _vm.$route.params, name: 'viewscreen' }}},[_c('span',[_vm._v(\"World\")])]),_c('router-link',{attrs:{\"to\":{ params: _vm.$route.params, name: 'stats' }}},[_c('span',[_vm._v(\"Trends\")])])],1):_vm._e()]),_c('transition',{attrs:{\"name\":\"slide-down\",\"appear\":\"\"}},[(!_vm.hideSettings && !_vm.showIntro || _vm.tourStepNumber === 6)?_c('div',{staticClass:\"center-bar\"},[(!_vm.showConfig)?_c('router-link',{staticClass:\"button is-primary is-rounded\",attrs:{\"to\":{ query: { cfg: _vm.$route.query.cfg ? undefined : '1' } },\"append\":\"\",\"exact\":\"\"}},[_c('span',[_vm._v(\"Settings\")])]):_vm._e()],1):_vm._e()]),_c('div',{staticClass:\"upper\"},[_c('keep-alive',{attrs:{\"includes\":\"ViewScreen\"}},[_c('router-view',{ref:\"view\"})],1)],1),_c('transition',{attrs:{\"name\":\"bottom-drawer-slide\",\"appear\":\"\"},on:{\"after-appear\":_vm.fixLayout,\"after-enter\":_vm.fixLayout,\"after-leave\":_vm.fixLayout}},[(!_vm.hideControls && !_vm.showIntro)?_c('div',{staticClass:\"bottom-drawer\"},[_c('div',{staticClass:\"floating-more-btn\"},[_c('b-field',[_c('p',{staticClass:\"control\"},[_c('b-tooltip',{attrs:{\"label\":\"Run the simulation with a new random seed\",\"position\":\"is-left\"}},[_c('b-button',{staticClass:\"is-outlined btn-dark\",attrs:{\"loading\":_vm.isContinuing,\"icon-right\":\"dice-5\"},on:{\"click\":_vm.shuffleSimulation}})],1)],1),_c('p',{staticClass:\"control\"},[_c('b-tooltip',{attrs:{\"label\":\"More Generations...\",\"position\":\"is-left\"}},[_c('b-button',{staticClass:\"is-outlined btn-dark\",attrs:{\"loading\":_vm.isContinuing,\"icon-right\":\"layers-plus\"},on:{\"click\":_vm.continueSimulation}})],1)],1),_c('p',{staticClass:\"control\"},[_c('b-tooltip',{attrs:{\"label\":\"Toggle Drawer\",\"position\":\"is-left\"}},[_c('b-button',{staticClass:\"is-outlined btn-dark\",attrs:{\"icon-right\":_vm.showBottomDrawer ? 'menu-down' : 'menu-up'},on:{\"click\":function($event){_vm.showBottomDrawer = !_vm.showBottomDrawer}}})],1)],1)])],1),_c('transition',{attrs:{\"name\":\"collapse\"},on:{\"after-enter\":_vm.fixLayout,\"after-leave\":_vm.fixLayout}},[(_vm.showBottomDrawer)?_c('div',{staticClass:\"bottom-drawer-content\"},[_c('b-loading',{staticClass:\"loading-overlay\",attrs:{\"is-full-page\":false,\"active\":_vm.isLoading}}),_c('Drawer',{staticClass:\"legend-drawer\",attrs:{\"direction\":\"right\",\"start-open\":_vm.legendStartsOpen}},[_c('Legend',{staticClass:\"legend\",attrs:{\"data\":_vm.flowerLegend},on:{\"select\":function($event){return _vm.propertySelect($event.index)}}},[_c('li'),_c('li',{staticClass:\"clickable has-text-right\"},[_c('b-tooltip',{attrs:{\"label\":\"Flower diagrams show the averages of traits relative to the maximum and minimum values over all generations\",\"position\":\"is-top\",\"multilined\":\"\"}},[_c('b-icon',{attrs:{\"icon\":\"help-circle\"}}),_c('span',[_vm._v(\"info\")])],1)],1)])],1),_c('div',{staticClass:\"generation-selector\",class:{ 'is-finished': !_vm.canContinue }},[_c('FlowerTimeline',{attrs:{\"data\":_vm.flowerTimelineData,\"data-ranges\":_vm.flowerRanges,\"colors\":_vm.flowerColors,\"topPetal\":_vm.topPetal},on:{\"dataSelect\":function($event){_vm.genIndex === $event.generation && _vm.propertySelect($event.selected.index)}},scopedSlots:_vm._u([{key:\"before\",fn:function(){return [_c('div',{staticClass:\"flower-timeline-spacer\"})]},proxy:true},(_vm.canContinue)?{key:\"after\",fn:function(){return [_c('div',{staticClass:\"more-btn\"},[_c('b-button',{staticClass:\"btn-dark\",attrs:{\"loading\":_vm.isContinuing,\"size\":\"is-large\",\"icon-right\":\"layers-plus\"},on:{\"click\":_vm.continueSimulation}})],1),_c('div',{staticClass:\"flower-timeline-spacer\"})]},proxy:true}:{key:\"after\",fn:function(){return [_c('div',{staticClass:\"extinct-status\"},[_c('img',{attrs:{\"src\":require(\"@/assets/status-icons/extinction.svg\"),\"width\":\"70\"}})]),_c('div',{staticClass:\"flower-timeline-spacer\"})]},proxy:true}],null,true),model:{value:(_vm.genIndex),callback:function ($$v) {_vm.genIndex=$$v},expression:\"genIndex\"}})],1)],1):_vm._e()])],1):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// https://www.brainpickings.org/2019/11/29/paul-sougy/\nexport default Object.freeze({\n  red: '#d20f18' //'#E60F10'\n  , crimson: '#640302'\n  , blue: '#1f698e'\n  , cyan: '#07C7FB'\n  , green: '#b7d65a'\n  , lime: '#97F61B'\n  , darkGreen: '#246B26'\n  , orange: '#f47e18'\n  , yellow: '#FDDE3B'\n  , violet: '#c86f87'\n  , seafoam: '#1cc1aa'\n  , cream: '#EEEDD6'\n  , ivory: '#FFFDFC'\n  , pink: '#e71376'\n  , brown: '#23070C'\n  , lightBrown: '#643D37'\n  , sand: '#615c45'\n  , grey: '#5f5e55'\n})\n","import sougy from '@/config/sougy-colors'\nexport default Object.freeze({\n  'speed': sougy.red\n  , 'sense_range': sougy.cyan\n  , 'size': sougy.seafoam\n  , 'life_span': sougy.violet\n  , 'age': sougy.yellow\n  , 'age_at_death': sougy.ivory\n  , 'population': sougy.cream\n  , 'energy': sougy.yellow\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flower-timeline scrollbars\",on:{\"wheel\":_vm.onScroll}},[_c('div',{staticClass:\"inner\"},[_vm._t(\"before\"),_vm._l((_vm.data),function(gen,index){return _c('div',{staticClass:\"generation\",class:{ selected: index === _vm.selected },on:{\"click\":function($event){_vm.selected = index}}},[_c('FlowerChart',{key:index,attrs:{\"data\":gen,\"data-ranges\":_vm.dataRanges,\"size\":100,\"colors\":_vm.colors,\"top-petal\":_vm.topPetal},on:{\"select\":function($event){return _vm.onFlowerSelect($event, index)}}}),_c('div',{staticClass:\"gen-label no-select\"},[_vm._v(_vm._s(index + 1))])],1)}),_vm._t(\"after\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.flower-timeline.scrollbars(@wheel=\"onScroll\")\n  .inner\n    slot(name=\"before\")\n    .generation(\n      v-for=\"(gen, index) in data\"\n      , @click=\"selected = index\"\n      , :class=\"{ selected: index === selected }\"\n    )\n      FlowerChart(\n        :data=\"gen\"\n        , :data-ranges=\"dataRanges\"\n        , :size=\"100\"\n        , :colors=\"colors\"\n        , :key=\"index\"\n        , :top-petal=\"topPetal\"\n        , @select=\"onFlowerSelect($event, index)\"\n      )\n      .gen-label.no-select {{ index + 1 }}\n    slot(name=\"after\")\n</template>\n\n<script>\nimport { scrollTo } from 'vue-scrollto'\nimport FlowerChart from '@/components/flower-chart'\n\nconst components = {\n  FlowerChart\n}\n\nconst computed = {\n  selected: {\n    get(){ return this.value }\n    , set(val){ this.$emit('input', val) }\n  }\n}\n\nconst watch = {\n  value: {\n    handler(){\n      this.focusSelected()\n    }\n    , immediate: true\n  }\n  , data(data, oldValue){\n    if (!oldValue || !oldValue.length){\n      this.focusSelected()\n    }\n  }\n}\n\nconst methods = {\n  onScroll( e ){\n    // e.preventDefault()\n    const el = this.$el\n    if ( e.deltaY ){\n      el.scrollLeft += e.deltaY\n    }\n  }\n  , onFlowerSelect( selected, generation ){\n    this.$emit('dataSelect', {\n      generation\n      , selected\n    })\n  }\n  , focusSelected(){\n    this.$nextTick(() => {\n      scrollTo('.selected', 500, {\n        container: this.$el\n        , x: true\n        , y: false\n        , offset: (el) => {\n          return -(this.$el.offsetWidth - el.offsetWidth) / 2\n        }\n      })\n    })\n  }\n}\n\nexport default {\n  name: 'FlowerTimeline'\n  , props: {\n    data: Array\n    , dataRanges: Object\n    , colors: Object\n    , topPetal: Number\n    , value: Number // selected generation\n  }\n  , data: () => ({\n  })\n  , components\n  , computed\n  , watch\n  , methods\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.flower-timeline\n  overflow: hidden\n  width: 100%\n  min-height: 148px\n  -webkit-overflow-scrolling: touch\n  overflow-x: auto\n  // border: 1px solid transparentize($grey, 0.8)\n\n  .inner\n    display: flex\n    min-height: 146px\n    // flex-wrap: nowrap\n  .generation\n    flex: 0 0 auto\n    text-align: center\n    cursor: pointer\n    transition: background 0.15s ease\n    &:hover\n      background-color: rgba(255, 255, 255, 0.05)\n    &:active,\n    &.selected\n      transition: none\n      background-color: transparentize($primary, 0.8)\n  .gen-label\n    margin-bottom: 1em\n  >>>\n    circle.outer\n      fill: $black-bis\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flower-timeline.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flower-timeline.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./flower-timeline.vue?vue&type=template&id=2f482d10&scoped=true&lang=pug&\"\nimport script from \"./flower-timeline.vue?vue&type=script&lang=js&\"\nexport * from \"./flower-timeline.vue?vue&type=script&lang=js&\"\nimport style0 from \"./flower-timeline.vue?vue&type=style&index=0&id=2f482d10&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f482d10\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {\nvar _obj;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"drawer\",class:( _obj = { collapsed: !_vm.isOpen }, _obj['direction-' + _vm.direction] = true, _obj )},[_c('button',{staticClass:\"collapse-bar\",on:{\"click\":function($event){_vm.isOpen = !_vm.isOpen}}},[_c('b-icon',{attrs:{\"icon\":_vm.isOpen ? _vm.closeIcon : _vm.openIcon}})],1),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.drawer(:class=\"{ collapsed: !isOpen, ['direction-' + direction]: true }\")\n  button.collapse-bar(@click=\"isOpen = !isOpen\")\n    b-icon(:icon=\"isOpen ? closeIcon : openIcon\")\n  slot\n</template>\n\n<script>\nconst components = {\n\n}\n\nconst computed = {\n  isOpen: {\n    get(){\n      if (this.open === undefined){\n        return this.openState\n      } else {\n        return this.open\n      }\n    }\n    , set(v){\n      this.openState = v\n      this.$emit('update:open', v)\n    }\n  }\n  , closeIcon(){\n    switch (this.direction) {\n      case 'right':\n        return 'menu-left'\n      case 'left':\n        return 'menu-right'\n      case 'up':\n        return 'menu-down'\n      case 'down':\n        return 'menu-up'\n    }\n  }\n  , openIcon(){\n    switch (this.direction) {\n      case 'right':\n        return 'menu-right'\n      case 'left':\n        return 'menu-left'\n      case 'up':\n        return 'menu-up'\n      case 'down':\n        return 'menu-down'\n    }\n  }\n}\n\nconst watch = {\n}\n\nconst methods = {\n}\n\nexport default {\n  name: 'Drawer'\n  , props: {\n    open: {\n      type: Boolean\n      , default: undefined\n    }\n    , startOpen: {\n      type: Boolean\n    }\n    , direction: {\n      type: String\n      // TODO....\n      , validator: v => (['right', 'up', 'left', 'down'].indexOf(v) > -1)\n      , default: 'left'\n    }\n  }\n  , data(){ return ({\n    openState: this.startOpen\n  })}\n  , components\n  , computed\n  , watch\n  , methods\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.drawer\n  position: absolute\n  z-index: 1\n  // min-width: 60px\n  padding: 1.5em\n  // padding-left: 2em\n  border: 1px solid darken($grey, 10)\n  background: rgba(0, 0, 0, 0.3)\n  backdrop-filter: blur(3px)\n  box-shadow: 1px 2px 3px rgba(0, 0, 0, 0.3)\n\n  transition: transform 0.4s ease\n\n  .collapse-bar\n    position: absolute\n    border: none\n    overflow: hidden\n    background: transparentize($background, 0.1)\n    padding: 0\n    color: $text\n    cursor: pointer\n    outline: none\n    transition: background 0.15s ease\n    &:hover\n      background: $background\n    &:active\n      background: lighten($background, 2)\n    .icon\n      width: 100%\n\n  &.direction-left\n    right: 0\n    border-radius: 4px 0 0 4px\n    border-right: none\n    &.collapsed\n      transform: translate3d(calc(100% - 20px), 0, 0)\n\n    .collapse-bar\n      top: 0\n      left: 0\n      bottom: 0\n      width: 20px\n      border-radius: 4px 0 0 4px\n\n  &.direction-right\n    left: 0\n    border-radius: 0 4px 4px 0\n    border-left: none\n    &.collapsed\n      transform: translate3d(calc(-100% + 20px), 0, 0)\n\n    .collapse-bar\n      top: 0\n      right: 0\n      bottom: 0\n      width: 20px\n      border-radius: 0 4px 4px 0\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./drawer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./drawer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./drawer.vue?vue&type=template&id=abbc309c&scoped=true&lang=pug&\"\nimport script from \"./drawer.vue?vue&type=script&lang=js&\"\nexport * from \"./drawer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./drawer.vue?vue&type=style&index=0&id=abbc309c&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"abbc309c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"legend\"},[_vm._l((_vm.data),function(item,index){return _c('li',{staticClass:\"clickable\",on:{\"click\":function($event){return _vm.$emit('select', { item: item, index: index })}}},[_c('span',{staticClass:\"color\",style:({ 'background-color': item.color })}),_c('span',[_vm._v(_vm._s(_vm._f(\"startCase\")(item.name)))])])}),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\nul.legend\n  li.clickable(v-for=\"(item, index) in data\", @click=\"$emit('select', { item, index })\")\n    span.color(:style=\"{ 'background-color': item.color }\")\n    span {{ item.name | startCase }}\n  slot\n</template>\n\n<script>\nexport default {\n  name: 'Legend'\n  , props: {\n    data: Array\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.legend\n  display: flex\n  flex-direction: row\n  flex-wrap: wrap\n  padding-left: 2em\n  font-family: $family-monospace\n  font-size: 0.95rem\n  li:not(:last-child)\n    display: flex\n    align-items: center\n    // margin-right: 1em\n    // margin-bottom: 0.5em\n    width: 50%\n    white-space: nowrap\n    &:hover\n      text-decoration: underline\n.color\n  display: inline-block\n  width: 1em\n  height: 1em\n  margin-right: 1ex\n  border-radius: 3px\n  flex-shrink: 0\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./legend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./legend.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./legend.vue?vue&type=template&id=08042aa2&scoped=true&lang=pug&\"\nimport script from \"./legend.vue?vue&type=script&lang=js&\"\nexport * from \"./legend.vue?vue&type=script&lang=js&\"\nimport style0 from \"./legend.vue?vue&type=style&index=0&id=08042aa2&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08042aa2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"config\"},[_c('div',{staticClass:\"inner\"},[_c('a',{staticClass:\"close\",on:{\"click\":_vm.close}},[_c('b-icon',{attrs:{\"icon\":\"close-circle-outline\",\"size\":\"is-large\"}})],1),_c('div',{staticClass:\"content has-text-centered\"},[_c('h1',{staticClass:\"title is-size-3\"},[_vm._v(\"Simulation Settings\")]),_c('p',[_vm._v(\"Modify the settings then click \\\"Evolve!\\\". \"),_c('br'),_vm._v(\"More details about how this all works can be found in the \"),_c('router-link',{attrs:{\"to\":{ name: 'about' },\"append\":\"\"}},[_vm._v(\"about page\")]),_vm._v(\".\")],1)]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column has-text-centered\"},[_c('b-field',{staticClass:\"is-inline-block\"},[_c('div',{staticClass:\"number-input-group\"},[_c('NumberInput',{attrs:{\"label\":\"Days to run\",\"min\":1,\"max\":2000,\"change-rate\":10},model:{value:(_vm.maxGenerations),callback:function ($$v) {_vm.maxGenerations=$$v},expression:\"maxGenerations\"}}),_c('NumberInput',{attrs:{\"label\":\"Random Seed\",\"min\":1,\"change-rate\":10},model:{value:(_vm.seed),callback:function ($$v) {_vm.seed=$$v},expression:\"seed\"}})],1)])],1)])]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"has-text-centered\"},[_c('b-field',[_c('b-button',{staticClass:\"button is-primary is-large\",attrs:{\"loading\":_vm.isLoading},on:{\"click\":_vm.run}},[_vm._v(\"Evolve!\")])],1),_c('p',{staticClass:\"muted\"},[_vm._v(\"(by natural selection)\")])],1)]),_c('b-tabs',{attrs:{\"position\":\"is-centered\",\"animated\":false},model:{value:(_vm.tabItem),callback:function ($$v) {_vm.tabItem=$$v},expression:\"tabItem\"}},[_c('b-tab-item',{attrs:{\"label\":\"Creatures\"}},[_c('b-tabs',{attrs:{\"type\":\"is-toggle\",\"position\":\"is-centered\",\"animated\":false}},_vm._l((_vm.creatureConfigs),function(species,key){return _c('b-tab-item',{key:key,attrs:{\"label\":species.name},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('span',[_vm._v(_vm._s(species.name)+\" Blobs \")]),(key !== 'default')?_c('b-icon',{class:species.active ? 'has-text-success' : 'has-text-danger',attrs:{\"icon\":species.active ? 'check' : 'cancel',\"size\":\"is-small\"}}):_vm._e()]},proxy:true}],null,true)},[_c('div',{staticClass:\"content\"},[_c('CreatureTemplateConfig',{attrs:{\"species\":key}})],1)])}),1)],1),_c('b-tab-item',{attrs:{\"label\":\"Food\"}},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column has-text-right-tablet has-text-centered\"},[_c('p',[_vm._v(\"We will randomly place this much food to start\")]),_c('div',{staticClass:\"is-inline-block\"},[_c('NumberInput',{attrs:{\"label\":\"Food\",\"min\":0,\"max\":1000,\"change-rate\":10,\"condensed\":\"\",\"color\":_vm.foodColor},model:{value:(_vm.foodPerGeneration),callback:function ($$v) {_vm.foodPerGeneration=$$v},expression:\"foodPerGeneration\"}})],1)]),_c('div',{staticClass:\"column has-text-left-tablet has-text-centered\"},[_c('p',[_vm._v(\"And can change the food over time...\"),_c('br'),_c('span',{staticClass:\"muted\"},[_vm._v(\"(click the graph to add control points)\")])]),(_vm.tabItem === 1)?_c('div',{staticClass:\"is-inline-block\"},[_c('FoodControl')],1):_vm._e()])])])])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"number-input control input\",class:{ condensed: _vm.condensed },on:{\"click\":function($event){return _vm.$refs.input.focus()}}},[_c('div',{staticClass:\"label\"},[_c('span',[_vm._v(_vm._s(_vm.label))])]),_c('div',{staticClass:\"controls\"},[_c('div',{staticClass:\"slider\"},[_c('vue-slider',{attrs:{\"min\":-1,\"max\":1,\"interval\":0.1,\"tooltip\":\"none\",\"process\":_vm.sliderProcess,\"contained\":true},on:{\"drag-start\":function($event){return _vm.sliderDrag(true)},\"change\":function($event){return _vm.sliderDrag(_vm.sliderIsDragging)},\"drag-end\":function($event){return _vm.sliderDrag(false)}},model:{value:(_vm.sliderValue),callback:function ($$v) {_vm.sliderValue=$$v},expression:\"sliderValue\"}})],1),_c('div',{staticClass:\"in\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.displayValue),expression:\"displayValue\",modifiers:{\"number\":true}}],ref:\"input\",attrs:{\"type\":\"number\",\"step\":_vm.step},domProps:{\"value\":(_vm.displayValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.displayValue=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.number-input.control.input(\n  @click=\"$refs.input.focus()\"\n  , :class=\"{ condensed }\"\n)\n  .label\n    span {{ label }}\n  .controls\n    .slider\n      vue-slider(\n        v-model=\"sliderValue\"\n        , :min=\"-1\"\n        , :max=\"1\"\n        , :interval=\"0.1\"\n        , tooltip=\"none\"\n        , :process=\"sliderProcess\"\n        , :contained=\"true\"\n        , @drag-start=\"sliderDrag(true)\"\n        , @change=\"sliderDrag(sliderIsDragging)\"\n        , @drag-end=\"sliderDrag(false)\"\n      )\n    .in\n      input(ref=\"input\", type=\"number\", v-model.number=\"displayValue\", :step=\"step\")\n</template>\n\n<script>\nimport chroma from 'chroma-js'\nimport _throttle from 'lodash/throttle'\n\nfunction nearest(v, s){\n  let figs = Math.max(0, (`${s}`).length - 2)\n  return +((Math.round(v / s) * s).toFixed(figs))\n}\n\nexport default {\n  name: 'NumberInput'\n  , props: {\n    label: String\n    , value: Number\n    , condensed: Boolean\n    , color: [String, Number]\n    , trueColor: Boolean\n    , step: {\n      type: Number\n      , default: 1\n    }\n    , changeRate: {\n      type: Number\n      , default: 10\n    }\n    , min: {\n      type: Number\n    }\n    , max: {\n      type: Number\n    }\n  }\n  , data: () => ({\n    sliderValue: 0\n    , sliderIsDragging: false\n    , sliderProcess: dotsPos => [[50, dotsPos[0]]],\n  })\n  , components: {\n\n  }\n  , created(){\n    this.lastUpdate = 0\n  }\n  , mounted(){\n  }\n  , computed: {\n    backgroundColor(){\n      if (!this.color){ return '' }\n      return chroma(this.color).alpha(this.trueColor ? 0.8 : 0.15)\n    }\n    , borderColor(){\n      if (!this.color){ return '' }\n      return chroma(this.color).alpha(this.trueColor ? 0.8 : 0.3)\n    }\n    , displayValue: {\n      get(){\n        return this.sanitizeValue(this.value)\n      }\n      , set(v){\n        this.$emit('input', this.sanitizeValue(v))\n      }\n    }\n  }\n  , watch: {\n    sliderIsDragging(drag){\n      if (drag){\n        this.changeValue()\n      }\n    }\n    , borderColor: {\n      handler(c){\n        if (!c){ return }\n        this.$nextTick(() => {\n          this.$el.style.setProperty('--border-color', c.css())\n          this.$el.style.setProperty('--border-color-hover', c.alpha(this.trueColor ? 1 : 0.4).css())\n          this.$el.style.setProperty('--border-color-focus', c.alpha(this.trueColor ? 1 : 0.6).css())\n        })\n      }\n      , immediate: true\n    }\n  }\n  , methods: {\n    sanitizeValue(v){\n      v = nearest(v, this.step)\n      if (this.min !== undefined){\n        v = Math.max(this.min, v)\n      }\n      if (this.max !== undefined){\n        v = Math.min(this.max, v)\n      }\n      return v\n    }\n    , sliderDrag(drag){\n      this.sliderIsDragging = !!drag\n      if (!drag && this.sliderValue){\n        this.$nextTick(() => {\n          this.sliderValue = 0\n        })\n      }\n    }\n    , changeValue: _throttle(function(){\n      if (!this.sliderIsDragging){ return }\n      let now = window.performance.now()\n      let delay = 50\n      let dt = 0\n\n      let v = this.sliderValue\n\n      if (v === 0){ return this.changeValue() }\n\n      let dv = v * v * this.changeRate / 10\n\n      let frac = this.step / dv\n\n      if (frac > 1){\n        dt = Math.min(frac * delay, 1000)\n      }\n\n      if ((+this.lastUpdate + dt) < now){\n        this.displayValue += Math.max(this.step, dv) * (v >= 0 ? 1 : -1)\n        this.lastUpdate = now\n      }\n\n      this.changeValue()\n    }, 50)\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.number-input\n  --default-border-color: #{$grey-darker}\n  --default-border-color-hover: #{desaturate(darken($cream, 60), 30)}\n  --default-border-color-focus: #{desaturate(darken($cream, 55), 30)}\n  --border-color: var(--default-border-color)\n  --border-color-hover: var(--default-border-color-hover)\n  --border-color-focus: var(--default-border-color-focus)\n\n  >>> .vue-slider-process\n    background-color: $ivory\n  >>> .vue-slider-rail\n    background-color: var(--border-color-hover)\n\n  display: flex\n  align-items: stretch\n  padding: 0\n  transition: border 0.15s ease\n  font-family: $family-monospace\n  border-color: var(--border-color)\n  height: auto\n  width: 23rem\n  background: $black-bis\n\n  @media screen and (max-width: $tablet)\n    width: 100%\n\n  &:hover,\n  &:active\n    border-color: var(--border-color-hover)\n    box-shadow: none\n  &:focus,\n  &:focus-within\n    border-color: var(--border-color-focus)\n\n  .controls\n    display: flex\n\n  .slider\n    display: flex\n    align-items: center\n    width: 100px\n    margin-left: calc(0.625em - 1px)\n\n    &:before\n      content: '-'\n      position: relative\n      top: -1px\n    &:after\n      content: '+'\n    >>> .vue-slider\n      flex: 1\n\n  .label,\n  input\n    padding-bottom: calc(0.375em - 1px)\n    padding-left: calc(0.625em - 1px)\n    padding-right: calc(0.625em - 1px)\n    padding-top: calc(0.375em - 1px)\n\n  .label\n    margin-bottom: 0\n    font-weight: normal\n    color: $text\n    background: $black-ter //desaturate(darken($cream, 76), 33) // desaturate(darken($blue, 21), 40)\n    border-radius: 3px 0 0 3px\n    box-shadow: 1px 0 0px $black-bis\n    display: flex\n    align-items: center\n    justify-content: center\n    min-width: 8rem\n    text-align: center\n    text-shadow: 0 0 1px var(--border-color-focus)\n\n  .in\n    flex: 1\n\n  input\n    font-size: 1rem\n    color: $text\n    background: none\n    height: 100%\n    width: 100%\n    border: none\n    // flex: 1\n    border-radius: 3px\n    text-align: center\n    font-family: $family-monospace\n    padding: 2px 0 0\n\n    &::-webkit-inner-spin-button,\n    &::-webkit-outer-spin-button\n      -webkit-appearance: none\n      margin: 0\n\n    &:focus\n      border: none\n      outline: none\n      background: none\n\n  &.condensed\n    width: auto\n    .label\n      min-width: 5rem\n    .controls\n      width: 8rem\n      padding: 4px 0\n      flex-direction: column-reverse\n\n    .slider\n      width: auto\n      margin-right: calc(0.625em - 1px)\n\n</style>\n\n<style lang=\"sass\">\n.number-input-group\n  display: flex\n  flex-direction: column\n\n  > .number-input\n    position: relative\n    z-index: 0\n    border-radius: 0\n    border-color: var(--default-border-color)\n    overflow: hidden\n\n    &:after\n      content: ''\n      pointer-events: none\n      position: absolute\n      top: 0\n      left: 0\n      bottom: 0\n      right: 0\n      z-index: 1\n      transition: box-shadow .15s ease\n\n    &:hover,\n    &:active\n      border-color: var(--default-border-color)\n\n      &:after\n        box-shadow: inset 0 0 2px var(--border-color-hover)\n\n    &:focus,\n    &:focus-within\n      border-color: var(--default-border-color)\n      &:after\n        box-shadow: inset 0 0 2px var(--border-color-focus)\n    &:first-child\n      border-radius: 3px 3px 0 0\n    &:last-child\n      border-radius: 0 0 3px 3px\n    &:not(:last-child)\n      border-bottom: none\n    // &:hover + .number-input,\n    // &:active + .number-input\n    //   border-top-color: var(--default-border-color-hover)\n    // &:focus + .number-input,\n    // &:focus-within + .number-input\n    //   border-top-color: var(--default-border-color-focus)\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./number-input.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./number-input.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./number-input.vue?vue&type=template&id=63f5f686&scoped=true&lang=pug&\"\nimport script from \"./number-input.vue?vue&type=script&lang=js&\"\nexport * from \"./number-input.vue?vue&type=script&lang=js&\"\nimport style0 from \"./number-input.vue?vue&type=style&index=0&id=63f5f686&lang=sass&scoped=true&\"\nimport style1 from \"./number-input.vue?vue&type=style&index=1&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63f5f686\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"creature-template-config\"},[_c('div',{staticClass:\"content\"},[(_vm.species !== 'default')?_c('p',{staticClass:\"has-text-centered\"},[_c('b-switch',{model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_vm._v(\"Enabled\")])],1):_c('p',{staticClass:\"has-text-centered\"},[_vm._v(\"(Always enabled)\")])]),(_vm.active)?[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"columns\"},[_vm._m(0),_c('div',{staticClass:\"column has-text-left-tablet has-text-centered\"},[_c('div',{staticClass:\"is-inline-block\"},[_c('NumberInput',{attrs:{\"label\":\"Num. Blobs at Start\",\"min\":1,\"max\":1000,\"change-rate\":10,\"condensed\":\"\",\"color\":_vm.creatureColors[_vm.species],\"true-color\":\"\"},model:{value:(_vm.creatureCount),callback:function ($$v) {_vm.creatureCount=$$v},expression:\"creatureCount\"}})],1)])]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"columns\"},[_vm._m(1),_c('div',{staticClass:\"column has-text-left-tablet has-text-centered\"},[_c('div',{staticClass:\"is-inline-block\"},[_c('NumberInput',{attrs:{\"label\":\"Energy\",\"min\":0,\"change-rate\":100,\"condensed\":\"\",\"color\":_vm.traitColors.energy},model:{value:(_vm.energy),callback:function ($$v) {_vm.energy=$$v},expression:\"energy\"}})],1)])])]),_c('div',{staticClass:\"columns\"},[_vm._m(2),_c('div',{staticClass:\"column has-text-left-tablet has-text-centered\"},[_c('div',{staticClass:\"is-inline-block\"},[_c('div',{staticClass:\"number-input-group\"},[_c('NumberInput',{attrs:{\"label\":\"Speed\",\"min\":0.05,\"change-rate\":10,\"color\":_vm.traitColors.speed},model:{value:(_vm.speedValue),callback:function ($$v) {_vm.speedValue=$$v},expression:\"speedValue\"}}),_c('NumberInput',{attrs:{\"label\":\"Size\",\"min\":0.05,\"change-rate\":10,\"color\":_vm.traitColors.size},model:{value:(_vm.sizeValue),callback:function ($$v) {_vm.sizeValue=$$v},expression:\"sizeValue\"}}),_c('NumberInput',{attrs:{\"label\":\"Sense Range\",\"min\":0.01,\"change-rate\":10,\"color\":_vm.traitColors.sense_range},model:{value:(_vm.sense_rangeValue),callback:function ($$v) {_vm.sense_rangeValue=$$v},expression:\"sense_rangeValue\"}})],1)]),_c('p',{staticClass:\"warning\"},[_c('b-icon',{attrs:{\"icon\":\"alert-box-outline\"}}),_c('span',[_vm._v(\"Caution: setting these values too low without also lowering the energy will result in a very long calculation.\")])],1)])]),_c('div',{staticClass:\"columns\"},[_vm._m(3),_c('div',{staticClass:\"column has-text-left-tablet has-text-centered\"},[_c('div',{staticClass:\"is-inline-block\"},[_c('div',{staticClass:\"number-input-group\"},[_c('NumberInput',{attrs:{\"label\":\"σ² Speed\",\"min\":0,\"max\":10,\"change-rate\":1,\"step\":0.1,\"color\":_vm.traitColors.speed},model:{value:(_vm.speedVariance),callback:function ($$v) {_vm.speedVariance=$$v},expression:\"speedVariance\"}}),_c('NumberInput',{attrs:{\"label\":\"σ² Size\",\"min\":0,\"max\":10,\"change-rate\":1,\"step\":0.1,\"color\":_vm.traitColors.size},model:{value:(_vm.sizeVariance),callback:function ($$v) {_vm.sizeVariance=$$v},expression:\"sizeVariance\"}}),_c('NumberInput',{attrs:{\"label\":\"σ² Sense\",\"min\":0,\"max\":10,\"change-rate\":1,\"step\":0.1,\"color\":_vm.traitColors.sense_range},model:{value:(_vm.sense_rangeVariance),callback:function ($$v) {_vm.sense_rangeVariance=$$v},expression:\"sense_rangeVariance\"}})],1)])])])])]:_vm._e()],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"column has-text-right-tablet has-text-centered\"},[_c('p',[_vm._v(\"Start with this many creatures\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"column has-text-right-tablet has-text-centered\"},[_c('p',[_vm._v(\"Creatures will start with this much energy\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"column has-text-right-tablet has-text-centered\"},[_c('p',[_vm._v(\"and each creature will start with these properties\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"column has-text-right-tablet has-text-centered\"},[_c('p',[_vm._v(\"The traits will mutate by randomly selecting a value\\n(in a gaussian normal distribution) centered around their current trait value\\nwith a variance of...\")])])}]\n\nexport { render, staticRenderFns }","import chroma from 'chroma-js'\nimport sougy from '@/config/sougy-colors'\n\nexport const creatureColors = {\n  'default': chroma(sougy.blue).desaturate(0.5).num()\n  , 'orange': chroma(sougy.orange).num()\n  , 'pink': chroma(sougy.pink).num()\n}\n","<template lang=\"pug\">\n.creature-template-config\n  .content\n    p.has-text-centered(v-if=\"species !== 'default'\")\n      b-switch(v-model=\"active\") Enabled\n    p.has-text-centered(v-else) (Always enabled)\n  template(v-if=\"active\")\n    .content\n      .columns\n        .column.has-text-right-tablet.has-text-centered\n          p Start with this many creatures\n        .column.has-text-left-tablet.has-text-centered\n          .is-inline-block\n            NumberInput(v-model=\"creatureCount\", label=\"Num. Blobs at Start\", :min=\"1\", :max=\"1000\", :change-rate=\"10\", condensed, :color=\"creatureColors[species]\", true-color)\n\n      .content\n        .columns\n          .column.has-text-right-tablet.has-text-centered\n            p Creatures will start with this much energy\n          .column.has-text-left-tablet.has-text-centered\n            .is-inline-block\n              NumberInput(v-model=\"energy\", label=\"Energy\", :min=\"0\", :change-rate=\"100\", condensed, :color=\"traitColors.energy\")\n\n      .columns\n        .column.has-text-right-tablet.has-text-centered\n          p and each creature will start with these properties\n        .column.has-text-left-tablet.has-text-centered\n          .is-inline-block\n            .number-input-group\n              NumberInput(v-model=\"speedValue\", label=\"Speed\", :min=\"0.05\", :change-rate=\"10\", :color=\"traitColors.speed\")\n              NumberInput(v-model=\"sizeValue\", label=\"Size\", :min=\"0.05\", :change-rate=\"10\", :color=\"traitColors.size\")\n              NumberInput(v-model=\"sense_rangeValue\", label=\"Sense Range\", :min=\"0.01\", :change-rate=\"10\", :color=\"traitColors.sense_range\")\n          p.warning\n            b-icon(icon=\"alert-box-outline\")\n            span Caution: setting these values too low without also lowering the energy will result in a very long calculation.\n\n      .columns\n        .column.has-text-right-tablet.has-text-centered\n          p.\n            The traits will mutate by randomly selecting a value\n            (in a gaussian normal distribution) centered around their current trait value\n            with a variance of...\n        .column.has-text-left-tablet.has-text-centered\n          .is-inline-block\n            .number-input-group\n              NumberInput(v-model=\"speedVariance\", label=\"σ² Speed\", :min=\"0\", :max=\"10\", :change-rate=\"1\", :step=\"0.1\", :color=\"traitColors.speed\")\n              NumberInput(v-model=\"sizeVariance\", label=\"σ² Size\", :min=\"0\", :max=\"10\", :change-rate=\"1\", :step=\"0.1\", :color=\"traitColors.size\")\n              NumberInput(v-model=\"sense_rangeVariance\", label=\"σ² Sense\", :min=\"0\", :max=\"10\", :change-rate=\"1\", :step=\"0.1\", :color=\"traitColors.sense_range\")\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport traitColors from '@/config/trait-colors'\nimport { creatureColors } from '@/config/creature-colors'\nimport NumberInput from '@/components/inputs/number-input'\n\nfunction creatureProps(props){\n  let ret = {}\n  for (let k of props){\n    ret[k + 'Value'] = {\n      get(){ return this[k][0] }\n      , set(v){ this[k] = [v, this[k + 'Variance']] }\n    }\n    ret[k + 'Variance'] = {\n      get(){ return this[k][1] }\n      , set(v){ this[k] = [this[k + 'Value'], v] }\n    }\n    ret[k] = {\n      get(){ return this.creatureTemplate(this.species)[k] }\n      , set(v){ this.$store.dispatch('simulation/setCreatureTemplate', { [k]: v, species: this.species }) }\n    }\n  }\n  return ret\n}\n\nexport default {\n  name: 'CreatureTemplateConfig'\n  , props: {\n    species: {\n      type: String\n      , default: 'default'\n    }\n  }\n  , data: () => ({\n    traitColors\n    , creatureColors\n  })\n  , components: {\n    NumberInput\n  }\n  , mounted(){\n  }\n  , computed: {\n    ...mapGetters('simulation', {\n      config: 'config'\n      , creatureTemplate: 'creatureTemplate'\n    })\n\n    , active: {\n      get(){ return this.$store.getters['simulation/creatureConfig'](this.species).active }\n      , set(v){ this.$store.dispatch('simulation/setCreatureConfig', { active: v, species: this.species }) }\n    }\n\n    , creatureCount: {\n      get(){ return this.$store.getters['simulation/creatureConfig'](this.species).count }\n      , set(v){ this.$store.dispatch('simulation/setCreatureConfig', { count: v, species: this.species }) }\n    }\n    , energy: {\n      get(){ return this.$store.getters['simulation/creatureTemplate'](this.species).energy }\n      , set(energy){ this.$store.dispatch('simulation/setCreatureTemplate', { energy, species: this.species }) }\n    }\n    , ...creatureProps(['speed', 'size', 'sense_range', 'reach', 'life_span'])\n  }\n  , watch: {\n  }\n  , methods: {\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.creature-template-config\n  font-size: 18px\n  p\n    font-family: $family-sans-serif\n.warning\n  color: darken($grey-light, 20)\n  max-width: 400px\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./creature-template-config.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./creature-template-config.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./creature-template-config.vue?vue&type=template&id=28527534&scoped=true&lang=pug&\"\nimport script from \"./creature-template-config.vue?vue&type=script&lang=js&\"\nexport * from \"./creature-template-config.vue?vue&type=script&lang=js&\"\nimport style0 from \"./creature-template-config.vue?vue&type=style&index=0&id=28527534&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28527534\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"food-control\"},[_c('b-field',{staticClass:\"ctrls\",attrs:{\"grouped\":\"\"}},[_c('b-tooltip',{attrs:{\"label\":\"Clear\",\"position\":\"is-top\"}},[_c('b-button',{staticClass:\"btn-dark\",attrs:{\"size\":\"is-small\",\"icon-left\":\"delete\"},on:{\"click\":function($event){_vm.data = []; _vm.commit()}}},[_c('span',[_vm._v(\"clear\")])])],1),_c('b-checkbox-button',{staticClass:\"checkbox-btn-dark\",attrs:{\"size\":\"is-small\"},model:{value:(_vm.showGraph),callback:function ($$v) {_vm.showGraph=$$v},expression:\"showGraph\"}},[(_vm.showGraph)?_c('span',[_vm._v(\"edit values\")]):_c('span',[_vm._v(\"show graph\")])])],1),(_vm.showGraph)?_c('div',{staticClass:\"plot\"},[_c('FoodPlot',{ref:\"foodPlot\",attrs:{\"data\":_vm.foodPlotData,\"styles\":{ height: '160px' },\"tooltips\":false},nativeOn:{\"mousedown\":function($event){return _vm.setControlPointOnInteract($event)},\"mousemove\":function($event){return _vm.setControlPointOnInteract($event)}}})],1):_c('div',{staticClass:\"cols\"},[_vm._m(0),_c('div',{staticClass:\"inner scrollbars\"},_vm._l((_vm.data),function(entry,index){return _c('div',{staticClass:\"col\"},[_c('b-input',{attrs:{\"type\":\"text\",\"disabled\":index === 0},on:{\"blur\":_vm.commit},model:{value:(entry[0]),callback:function ($$v) {_vm.$set(entry, 0, _vm._n($$v))},expression:\"entry[0]\"}}),_c('b-input',{attrs:{\"type\":\"text\",\"disabled\":index === 0},on:{\"blur\":_vm.commit},model:{value:(entry[1]),callback:function ($$v) {_vm.$set(entry, 1, _vm._n($$v))},expression:\"entry[1]\"}})],1)}),0),_c('div',{staticClass:\"col btns\"},[_c('div',{staticClass:\"mid\"},[_c('b-tooltip',{attrs:{\"label\":\"Add a control point\",\"position\":\"is-top\"}},[_c('b-button',{staticClass:\"btn-dark\",on:{\"click\":_vm.addCol}},[_c('b-icon',{attrs:{\"icon\":\"plus\"}})],1)],1)],1)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col\"},[_c('label',[_vm._v(\"Gen.:\")]),_c('label',[_vm._v(\"Food:\")])])}]\n\nexport { render, staticRenderFns }","<script>\nimport { Scatter } from 'vue-chartjs'\n\nexport default {\n  name: 'FoodPlot'\n  , extends: Scatter\n  , props: {\n    'data': {\n      type: Array\n    }\n    , label: {\n      type: String\n    }\n    , textColor: {\n      type: String\n      , default: '#FCFDF4'\n    }\n    , responsive: {\n      type: Boolean\n      , default: true\n    }\n    , stacked: {\n      type: Boolean\n      , default: false\n    }\n    , tooltips: {\n      type: Boolean\n      , default: true\n    }\n    , maxFood: Number\n  }\n  , components: {\n  }\n  , data: () => ({\n  })\n  , computed: {\n    options(){\n\n      // let titleColor = chroma(this.color).desaturate(1).css()\n      return {\n        responsive: this.responsive\n        , maintainAspectRatio: false\n        , hoverMode: 'index'\n        , animation: {\n          duration: 0\n        }\n        , tooltips: {\n          enabled: this.tooltips\n          , intersect: false\n          , mode: 'index'\n          , position: 'nearest'\n          , callbacks: {\n            label(tooltipItem, data){\n              let idx = tooltipItem.datasetIndex\n              let label = data.datasets[idx].label\n              return `${label}: ${tooltipItem.yLabel.toFixed(0)}`\n            }\n            , title(tooltipItem){\n              let gen = tooltipItem[0].xLabel\n              return 'Generation: ' + gen\n            }\n          }\n        }\n        , scales: {\n          xAxes: [{\n            display: true\n            , ticks: {\n              min: 1\n              , fontColor: this.textColor\n            }\n            // , scaleLabel: {\n            //   display: true\n            //   , labelString: 'Generation'\n            //   , fontColor: this.textColor\n            //   , fontSize: 14\n            // }\n          }]\n          , yAxes: [{\n            type: 'linear'\n            , display: true\n            , ticks: {\n              fontColor: this.textColor\n              , max: this.maxFood\n              , beginAtZero: true\n            }\n            , stacked: this.stacked\n            , position: 'left'\n            , scaleLabel: {\n              display: true\n              , labelString: 'Foods'\n              , fontColor: this.textColor\n              , fontSize: 16\n            }\n          }]\n        }\n        // , title: {\n        //   display: true\n        //   // , position: 'left'\n        //   , text: this.label\n        //   , fontSize: 20\n        //   , fontColor: titleColor\n        // }\n        , legend: {\n          display: false\n        }\n        , elements: {\n          line: {\n            borderWidth: 1\n            , tension: 0\n          }\n        }\n      }\n    }\n    , chartdata(){\n      if ( !this.data ){ return {} }\n      let options = {\n        showLine: true\n        , pointRadius: 1\n        , fill: false\n      }\n\n      let datasets = this.data.map(d => {\n        return {\n          ...options\n          , borderColor: d.color\n          , backgroundColor: d.color\n          , ...d\n          , data: d.data ? d.data.map((d) => ({ x: d[0], y: d[1] })) : []\n        }\n      })\n\n      return { datasets }\n    }\n  }\n  , watch: {\n    chartdata(){\n      this.render()\n    }\n    , options(){\n      this.render()\n    }\n  }\n  , mounted() {\n    this.render()\n\n    const onClick = () => {\n      let tooltip = this._data._chart.tooltip\n      if (!tooltip._active){ return }\n      let gen = tooltip._active[0]._index + 1\n      this.$emit('click', gen)\n    }\n    this.$el.addEventListener('click', onClick)\n    this.$on('hook:beforeDestroy', () => {\n      this.$el.removeEventListener('click', onClick)\n    })\n  }\n  , methods: {\n    render(){\n      if (this._inactive){ return }\n      this.options.scales.xAxes[0].max = this.chartdata.length\n      this.renderChart(this.chartdata, this.options)\n    }\n    , getCoordsAtEvent(event){\n      let chart = this.$data._chart\n      let yTop = chart.chartArea.top\n      let yBottom = chart.chartArea.bottom\n\n      let yMin = chart.scales['y-axis-1'].min\n      let yMax = chart.scales['y-axis-1'].max\n      let newY = 0\n\n      if (event.offsetY <= yBottom && event.offsetY >= yTop) {\n        newY = Math.abs((event.offsetY - yTop) / (yBottom - yTop))\n        newY = (newY - 1) * -1\n        newY = newY * (Math.abs(yMax - yMin)) + yMin\n      }\n\n      let xTop = chart.chartArea.left\n      let xBottom = chart.chartArea.right\n      let xMin = chart.scales['x-axis-1'].min\n      let xMax = chart.scales['x-axis-1'].max\n      let newX = 0\n\n      if (event.offsetX <= xBottom && event.offsetX >= xTop) {\n        newX = Math.abs((event.offsetX - xTop) / (xBottom - xTop))\n        newX = newX * (Math.abs(xMax - xMin)) + xMin\n      }\n\n      return [newX, newY]\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n\n</style>\n","var render, staticRenderFns\nimport script from \"./food-plot.vue?vue&type=script&lang=js&\"\nexport * from \"./food-plot.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29bcd116\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./food-plot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./food-plot.vue?vue&type=script&lang=js&\"","function lerp( from, to, t ){\n  return from * ( 1 - t ) + to * t\n}\n\n// pts is a flat array of the form [x, y, x2, y2, ...]\nexport default function interpolator(pts, options = {}){\n  let { useSpline = false } = options\n  // assume to be sorted by x\n  const len = pts.length\n  const minX = pts[0]\n  const maxX = pts[len - 2]\n\n  pts = useSpline ? spline(pts, options.tension, options.isClosed, options.numOfSegments) : pts\n\n  return (x) => {\n    x = Math.max(minX, Math.min(maxX, x))\n    let i = 0\n    let xn = pts[0]\n    while (x >= xn){\n      i += 2\n      xn = pts[i]\n    }\n\n    if (i === 0){ return pts[1] }\n    if (i === len){ return pts[len - 1]}\n\n    let x1 = pts[i - 2]\n    let x2 = pts[i]\n    if (x1 === x2){ return pts[i + 1] }\n    let t = (x - x1) / (x2 - x1)\n    return lerp(pts[i - 1], pts[i + 1], t)\n  }\n}\n\n\n// from: https://stackoverflow.com/questions/7054272/how-to-draw-smooth-curve-through-n-points-using-javascript-html5-canvas\nfunction spline(pts, tension = 0.5, isClosed = false, numOfSegments = 16) {\n\n  let _pts = [], res = []    // clone array\n  let x, y          // our x,y coords\n  let t1x, t2x, t1y, t2y // tension vectors\n  let c1, c2, c3, c4     // cardinal points\n  let st, t, i       // steps based on num. of segments\n\n  // clone array so we don't change the original\n  //\n  _pts = pts.slice(0)\n\n  // The algorithm require a previous and next point to the actual point array.\n  // Check if we will draw closed or open curve.\n  // If closed, copy end points to beginning and first points to end\n  // If open, duplicate first points to befinning, end points to end\n  if (isClosed) {\n    _pts.unshift(pts[pts.length - 1])\n    _pts.unshift(pts[pts.length - 2])\n    _pts.unshift(pts[pts.length - 1])\n    _pts.unshift(pts[pts.length - 2])\n    _pts.push(pts[0])\n    _pts.push(pts[1])\n  }\n  else {\n    _pts.unshift(pts[1])   //copy 1. point and insert at beginning\n    _pts.unshift(pts[0])\n    _pts.push(pts[pts.length - 2]) //copy last point and append\n    _pts.push(pts[pts.length - 1])\n  }\n\n  // ok, lets start..\n\n  // 1. loop goes through point array\n  // 2. loop goes through each segment between the 2 pts + 1e point before and after\n  for (i=2; i < (_pts.length - 4); i+=2) {\n    for (t=0; t <= numOfSegments; t++) {\n\n      // calc tension vectors\n      t1x = (_pts[i+2] - _pts[i-2]) * tension\n      t2x = (_pts[i+4] - _pts[i]) * tension\n\n      t1y = (_pts[i+3] - _pts[i-1]) * tension\n      t2y = (_pts[i+5] - _pts[i+1]) * tension\n\n      // calc step\n      st = t / numOfSegments\n      let st2 = st * st\n      let st3 = st2 * st\n\n      // calc cardinals\n      c1 =   2 * st3  - 3 * st2 + 1\n      c2 = -(2 * st3) + 3 * st2\n      c3 =       st3  - 2 * st2 + st\n      c4 =       st3  -     st2\n\n      // calc x and y cords with common control vectors\n      x = c1 * _pts[i]    + c2 * _pts[i+2] + c3 * t1x + c4 * t2x\n      y = c1 * _pts[i+1]  + c2 * _pts[i+3] + c3 * t1y + c4 * t2y\n\n      //store points in array\n      res.push(x)\n      res.push(y)\n    }\n  }\n\n  return res\n}\n","<template lang=\"pug\">\n.food-control\n  b-field(grouped).ctrls\n    b-tooltip(label=\"Clear\", position=\"is-top\")\n      b-button.btn-dark(@click=\"data = []; commit()\", size=\"is-small\", icon-left=\"delete\")\n        span clear\n    b-checkbox-button.checkbox-btn-dark(size=\"is-small\", v-model=\"showGraph\")\n      span(v-if=\"showGraph\") edit values\n      span(v-else) show graph\n  .plot(v-if=\"showGraph\")\n    FoodPlot(\n      ref=\"foodPlot\"\n      , :data=\"foodPlotData\"\n      , :styles=\"{ height: '160px' }\"\n      , :tooltips=\"false\"\n      , @mousedown.native=\"setControlPointOnInteract\"\n      , @mousemove.native=\"setControlPointOnInteract\"\n    )\n  .cols(v-else)\n    .col\n      label Gen.:\n      label Food:\n    .inner.scrollbars\n      .col(v-for=\"(entry, index) in data\")\n        b-input(type=\"text\", v-model.number=\"entry[0]\", :disabled=\"index === 0\", @blur=\"commit\")\n        b-input(type=\"text\", v-model.number=\"entry[1]\", :disabled=\"index === 0\", @blur=\"commit\")\n    .col.btns\n      .mid\n        b-tooltip(label=\"Add a control point\", position=\"is-top\")\n          b-button.btn-dark(@click=\"addCol\")\n            b-icon(icon=\"plus\")\n\n</template>\n\n<script>\n// import _cloneDeep from 'lodash/cloneDeep'\nimport _times from 'lodash/times'\nimport _find from 'lodash/find'\nimport _flatten from 'lodash/flatten'\nimport _throttle from 'lodash/throttle'\nimport { mapGetters } from 'vuex'\nimport FoodPlot from '@/components/food-plot'\nimport sougy from '@/config/sougy-colors'\nimport interpolator from '@/lib/interpolator'\n\nconst foodColor = sougy.green\n\nconst components = {\n  FoodPlot\n}\n\nconst computed = {\n  ...mapGetters('simulation', {\n    config: 'config'\n  })\n  , foodPlotData(){\n    let generate = interpolator(_flatten(this.data))\n    let data = _times(this.config.max_generations, (n) => [n, Math.round(generate(n))])\n    return [{ label: 'Available Food', color: foodColor, data }]\n  }\n}\n\nconst watch = {\n  'config.food_per_generation': {\n    handler(data){\n      this.data = data.map(([g, f]) => [g + 1, f])\n    }\n    , immediate: true\n  }\n}\n\nconst methods = {\n  addCol(){\n    let last = this.data[this.data.length - 1]\n    this.data.push([last[0]+1, last[1]])\n    this.commit()\n  }\n  , commit: _throttle(function(){\n    this.data = this.data.filter(d => {\n      return Number.isFinite(d[0]) && Number.isFinite(d[1]) && d[0] > 1\n    })\n    this.data.sort((a, b) => a[0] - b[0])\n    this.data.unshift([1, this.config.food_per_generation[0][1]])\n\n    this.$store.dispatch('simulation/setConfig', {\n      food_per_generation: this.data.map(([g, f]) => [g - 1, f])\n    })\n  }, 10)\n  , setControlPointOnInteract(e){\n    if (!e.buttons){ return }\n    let [gen, food] = this.$refs.foodPlot.getCoordsAtEvent(e)\n    gen = Math.round(gen)\n    food = Math.round(food)\n    let existing = _find(this.data, e => e[0] === gen)\n    if (existing){\n      existing[1] = food\n    } else {\n      this.data.push([gen, food])\n    }\n\n    this.commit()\n  }\n}\n\nexport default {\n  name: 'FoodControl'\n  , props: {\n  }\n  , data: () => ({\n    data: [[1, 50]]\n    , foodColor\n    , showGraph: true\n  })\n  , components\n  , computed\n  , watch\n  , methods\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.food-control\n  display: flex\n  flex-direction: column\n  align-items: flex-start\n.plot\n  position: relative\n  max-height: 10rem\n  line-height: 0\n.cols\n  display: flex\n  flex-direction: row\n  margin-left: 0.5rem\n  margin-bottom: 2rem\n.inner\n  display: flex\n  flex-direction: row\n  overflow-x: auto\n  max-width: 360px\n  @media screen and (max-width: $tablet)\n    max-width: 70vw\n.col\n  position: relative\n  display: flex\n  flex-direction: column\n  justify-content: space-evenly\n  min-width: 4rem\n  max-width: 4rem\n  >>> .control .input\n    position: relative\n    text-align: center\n    border-radius: 0\n    &:not(:disabled):focus\n      z-index: 1\n    &:not(:disabled):hover\n      z-index: 2\n  >>> .control:not(:first-child) .input\n    top: -1px\n.col:not(:first-child)\n  margin-left: -1px\n.col.btns\n  margin-left: 0.5rem\n.field.ctrls\n  width: 100%\n  justify-content: flex-end\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./food-control.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./food-control.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./food-control.vue?vue&type=template&id=46acf317&scoped=true&lang=pug&\"\nimport script from \"./food-control.vue?vue&type=script&lang=js&\"\nexport * from \"./food-control.vue?vue&type=script&lang=js&\"\nimport style0 from \"./food-control.vue?vue&type=style&index=0&id=46acf317&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46acf317\",\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n.config\n  .inner\n    a.close(@click=\"close\")\n      b-icon(icon=\"close-circle-outline\", size=\"is-large\")\n\n    .content.has-text-centered\n      h1.title.is-size-3 Simulation Settings\n\n      p Modify the settings then click \"Evolve!\". <br/>More details about how this all works can be found in the <router-link :to=\"{ name: 'about' }\" append>about page</router-link>.\n\n    .content\n      //- .has-text-centered\n      //-   h2.title.is-size-4 Finally\n      .columns\n        .column.has-text-centered\n          b-field.is-inline-block\n            .number-input-group\n              NumberInput(v-model=\"maxGenerations\", label=\"Days to run\", :min=\"1\", :max=\"2000\", :change-rate=\"10\")\n              NumberInput(v-model=\"seed\", label=\"Random Seed\", :min=\"1\", :change-rate=\"10\")\n    .content\n      .has-text-centered\n        b-field\n          b-button.button.is-primary.is-large(@click=\"run\", :loading=\"isLoading\") Evolve!\n        p.muted (by natural selection)\n\n        //- .preset-config\n        //-   b-field(label=\"Preset\")\n        //-     b-select(v-model=\"currentPreset\")\n        //-       option(v-for=\"p in presets\", :value=\"p\", :key=\"p\") {{ p | startCase }}\n\n        //-   .preset-config(v-if=\"currentPreset === 'home_remove'\")\n        //-     p Remove the blob's homes from three edges at the following generation:\n        //-     b-field\n        //-       NumberInput(v-model=\"presetOptions.step\", label=\"Generation\", :min=\"1\", :step=\"1\", :change-rate=\"10\")\n\n    b-tabs(position=\"is-centered\", :animated=\"false\", v-model=\"tabItem\")\n      b-tab-item(label=\"Creatures\")\n        b-tabs(type=\"is-toggle\", position=\"is-centered\", :animated=\"false\")\n          b-tab-item(v-for=\"(species, key) in creatureConfigs\", :key=\"key\", :label=\"species.name\")\n            template(#header)\n              span {{species.name}} Blobs&nbsp;\n              b-icon(\n                v-if=\"key !== 'default'\"\n                , :class=\"species.active ? 'has-text-success' : 'has-text-danger'\"\n                , :icon=\"species.active ? 'check' : 'cancel'\"\n                , size=\"is-small\"\n              )\n            .content\n              CreatureTemplateConfig(:species=\"key\")\n\n      b-tab-item(label=\"Food\")\n        .content\n          //- .has-text-centered\n          //-   h2.title.is-size-4 Food\n          .columns\n            .column.has-text-right-tablet.has-text-centered\n              p We will randomly place this much food to start\n              .is-inline-block\n                NumberInput(v-model=\"foodPerGeneration\", label=\"Food\", :min=\"0\", :max=\"1000\", :change-rate=\"10\", condensed, :color=\"foodColor\")\n            .column.has-text-left-tablet.has-text-centered\n              p And can change the food over time...\n                br\n                span.muted (click the graph to add control points)\n              .is-inline-block(v-if=\"tabItem === 1\")\n                FoodControl\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport traitColors from '@/config/trait-colors'\nimport sougy from '@/config/sougy-colors'\nimport NumberInput from '@/components/inputs/number-input'\nimport CreatureTemplateConfig from '@/components/creature-template-config'\nimport FoodControl from '@/components/food-control'\n\nfunction storeParam(key, src, action){\n  return {\n    get(){ return this[src][key] }\n    , set(v){ this.$store.dispatch(action, { [key]: v }) }\n  }\n}\n\nfunction creatureProps(props, species){\n  let ret = {}\n  for (let k of props){\n    ret[k + 'Value'] = {\n      get(){ return this[k][0] }\n      , set(v){ this[k] = [v, this[k + 'Variance']] }\n    }\n    ret[k + 'Variance'] = {\n      get(){ return this[k][1] }\n      , set(v){ this[k] = [this[k + 'Value'], v] }\n    }\n    ret[k] = {\n      get(){ return this.creatureTemplate(species)[k] }\n      , set(v){ this.$store.dispatch('simulation/setCreatureTemplate', { [k]: v, species }) }\n    }\n  }\n  return ret\n}\n\nexport default {\n  name: 'SimulationConfig'\n  , props: {\n  }\n  , data: () => ({\n    traitColors\n    , foodColor: sougy.green\n    , tabItem: 0\n    , presetOptions: {}\n  })\n  , components: {\n    NumberInput\n    , CreatureTemplateConfig\n    , FoodControl\n  }\n  , mounted(){\n    this.presetOptions = {...this.config.preset.options}\n    this.$watch('presetOptions', () => {\n      this.$store.dispatch('simulation/setConfig', { preset: {\n        ...this.config.preset\n        , options: this.presetOptions\n      } })\n    }, { deep: true })\n  }\n  , computed: {\n    ...mapGetters('simulation', {\n      isLoading: 'isLoading'\n      , config: 'config'\n      , creatureTemplate: 'creatureTemplate'\n      , presets: 'presets'\n    })\n\n    , creatureConfigs(){\n      return this.$store.state.simulation.creatureConfigs\n    }\n\n    , currentPreset: {\n      get(){\n        return this.config.preset.name\n      }\n      , set(name){\n        this.$store.dispatch('simulation/setConfig', { preset: {\n          ...this.config.preset\n          , name\n        } })\n      }\n    }\n    , seed: storeParam('seed', 'config', 'simulation/setConfig')\n    , maxGenerations: storeParam('max_generations', 'config', 'simulation/setConfig')\n    , foodPerGeneration: {\n      get(){\n        return this.$store.getters['simulation/config'].food_per_generation[0][1]\n      }\n      , set(v){\n        let food_per_generation = this.$store.getters['simulation/config'].food_per_generation.slice()\n        food_per_generation[0][1] = v\n        this.$store.dispatch('simulation/setConfig', { food_per_generation })\n      }\n    }\n\n    , creatureCount: {\n      get(){ return this.$store.getters['simulation/creatureConfig']('default').count }\n      , set(v){ this.$store.dispatch('simulation/setCreatureConfig', { count: v, species: 'default' }) }\n    }\n    , energy: {\n      get(){ return this.$store.getters['simulation/creatureTemplate']('default').energy }\n      , set(energy){ this.$store.dispatch('simulation/setCreatureTemplate', { energy, species: 'default' }) }\n    }\n    , ...creatureProps(['speed', 'size', 'sense_range', 'reach', 'life_span'], 'default')\n  }\n  , watch: {\n  }\n  , methods: {\n    run(){\n      this.$store.dispatch('simulation/run').then(() => {\n        this.close()\n      })\n    }\n    , close(){\n      if ( !this.$route.query.cfg ){ return }\n      this.$router.replace({ params: this.$route.params, query: {...this.$route.query, cfg: \"\"} })\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.config\n  padding: 5em 2em 2em\n  margin-bottom: 0\n  font-size: 18px\n  .inner\n    max-width: 1050px\n    margin: auto\n  p\n    font-family: $family-sans-serif\n  >>> .content\n    margin-bottom: 2rem\n\n  .close\n    position: absolute\n    top: 1rem\n    right: 1rem\n    color: lighten($grey, 20)\n.muted\n  color: lighten($grey, 10)\n  text-shadow: 0 0 7px rgba(0, 0, 0, 1)\n.preset-config\n  display: flex\n  flex-direction: column\n  align-items: center\n.add-species\n  margin-bottom: 0.8rem\n\n>>> .tabs.is-toggle\n  li a\n    color: $grey\n    background: $black-ter\n  li.is-active a\n    background: darken($primary, 30)\n  a\n    border-color: $grey\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./simulation-config.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./simulation-config.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./simulation-config.vue?vue&type=template&id=fd2e3e02&scoped=true&lang=pug&\"\nimport script from \"./simulation-config.vue?vue&type=script&lang=js&\"\nexport * from \"./simulation-config.vue?vue&type=script&lang=js&\"\nimport style0 from \"./simulation-config.vue?vue&type=style&index=0&id=fd2e3e02&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fd2e3e02\",\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n.playground(:class=\"{ 'header-bg': $route.name !== 'viewscreen' }\")\n  SimulationConfig.cfg.scrollbars(v-if=\"showConfig\")\n  transition(name=\"slide-down\", appear)\n    .top-bar(v-if=\"!showIntro\")\n      a(href=\"https://minutelabs.io\", target=\"_blank\").logo\n        img(src=\"@/assets/logo-dark.png\")\n      router-link(:to=\"{ name: 'about' }\")\n        span About\n      router-link(:to=\"{ params: $route.params, name: 'viewscreen' }\")\n        span World\n      router-link(:to=\"{ params: $route.params, name: 'stats' }\")\n        span Trends\n\n  transition(name=\"slide-down\", appear)\n    .center-bar(v-if=\"!hideSettings && !showIntro || tourStepNumber === 6\")\n      router-link.button.is-primary.is-rounded(v-if=\"!showConfig\", :to=\"{ query: { cfg: $route.query.cfg ? undefined : '1' } }\", append, exact)\n        span Settings\n\n  .upper\n    keep-alive(includes=\"ViewScreen\")\n      router-view(ref=\"view\")\n\n  transition(name=\"bottom-drawer-slide\", appear, @after-appear=\"fixLayout\", @after-enter=\"fixLayout\", @after-leave=\"fixLayout\")\n    .bottom-drawer(v-if=\"!hideControls && !showIntro\")\n      .floating-more-btn\n        b-field\n          p.control\n            b-tooltip(label=\"Run the simulation with a new random seed\", position=\"is-left\")\n              b-button.is-outlined.btn-dark(@click=\"shuffleSimulation\", :loading=\"isContinuing\", icon-right=\"dice-5\")\n          p.control\n            b-tooltip(label=\"More Generations...\", position=\"is-left\")\n              b-button.is-outlined.btn-dark(@click=\"continueSimulation\", :loading=\"isContinuing\", icon-right=\"layers-plus\")\n          p.control\n            b-tooltip(label=\"Toggle Drawer\", position=\"is-left\")\n              b-button.is-outlined.btn-dark(@click=\"showBottomDrawer = !showBottomDrawer\", :icon-right=\"showBottomDrawer ? 'menu-down' : 'menu-up'\")\n      transition(name=\"collapse\", @after-enter=\"fixLayout\", @after-leave=\"fixLayout\")\n        .bottom-drawer-content(v-if=\"showBottomDrawer\")\n          b-loading.loading-overlay(:is-full-page=\"false\", :active=\"isLoading\")\n          Drawer.legend-drawer(direction=\"right\", :start-open=\"legendStartsOpen\")\n            Legend.legend(:data=\"flowerLegend\", @select=\"propertySelect($event.index)\")\n              li\n              li.clickable.has-text-right\n                b-tooltip(label=\"Flower diagrams show the averages of traits relative to the maximum and minimum values over all generations\", position=\"is-top\", multilined)\n                  b-icon(icon=\"help-circle\")\n                  span info\n\n          .generation-selector(:class=\"{ 'is-finished': !canContinue }\")\n            FlowerTimeline(\n              v-model=\"genIndex\"\n              , :data=\"flowerTimelineData\"\n              , :data-ranges=\"flowerRanges\"\n              , :colors=\"flowerColors\"\n              , :topPetal=\"topPetal\"\n              , @dataSelect=\"genIndex === $event.generation && propertySelect($event.selected.index)\"\n            )\n              template(#before)\n                .flower-timeline-spacer\n              template(v-if=\"canContinue\", #after)\n                .more-btn\n                  b-button.btn-dark(@click=\"continueSimulation\", :loading=\"isContinuing\", size=\"is-large\", icon-right=\"layers-plus\")\n                .flower-timeline-spacer\n              template(v-else, #after)\n                .extinct-status\n                  img(src=\"@/assets/status-icons/extinction.svg\", width=\"70\")\n                .flower-timeline-spacer\n</template>\n\n<script>\n// import _throttle from 'lodash/throttle'\nimport { mapGetters } from 'vuex'\nimport traitColors from '@/config/trait-colors'\nimport FlowerChart from '@/components/flower-chart'\nimport FlowerTimeline from '@/components/flower-timeline'\nimport Drawer from '@/components/drawer'\nimport Legend from '@/components/legend'\nimport SimulationConfig from '@/components/simulation-config'\n\nexport default {\n  name: 'Simulation'\n  , props: {\n    showConfig: Boolean\n    , showIntro: Number\n    , hideControls: Boolean\n    , hideSettings: Boolean\n  }\n  , components: {\n    FlowerChart\n    , FlowerTimeline\n    , Legend\n    , Drawer\n    , SimulationConfig\n  }\n  , data: () => ({\n    toolbar: true\n    , showBottomDrawer: true\n\n    , topPetal: 0\n    , legendStartsOpen: window.innerWidth > 620\n  })\n  , created(){\n  }\n  , mounted(){\n    this.$nextTick(() => {\n      let idx = this.generationIndex\n      if (idx){\n        let max_generations = Math.max(idx + 1, this.config.max_generations)\n        this.$store.dispatch('simulation/setConfig', { max_generations })\n      }\n\n      if (!this.generation){\n        this.run(false)\n      }\n    })\n  }\n  , watch: {\n  }\n  , computed: {\n    tourStepNumber(){\n      return this.$route.query.intro | 0\n    }\n    , flowerColors(){\n      return {\n        center: traitColors.population\n        , petals: this.traitColors\n      }\n    }\n    , generationStats(){\n      if ( !this.stats ){ return [] }\n      return this.stats.generation_statistics\n    }\n    , flowerData(){\n      if (!this.stats){ return {} }\n      let g = this.generationStats[this.genIndex]\n      return {\n        center: g.population\n        , petals: this.traits.map(k => g[k].mean)\n      }\n    }\n    , flowerTimelineData(){\n      if (!this.stats){ return [] }\n      let stats = this.generationStats\n      return stats.map(v => ({\n        center: v.population\n        , petals: this.traits.map(k => v[k].mean)\n      }))\n    }\n    , flowerRanges(){\n      if ( !this.stats ){ return {} }\n      let { population } = this.stats\n      return {\n        center: [population.min, population.max]\n        , petals: this.flowerTimelineData.reduce((maxMin, g) => {\n          return g.petals.map((v, i) => [Math.min(v, maxMin[i][0]), Math.max(v, maxMin[i][1])])\n        }, this.flowerTimelineData[0].petals.map(p => [p, p]))\n      }\n    }\n    , flowerLegend(){\n      return Object.values(this.traits)\n        .map((name, i) => ({ name, color: this.flowerColors.petals[i] }))\n        .concat([{\n          name: 'population'\n          , color: this.flowerColors.center\n        }])\n    }\n    , genIndex: {\n      get(){\n        return this.generationIndex\n      }\n      , set(v){\n        this.loadGeneration(v)\n      }\n    }\n    , generation(){\n      return this.getCurrentGeneration()\n    }\n    , ...mapGetters('simulation', {\n      canContinue: 'canContinue'\n      , isLoading: 'isLoading'\n      , isContinuing: 'isContinuing'\n      , getCurrentGeneration: 'getCurrentGeneration'\n      , generationIndex: 'currentGenerationIndex'\n      , config: 'config'\n      , stats: 'statistics'\n      , traits: 'traits'\n      , traitColors: 'traitColors'\n    })\n  }\n  , methods: {\n    run(fresh){\n      return this.$store.dispatch('simulation/run', fresh)\n    }\n    , continueSimulation(){\n      return this.$store.dispatch('simulation/continue')\n    }\n    , shuffleSimulation(){\n      let seed = (Math.random() * 1000) | 0\n      this.$store.dispatch('simulation/setConfig', { seed })\n      this.run()\n    }\n    , loadGeneration(v){\n      this.$store.dispatch('simulation/loadGeneration', v)\n    }\n    , propertySelect(index){\n      if ( index !== undefined && index < this.traits.length ){\n        this.topPetal = index\n      }\n    }\n    , fixLayout(){\n      let view = this.$refs.view\n      if (view.fixLayout){\n        view.fixLayout()\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.playground\n  // overflow: auto\n  height: 100%\n  display: flex\n  flex-direction: column\n  min-height: 0\n\n  &.header-bg:after\n    content: ''\n    position: absolute\n    top: 0\n    left: 0\n    right: 8px\n    height: 5rem\n    // background: $grey-darker\n    background: transparentize($grey-darker, 0.8)\n    backdrop-filter: blur(5px)\n    z-index: 2\n\n.cfg\n  position: absolute\n  top: 0\n  left: 0\n  right: 0\n  bottom: 0\n  z-index: 4\n  background: rgba(0, 0, 0, 0.65)\n  backdrop-filter: blur(5px)\n  padding-top: 6rem\n  overflow: auto\n\n.top-bar,\n.center-bar\n  position: absolute\n  top: 1.25em\n  left: 1.75em\n  pointer-events: none\n  z-index: 10\n  height: 36px\n  // opacity: 0.7\n  display: flex\n  align-items: center\n  // background: #333\n  // border-radius: 0 0 3px 0\n  // backdrop-filter: blur(2px)\n  > *\n    pointer-events: all\n    margin-right: 1rem\n    text-shadow: 0 0 1px $grey-darker\n\n.top-bar\n  .logo\n    margin-right: 0.75rem\n    overflow: hidden\n    height: 30px\n\n    img\n      width: 40px\n  a\n    color: lighten($sand, 10)\n    font-size: 24px\n    transition: color .15s ease\n    &.router-link-active,\n    &:hover\n      color: $grey-lighter\n\n.center-bar\n  left: 50%\n  > *\n    transform: translateX(-50%)\n  .button\n    text-transform: lowercase\n    font-size: 1rem\n    margin-right: 0\n\n  @media screen and (max-width: $tablet)\n    left: 2rem\n    top: 4.5rem\n    > *\n      transform: none\n\n.config-link\n  position: absolute\n  top: 1.5rem\n  right: 1.75rem\n  display: flex\n  align-items: center\n  z-index: 3\n.upper\n  position: relative\n  z-index: 2\n  flex-grow: 1\n  min-height: 0\n  // overflow: hidden\n  background: $grey-darker\n  display: flex\n  align-items: stretch\n  > *\n    flex: 1\n\n  // max-height: calc(100vh - 214px)\n.bottom-drawer-content\n  height: 262px\n  &.collapse-enter-active, &.collapse-leave-active\n    transition: height .3s ease\n    .legend-drawer\n      transition: transform .1s ease\n    .generation-selector >>> .flower-timeline:after\n      content: ''\n  &.collapse-enter-active\n    .legend-drawer\n      transition: transform .1s .2s ease\n  &.collapse-enter, &.collapse-leave-to\n    height: 0\n    .legend-drawer\n      transform: translate(-100%, 0)\n.bottom-drawer\n  position: relative\n  background: $black-ter\n  border-top: 1px solid $black\n  transition: height .3s ease\n  min-height: 3.25rem\n  flex-shrink: 0\n  // min-height: 213px\n  .legend-drawer\n    // position: absolute\n    top: 2px\n    bottom: 8px\n    left: 0\n    display: flex\n    box-shadow: none\n    border: none\n    background: transparentize(black, 0.3)\n    backdrop-filter: blur(5px)\n    padding: 1rem 2rem 1rem 1rem\n    >>> .collapse-bar\n      border-right: 1px solid $grey-darker\n      border-radius: 0\n  .legend\n    flex-direction: column\n    align-self: center\n    padding: 0 0em 0\n    // width: 13em\n    z-index: 1\n\n    pointer-events: none\n    >>> li\n      pointer-events: all\n  .floating-more-btn\n    position: absolute\n    top: 0.5rem\n    right: 0.5rem\n    display: flex\n    align-items: center\n.scale\n  display: flex\n  width: 120px\n  .min,\n  .max\n    flex: 1\n    display: flex\n    flex-direction: column\n    justify-content: center\n    text-align: center\n\n  .min\n    color: $grey-dark\n\n.generation-selector\n  >>> .flower-timeline\n    padding-top: 46px\n\n    padding-bottom: 56px\n    &:after\n      content: 'Generations'\n      position: absolute\n      bottom: 20px\n      left: 50vw\n      transform: translateX(-50%)\n      font-family: $family-monospace\n      font-size: 1rem\n      text-transform: uppercase\n      text-shadow: 0 1px 3px rgba(0, 0, 0, 1)\n\n    .generation.selected\n      position: relative\n      &:before\n        content: ''\n        pointer-events: none\n        position: absolute\n        top: -80px\n        left: 50%\n        margin-left: -50px\n        border: 50px solid transparent\n        border-color: transparent transparent transparentize($primary, 0.8) transparent\n        border-width: 50px 50px 30px 50px\n  .flower-timeline-spacer\n    flex: 0 0 auto\n    width: calc(50vw - 50px)\n    display: flex\n    justify-content: center\n.loading-overlay\n  z-index: 2\n  background: rgba(0, 0, 0, .5)\n.more-btn\n  display: flex\n  align-items: center\n  justify-content: center\n  min-width: 100px\n  .button\n    margin-top: -60px\n.extinct-status\n  flex: 0 0 auto\n  width: 92px\n  height: 92px\n  margin: 4px\n  margin-right: 2rem\n  border: 1px solid $grey-darker\n  border-radius: 50%\n  display: flex\n  align-items: center\n  justify-content: center\n.bottom-drawer-slide-enter-active, .bottom-drawer-slide-leave-active\n  transition: margin-bottom 0.3s ease\n.bottom-drawer-slide-enter, .bottom-drawer-slide-leave-to\n  margin-bottom: -256px\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./simulation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./simulation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./simulation.vue?vue&type=template&id=890a57a6&scoped=true&lang=pug&\"\nimport script from \"./simulation.vue?vue&type=script&lang=js&\"\nexport * from \"./simulation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./simulation.vue?vue&type=style&index=0&id=890a57a6&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"890a57a6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"simulation-statistics scrollbars\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-half\"},[_c('b-field',{attrs:{\"label\":\"Filter By Species\"}},[_c('b-select',{model:{value:(_vm.statsSpeciesFilter),callback:function ($$v) {_vm.statsSpeciesFilter=$$v},expression:\"statsSpeciesFilter\"}},_vm._l((_vm.speciesFilterList),function(p,i){return _c('option',{key:p[1],domProps:{\"value\":i}},[_vm._v(_vm._s(p[1]))])}),0)],1)],1),_c('div',{staticClass:\"column\"},[_c('b-field',{staticClass:\"generation-controls\"},[_c('p',{staticClass:\"control\"},[_c('b-tooltip',{attrs:{\"label\":\"Download the data as a CSV\",\"position\":\"is-left\"}},[_c('b-button',{staticClass:\"btn-dark\",attrs:{\"loading\":_vm.isDownloading,\"icon-left\":\"download\"},on:{\"click\":_vm.downloadCSV}},[_vm._v(\"Download\")])],1)],1),_c('p',{staticClass:\"control\"},[_c('b-tooltip',{attrs:{\"label\":\"Run the simulation again\",\"position\":\"is-left\"}},[_c('b-button',{staticClass:\"btn-dark\",attrs:{\"loading\":_vm.isContinuing,\"icon-right\":\"reload\"},on:{\"click\":function($event){return _vm.restart()}}})],1)],1),_c('p',{staticClass:\"control\"},[_c('b-tooltip',{attrs:{\"label\":\"Run the simulation with a new random seed\",\"position\":\"is-left\"}},[_c('b-button',{staticClass:\"btn-dark\",attrs:{\"loading\":_vm.isContinuing,\"icon-right\":\"dice-5\"},on:{\"click\":function($event){return _vm.shuffleSimulation()}}})],1)],1),_c('p',{staticClass:\"control\"},[_c('b-tooltip',{attrs:{\"label\":\"See more generations\",\"position\":\"is-left\"}},[_c('b-button',{staticClass:\"btn-dark\",attrs:{\"loading\":_vm.isContinuing,\"icon-right\":\"layers-plus\"},on:{\"click\":function($event){return _vm.keepGoing()}}})],1)],1)])],1)]),_c('div',{staticClass:\"field is-grouped is-grouped multiline\"},[_c('div',{staticClass:\"tags\"},_vm._l((_vm.hiddenPlots),function(plot){return _c('div',{staticClass:\"tag is-large clickable\",style:({ color: plot.titleColor }),on:{\"click\":function($event){return _vm.showPlot(plot)}}},[_c('b-icon',{attrs:{\"icon\":\"plus-box\"}}),_c('span',[_vm._v(_vm._s(_vm._f(\"startCase\")(plot.label)))])],1)}),0)]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_vm._m(0),_c('OverviewPlot',{attrs:{\"data\":_vm.plots,\"label\":\"Overview\"}})],1)]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_vm._m(1),_c('BirthDeathPlot',{attrs:{\"data\":_vm.birthsDeathsData,\"stacked\":true},on:{\"click\":_vm.loadGeneration}})],1),_c('div',{staticClass:\"column\"},[_vm._m(2),_c('FoodPlot',{attrs:{\"data\":_vm.foodData,\"maxFood\":_vm.maxFood},on:{\"click\":_vm.loadGeneration}})],1)]),_c('div',{staticClass:\"columns is-multiline\"},_vm._l((_vm.plots),function(plot){return _c('div',{key:plot.label,staticClass:\"column is-half-tablet is-one-third-fullhd\"},[_c('h2',{staticClass:\"heading plot-title clickable\",style:({ color: plot.titleColor }),on:{\"click\":function($event){return _vm.hidePlot(plot)}}},[_c('b-icon',{attrs:{\"icon\":\"minus-box\"}}),_vm._v(\" \"),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm._f(\"startCase\")(plot.label)))])],1),_c('TraitPlot',{attrs:{\"data\":plot.data,\"label\":_vm._f(\"startCase\")(plot.label),\"color\":plot.color},on:{\"click\":_vm.loadGeneration}})],1)}),0),_c('a',{ref:\"downloadEl\",staticClass:\"is-hidden\"})])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{staticClass:\"heading plot-title\"},[_c('span',{staticClass:\"name\"},[_vm._v(\"Overview\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{staticClass:\"heading plot-title\"},[_c('span',{staticClass:\"name\"},[_vm._v(\"Births and Deaths\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{staticClass:\"heading plot-title\"},[_c('span',{staticClass:\"name\"},[_vm._v(\"Food\")])])}]\n\nexport { render, staticRenderFns }","<script>\nimport chroma from 'chroma-js'\nimport { Scatter } from 'vue-chartjs'\n\nfunction clamp(v, min, max){\n  return Math.min(Math.max(v, min), max)\n}\n\nexport default {\n  name: 'TraitPlot'\n  , extends: Scatter\n  , props: {\n    'data': {\n      type: Array\n      // [{ label: \"Name\", data: [] }]\n    }\n    , label: {\n      type: String\n    }\n    , color: {\n      type: String\n      , default: '#FCFDF4'\n    }\n    , textColor: {\n      type: String\n      , default: '#FCFDF4'\n    }\n  }\n  , components: {\n  }\n  , data: () => ({\n  })\n  , computed: {\n    options(){\n      let self = this\n      // let titleColor = chroma(this.color).desaturate(1).css()\n      return {\n        responsive: true\n        , maintainAspectRatio: false\n        , hoverMode: 'index'\n        , animation: {\n          duration: 0\n        }\n        , tooltips: {\n          intersect: false\n          , mode: 'index'\n          , position: 'nearest'\n          , callbacks: {\n            label(tooltipItem, data){\n              let idx = tooltipItem.datasetIndex\n              if (idx === 2){\n                let stddev = self.data[tooltipItem.xLabel - 1].deviation.toFixed(2)\n                return `average: ${tooltipItem.yLabel.toFixed(2)} ± ${stddev}`\n              } else if (idx === 0 || idx === 4){\n                let label = data.datasets[idx].label\n                return `${label}: ${tooltipItem.yLabel.toFixed(2)}`\n              }\n            }\n            , title(tooltipItem){\n              let gen = tooltipItem[0].xLabel\n              return 'Generation: ' + gen\n            }\n          }\n        }\n        , scales: {\n          xAxes: [{\n            display: true\n            , ticks: {\n              min: 1\n              , fontColor: this.textColor\n            }\n            // , scaleLabel: {\n            //   display: true\n            //   , labelString: 'Generation'\n            //   , fontColor: this.textColor\n            //   , fontSize: 14\n            // }\n          }]\n          , yAxes: [{\n            type: 'linear'\n            , beginAtZero: true\n            , display: true\n            , ticks: {\n              fontColor: this.textColor\n            }\n            // , stacked: true\n            , position: 'left'\n            // , scaleLabel: {\n            //   display: true\n            //   , labelString: this.label\n            //   , fontColor: this.textColor\n            //   , fontSize: 14\n            // }\n          }]\n        }\n        // , title: {\n        //   display: true\n        //   // , position: 'left'\n        //   , text: this.label\n        //   , fontSize: 20\n        //   , fontColor: titleColor\n        // }\n        , legend: {\n          display: false\n        }\n        , elements: {\n          line: {\n            borderWidth: 1\n            , tension: 0\n          }\n        }\n      }\n    }\n    , chartdata(){\n      let bgColor = chroma(this.color).alpha(0.1).css()\n      let devColor = bgColor\n      let maxMinColor = chroma(this.color).desaturate(2).alpha(0.3).css()\n      if ( !this.data ){ return {} }\n      let options = {\n        label: this.label\n        , showLine: true\n        , pointRadius: 1\n        , borderColor: this.color\n        , backgroundColor: bgColor\n        , fill: false\n      }\n      if ( Number.isFinite(this.data[0]) ){\n        return {\n          datasets: [{\n            ...options\n            , data: this.data.map((y, x) => ({ y, x: x + 1 }))\n          }]\n        }\n      }\n      return {\n        datasets: [{\n          ...options\n          , pointRadius: 0\n          , data: this.data.map((d, x) => ({ y: d.max, x: x + 1 }))\n          // , borderDash: [5, 5]\n          , borderColor: maxMinColor\n          , label: 'max'\n        } , {\n          ...options\n          , pointRadius: 0\n          , data: this.data.map((d, x) => ({ y: clamp(d.mean + d.deviation, d.min, d.max), x: x + 1 }))\n          , borderColor: devColor\n          , backgroundColor: bgColor\n          , fill: 2\n          , label: 'stddev (+)'\n        }, {\n          ...options\n          , data: this.data.map((d, x) => ({ y: d.mean, x: x + 1 }))\n          , label: 'average'\n        }, {\n          ...options\n          , pointRadius: 0\n          , data: this.data.map((d, x) => ({ y: clamp(d.mean - d.deviation, d.min, d.max), x: x + 1 }))\n          , borderColor: devColor\n          , backgroundColor: bgColor\n          , fill: 2\n          , label: 'stddev (-)'\n        }, {\n          ...options\n          , pointRadius: 0\n          , data: this.data.map((d, x) => ({ y: d.min, x: x + 1 }))\n          // , borderDash: [5, 5]\n          , borderColor: maxMinColor\n          , label: 'min'\n        }]\n      }\n    }\n  }\n  , watch: {\n    chartdata(){\n      this.render()\n    }\n    , options(){\n      this.render()\n    }\n  }\n  , mounted() {\n    this.render()\n\n    const onClick = () => {\n      let tooltip = this._data._chart.tooltip\n      if (!tooltip._active){ return }\n      let gen = tooltip._active[0]._index + 1\n      this.$emit('click', gen)\n    }\n    this.$el.addEventListener('click', onClick)\n    this.$on('hook:beforeDestroy', () => {\n      this.$el.removeEventListener('click', onClick)\n    })\n  }\n  , methods: {\n    render(){\n      if (this._inactive){ return }\n      this.options.scales.xAxes[0].max = this.chartdata.length\n      this.renderChart(this.chartdata, this.options)\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n\n</style>\n","var render, staticRenderFns\nimport script from \"./trait-plot.vue?vue&type=script&lang=js&\"\nexport * from \"./trait-plot.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23e4472b\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./trait-plot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./trait-plot.vue?vue&type=script&lang=js&\"","<script>\nimport _get from 'lodash/get'\nimport { Scatter } from 'vue-chartjs'\n\nexport default {\n  name: 'OverviewPlot'\n  , extends: Scatter\n  , props: {\n    'data': {\n      type: Array\n    }\n    , label: {\n      type: String\n    }\n    , textColor: {\n      type: String\n      , default: '#FCFDF4'\n    }\n  }\n  , components: {\n  }\n  , data: () => ({\n  })\n  , computed: {\n    options(){\n\n      // let titleColor = chroma(this.color).desaturate(1).css()\n      return {\n        responsive: true\n        , maintainAspectRatio: false\n        , hoverMode: 'index'\n        , animation: {\n          duration: 0\n        }\n        , tooltips: {\n          intersect: false\n          , mode: 'index'\n          , position: 'nearest'\n          , callbacks: {\n            label(tooltipItem, data){\n              let idx = tooltipItem.datasetIndex\n              let label = data.datasets[idx].label\n              return `${label}: ${tooltipItem.yLabel.toFixed(2)}`\n            }\n            , title(tooltipItem){\n              let gen = tooltipItem[0].xLabel\n              return 'Generation: ' + gen\n            }\n          }\n        }\n        , scales: {\n          xAxes: [{\n            display: true\n            , ticks: {\n              min: 1\n              , fontColor: this.textColor\n            }\n            // , scaleLabel: {\n            //   display: true\n            //   , labelString: 'Generation'\n            //   , fontColor: this.textColor\n            //   , fontSize: 14\n            // }\n          }]\n          , yAxes: [{\n            id: 'traits'\n            , type: 'linear'\n            , beginAtZero: true\n            , display: true\n            , ticks: {\n              fontColor: this.textColor\n            }\n            , stacked: true\n            , position: 'left'\n            , scaleLabel: {\n              display: true\n              , labelString: 'Traits'\n              , fontColor: this.textColor\n              , fontSize: 16\n            }\n          }, {\n            id: 'population'\n            , type: 'linear'\n            , beginAtZero: true\n            , display: true\n            , ticks: {\n              fontColor: this.textColor\n            }\n            , position: 'right'\n            , scaleLabel: {\n              display: true\n              , labelString: 'Population'\n              , fontColor: this.textColor\n              , fontSize: 16\n            }\n          }]\n        }\n        // , title: {\n        //   display: true\n        //   // , position: 'left'\n        //   , text: this.label\n        //   , fontSize: 20\n        //   , fontColor: titleColor\n        // }\n        , legend: {\n          display: false\n        }\n        , elements: {\n          line: {\n            borderWidth: 1\n            , tension: 0\n          }\n        }\n      }\n    }\n    , chartdata(){\n      if ( !this.data ){ return {} }\n      let options = {\n        showLine: true\n        , pointRadius: 1\n        , fill: false\n      }\n\n      let datasets = this.data.map(d => {\n        return {\n          ...options\n          , ...d\n          , borderColor: d.color\n          , backgroundColor: d.color\n          , data: d.data ? d.data.map((d, x) => ({ y: _get(d, 'mean', d), x: x + 1 })) : []\n        }\n      })\n\n      return { datasets }\n    }\n  }\n  , watch: {\n    chartdata(){\n      this.render()\n    }\n    , options(){\n      this.render()\n    }\n  }\n  , mounted() {\n    this.render()\n\n    const onClick = () => {\n      let tooltip = this._data._chart.tooltip\n      if (!tooltip._active){ return }\n      let gen = tooltip._active[0]._index + 1\n      this.$emit('click', gen)\n    }\n    this.$el.addEventListener('click', onClick)\n    this.$on('hook:beforeDestroy', () => {\n      this.$el.removeEventListener('click', onClick)\n    })\n  }\n  , methods: {\n    render(){\n      if (this._inactive){ return }\n      this.options.scales.xAxes[0].max = this.chartdata.length\n      this.renderChart(this.chartdata, this.options)\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n\n</style>\n","var render, staticRenderFns\nimport script from \"./overview-plot.vue?vue&type=script&lang=js&\"\nexport * from \"./overview-plot.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bcdc6d6\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./overview-plot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./overview-plot.vue?vue&type=script&lang=js&\"","<script>\nimport _times from 'lodash/times'\nimport { Bar } from 'vue-chartjs'\n\nexport default {\n  name: 'FoodPlot'\n  , extends: Bar\n  , props: {\n    'data': {\n      type: Array\n    }\n    , label: {\n      type: String\n    }\n    , textColor: {\n      type: String\n      , default: '#FCFDF4'\n    }\n    , responsive: {\n      type: Boolean\n      , default: true\n    }\n    , stacked: {\n      type: Boolean\n      , default: false\n    }\n    , maxFood: Number\n  }\n  , components: {\n  }\n  , data: () => ({\n  })\n  , computed: {\n    options(){\n\n      // let titleColor = chroma(this.color).desaturate(1).css()\n      return {\n        responsive: this.responsive\n        , maintainAspectRatio: false\n        , hoverMode: 'index'\n        , animation: {\n          duration: 0\n        }\n        , tooltips: {\n          intersect: false\n          , mode: 'index'\n          , position: 'nearest'\n          , callbacks: {\n            label(tooltipItem, data){\n              let idx = tooltipItem.datasetIndex\n              let label = data.datasets[idx].label\n              return `${label}: ${tooltipItem.yLabel.toFixed(0)}`\n            }\n            , title(tooltipItem){\n              let gen = tooltipItem[0].index + 1\n              return 'Generation: ' + gen\n            }\n          }\n        }\n        , scales: {\n          xAxes: [{\n            display: true\n            , ticks: {\n              min: 1\n              , fontColor: this.textColor\n            }\n            // , scaleLabel: {\n            //   display: true\n            //   , labelString: 'Generation'\n            //   , fontColor: this.textColor\n            //   , fontSize: 14\n            // }\n          }]\n          , yAxes: [{\n            type: 'linear'\n            , beginAtZero: true\n            , display: true\n            , ticks: {\n              fontColor: this.textColor\n              , max: this.maxFood\n            }\n            , stacked: this.stacked\n            , position: 'left'\n            , scaleLabel: {\n              display: true\n              , labelString: '# Blobs'\n              , fontColor: this.textColor\n              , fontSize: 16\n            }\n          }]\n        }\n        // , title: {\n        //   display: true\n        //   // , position: 'left'\n        //   , text: this.label\n        //   , fontSize: 20\n        //   , fontColor: titleColor\n        // }\n        , legend: {\n          display: false\n        }\n        , elements: {\n          line: {\n            borderWidth: 1\n            , tension: 0\n          }\n        }\n      }\n    }\n    , chartdata(){\n      if ( !this.data ){ return {} }\n      let options = {\n        showLine: true\n        , pointRadius: 1\n        , fill: false\n      }\n\n      let datasets = this.data.map(d => {\n        return {\n          ...options\n          , borderColor: d.color\n          , backgroundColor: d.color\n          , ...d\n          , data: d.data ? d.data.map((d) => d[1]) : []\n        }\n      })\n\n      return {\n        labels: this.data.length ? _times(this.data[0].data.length, () => \"\") : []\n        , datasets\n      }\n    }\n  }\n  , watch: {\n    chartdata(){\n      this.render()\n    }\n    , options(){\n      this.render()\n    }\n  }\n  , mounted() {\n    this.render()\n\n    const onClick = () => {\n      let tooltip = this._data._chart.tooltip\n      if (!tooltip._active){ return }\n      let gen = tooltip._active[0]._index + 1\n      this.$emit('click', gen)\n    }\n    this.$el.addEventListener('click', onClick)\n    this.$on('hook:beforeDestroy', () => {\n      this.$el.removeEventListener('click', onClick)\n    })\n  }\n  , methods: {\n    render(){\n      if (this._inactive){ return }\n      this.options.scales.xAxes[0].max = this.chartdata.length\n      this.renderChart(this.chartdata, this.options)\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n\n</style>\n","var render, staticRenderFns\nimport script from \"./birth-death-plot.vue?vue&type=script&lang=js&\"\nexport * from \"./birth-death-plot.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"625fbb02\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./birth-death-plot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./birth-death-plot.vue?vue&type=script&lang=js&\"","<template lang=\"pug\">\n.simulation-statistics.scrollbars\n  .columns\n    .column.is-one-half\n      b-field(label=\"Filter By Species\")\n        b-select(v-model=\"statsSpeciesFilter\")\n          option(v-for=\"(p, i) in speciesFilterList\", :value=\"i\", :key=\"p[1]\") {{ p[1] }}\n    .column\n      b-field.generation-controls\n        p.control\n          b-tooltip(label=\"Download the data as a CSV\", position=\"is-left\")\n            b-button.btn-dark(@click=\"downloadCSV\", :loading=\"isDownloading\", icon-left=\"download\") Download\n        p.control\n          b-tooltip(label=\"Run the simulation again\", position=\"is-left\")\n            b-button.btn-dark(@click=\"restart()\", :loading=\"isContinuing\", icon-right=\"reload\")\n        p.control\n          b-tooltip(label=\"Run the simulation with a new random seed\", position=\"is-left\")\n            b-button.btn-dark(@click=\"shuffleSimulation()\", :loading=\"isContinuing\", icon-right=\"dice-5\")\n        p.control\n          b-tooltip(label=\"See more generations\", position=\"is-left\")\n            b-button.btn-dark(@click=\"keepGoing()\", :loading=\"isContinuing\", icon-right=\"layers-plus\")\n  .field.is-grouped.is-grouped.multiline\n    .tags\n      .tag.is-large.clickable(v-for=\"plot in hiddenPlots\", :style=\"{ color: plot.titleColor }\", @click=\"showPlot(plot)\")\n        b-icon(icon=\"plus-box\")\n        span {{ plot.label | startCase }}\n\n  .columns\n    .column\n      h2.heading.plot-title\n        span.name Overview\n      OverviewPlot(:data=\"plots\", label=\"Overview\")\n  .columns\n    .column\n      h2.heading.plot-title\n        span.name Births and Deaths\n      BirthDeathPlot(:data=\"birthsDeathsData\", :stacked=\"true\", @click=\"loadGeneration\")\n    .column\n      h2.heading.plot-title\n        span.name Food\n      FoodPlot(:data=\"foodData\", :maxFood=\"maxFood\", @click=\"loadGeneration\")\n  .columns.is-multiline\n    .column.is-half-tablet.is-one-third-fullhd(v-for=\"plot in plots\", :key=\"plot.label\")\n      h2.heading.plot-title.clickable(:style=\"{ color: plot.titleColor }\", @click=\"hidePlot(plot)\")\n        b-icon(icon=\"minus-box\")\n        | &nbsp;\n        span.name {{ plot.label | startCase }}\n      TraitPlot(:data=\"plot.data\", :label=\"plot.label | startCase\", :color=\"plot.color\", @click=\"loadGeneration\")\n  a.is-hidden(ref=\"downloadEl\")\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport _mapValues from 'lodash/mapValues'\nimport _findIndex from 'lodash/findIndex'\nimport chroma from 'chroma-js'\nimport sougy from '@/config/sougy-colors'\nimport traitColors from '@/config/trait-colors'\nimport TraitPlot from '@/components/trait-plot'\nimport OverviewPlot from '@/components/overview-plot'\nimport FoodPlot from '@/components/food-plot'\nimport BirthDeathPlot from '@/components/birth-death-plot'\n\nconst titleColors = _mapValues(traitColors, c => chroma(c).desaturate(1).css())\n\nexport default {\n  name: 'SimulationStatistics'\n  , props: {\n  }\n  , data: () => ({\n    traitColors\n    , populationColor: traitColors.population\n    , titleColors\n    , hiddenPlots: []\n    , isDownloading: false\n  })\n  , components: {\n    TraitPlot\n    , FoodPlot\n    , OverviewPlot\n    , BirthDeathPlot\n  }\n  , created(){\n  }\n  , deactivated(){\n  }\n  , beforeDestroy(){\n  }\n  , mounted(){\n  }\n  , computed: {\n    ...mapGetters('simulation', {\n      generationIndex: 'currentGenerationIndex'\n      , statistics: 'statistics'\n      , traits: 'traits'\n      , isLoading: 'isLoading'\n      , isContinuing: 'isContinuing'\n      , speciesFilterList: 'speciesFilterList'\n    })\n    , statsSpeciesFilter: {\n      get(){\n        return this.$store.state.simulation.statsSpeciesFilter\n      }\n      , set(v){\n        this.$store.dispatch('simulation/setStatsFilter', v)\n      }\n    }\n    , plots(){\n      return [{\n        color: traitColors.population\n        , titleColor: traitColors.population\n        , data: this.populationData\n        , label: 'population'\n        , yAxisID: 'population'\n      }].concat(\n        this.traits.map(t => ({\n          color: traitColors[t]\n          , titleColor: titleColors[t]\n          , data: this.traitData[t]\n          , label: t\n        }))\n      ).filter(v => _findIndex(this.hiddenPlots, ['label', v.label]) < 0)\n    }\n    , birthsDeathsData(){\n      if (!this.statistics){ return [] }\n      const gs = this.statistics.generation_statistics\n      return [{\n        color: sougy.ivory\n        , backgroundColor: chroma(sougy.ivory).alpha(0.5).css()\n        , fill: 'origin'\n        , label: 'Net Change'\n        , type: 'line'\n        , data: gs.map((g, i) => [i + 1, g.births - g.deaths])\n      }, {\n        color: sougy.green\n        , backgroundColor: chroma(sougy.green).alpha(0.5).css()\n        , fill: 'origin'\n        , label: 'Births'\n        , stack: 'stack'\n        , data: gs.map((g, i) => [i + 1, g.births])\n      }, {\n        color: sougy.red\n        , backgroundColor: chroma(sougy.red).alpha(0.5).css()\n        , fill: 'origin'\n        , label: 'Deaths'\n        , stack: 'stack'\n        , data: gs.map((g, i) => [i + 1, -g.deaths])\n      }]\n    }\n    , foodData(){\n      if (!this.statistics){ return [] }\n      const gs = this.statistics.generation_statistics\n      return [{\n        color: sougy.ivory\n        , backgroundColor: chroma(sougy.ivory).alpha(0.2).css()\n        , fill: '+1'\n        , label: 'Food Available'\n        , data: gs.map((g, i) => [i + 1, g.food_balls_available])\n      }, {\n        color: sougy.green\n        , backgroundColor: chroma(sougy.green).alpha(0.5).css()\n        , fill: 'origin'\n        , label: 'Food Eaten'\n        , data: gs.map((g, i) => [i + 1, g.food_balls_eaten])\n      }, {\n        color: sougy.red\n        , backgroundColor: chroma(sougy.red).alpha(0.5).css()\n        , fill: 'origin'\n        , label: 'Creatures Eaten'\n        , data: gs.map((g, i) => [i + 1, g.creatures_eaten])\n      }]\n    }\n    , maxFood(){\n      if (!this.statistics){ return 0 }\n      return this.statistics.generation_statistics.reduce((a, g) =>\n        Math.max(a, g.food_balls_available)\n      , 0)\n    }\n    , traitData(){\n      if (!this.statistics){ return {} }\n      let data = {}\n      this.traits.forEach(t => {\n        data[t] = this.statistics.generation_statistics.map(d => d[t])\n      })\n      return data\n    }\n    , populationData(){\n      if (!this.statistics){ return [] }\n      return this.statistics.generation_statistics.map(d => d.population)\n    }\n  }\n  , watch: {\n  }\n  , methods: {\n    async downloadCSV(){\n      this.isDownloading = true\n      let csvContent = await this.$store.dispatch('simulation/getCSV')\n      let date = (new Date()).toISOString()\n      let speciesFilterLabel = this.speciesFilterList[this.statsSpeciesFilter][1]\n      let link = this.$refs.downloadEl\n      let blob = new Blob([csvContent], {type: 'text/csv'})\n      let href = window.URL.createObjectURL(blob)\n      link.setAttribute('href', href)\n      link.setAttribute('download', `EvolutionSimulatorData_${speciesFilterLabel}_${date}.csv`)\n      link.click()\n      this.isDownloading = false\n    }\n    , showPlot(plot){\n      let index = this.hiddenPlots.indexOf(plot)\n      this.hiddenPlots.splice(index, 1)\n    }\n    , hidePlot(plot){\n      this.hiddenPlots.push(plot)\n    }\n    , shuffleSimulation(){\n      let seed = (Math.random() * 1000) | 0\n      this.$store.dispatch('simulation/setConfig', { seed })\n      this.restart()\n    }\n    , loadGeneration(generationIndex){\n      let route = this.$route\n      let params = route ? route.params : {}\n      let query = route ? route.query : {}\n      this.$router.push({ name: 'viewscreen', params: { ...params, generationIndex }, query })\n    }\n    , ...mapActions('simulation', {\n      restart: 'run'\n      , keepGoing: 'continue'\n    })\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.simulation-statistics\n  padding: 6em 2em 0\n  overflow-y: scroll\n.plot-title\n  margin-top: 1em\n  text-align: center\n  white-space: nowrap\n  .icon\n    position: relative\n    top: 2px\n  .name\n    font-size: 24px\n.field.generation-controls\n  justify-content: flex-end\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./simulation-statistics.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./simulation-statistics.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./simulation-statistics.vue?vue&type=template&id=0983793d&scoped=true&lang=pug&\"\nimport script from \"./simulation-statistics.vue?vue&type=script&lang=js&\"\nexport * from \"./simulation-statistics.vue?vue&type=script&lang=js&\"\nimport style0 from \"./simulation-statistics.vue?vue&type=style&index=0&id=0983793d&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0983793d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"viewer\"},[_c('transition',{attrs:{\"name\":\"slide-down\",\"appear\":\"\"},on:{\"after-enter\":_vm.fixLayout,\"after-leave\":_vm.fixLayout}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showConfig && !_vm.showIntro),expression:\"!showConfig && !showIntro\"}],staticClass:\"top-controls\"},[_c('FloatingPanel',{attrs:{\"size\":\"is-medium\",\"close-on-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c('b-icon',{staticClass:\"icon-btn\",attrs:{\"icon\":\"layers-search\",\"size\":\"is-medium\"}})]},proxy:true}])},[_c('div',{staticClass:\"item\"},[_c('b-tooltip',{attrs:{\"label\":\"Toggle sight range indicators\",\"position\":\"is-left\"}},[_c('b-icon',{staticClass:\"icon-btn\",class:{ active: _vm.showSightIndicator },attrs:{\"icon\":\"eye\",\"size\":\"is-medium\"},nativeOn:{\"click\":function($event){$event.stopPropagation();_vm.showSightIndicator = !_vm.showSightIndicator}}})],1)],1),_c('div',{staticClass:\"item\"},[_c('b-tooltip',{attrs:{\"label\":\"Color blobs based on speed (brown: slow, red: fast)\",\"position\":\"is-left\"}},[_c('b-icon',{staticClass:\"icon-btn\",class:{ active: _vm.showSpeedIndicator },attrs:{\"icon\":\"run-fast\",\"size\":\"is-medium\"},nativeOn:{\"click\":function($event){$event.stopPropagation();_vm.showSpeedIndicator = !_vm.showSpeedIndicator}}})],1)],1),_c('div',{staticClass:\"item\"},[_c('b-tooltip',{attrs:{\"label\":\"Toggle energy indicators\",\"position\":\"is-left\"}},[_c('b-icon',{staticClass:\"icon-btn\",class:{ active: _vm.showEnergyIndicator },attrs:{\"icon\":\"battery-charging\",\"size\":\"is-medium\"},nativeOn:{\"click\":function($event){$event.stopPropagation();_vm.showEnergyIndicator = !_vm.showEnergyIndicator}}})],1)],1),_c('div',{staticClass:\"item\"},[_c('b-tooltip',{attrs:{\"label\":\"Toggle food indicators\",\"position\":\"is-left\"}},[_c('b-icon',{staticClass:\"icon-btn\",class:{ active: _vm.showFoodIndicator },attrs:{\"icon\":\"silverware-fork-knife\",\"size\":\"is-medium\"},nativeOn:{\"click\":function($event){$event.stopPropagation();_vm.showFoodIndicator = !_vm.showFoodIndicator}}})],1)],1)]),_c('b-icon',{staticClass:\"icon-btn\",class:{ active: _vm.followCreature },attrs:{\"icon\":\"cctv\",\"size\":\"is-medium\"},nativeOn:{\"click\":function($event){$event.stopPropagation();_vm.followCreature = !_vm.followCreature}}}),_c('div',{staticClass:\"under\"},[(_vm.followCreature && _vm.followCreatureId)?_c('CreatureFlowerChart',{attrs:{\"id\":_vm.followCreatureId}}):_vm._e()],1)],1)]),_c('div',{staticClass:\"screen\"},[_c('b-loading',{staticClass:\"loading-cover\",attrs:{\"is-full-page\":false,\"active\":!_vm.showIntro && _vm.isLoading}}),_c('GenerationViewer',{ref:\"generationViewer\",attrs:{\"generation-index\":_vm.genIndex,\"step-time\":_vm.stepTime,\"sight-indicators\":_vm.showSightIndicator,\"speed-indicators\":_vm.showSpeedIndicator,\"energy-indicators\":_vm.showEnergyIndicator,\"food-indicators\":_vm.showFoodIndicator,\"followCreatureId\":_vm.followCreature ? _vm.followCreatureId : undefined},on:{\"tap-creature\":function($event){_vm.followCreatureId = $event.creature.id; _vm.followCreature = true}}})],1),_c('transition',{attrs:{\"name\":\"fade\",\"appear\":\"\"}},[(!_vm.showIntro)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showConfig),expression:\"!showConfig\"}],staticClass:\"controls\"},[_c('div',{staticClass:\"inner\"},[_c('b-field',{staticClass:\"extras\",class:{ active: _vm.playthrough },attrs:{\"grouped\":\"\",\"position\":\"is-centered\"}},[_c('b-field',[_c('b-tooltip',{attrs:{\"label\":'Playthrough ' + (_vm.playthrough ? '(is on)' : '(is off)'),\"position\":\"is-top\"}},[_c('b-icon',{staticClass:\"icon-btn\",attrs:{\"title\":\"play through\",\"size\":\"is-medium\",\"icon\":\"transfer-right\"},nativeOn:{\"click\":function($event){_vm.playthrough = !_vm.playthrough}}})],1)],1)],1),_c('b-field',{attrs:{\"grouped\":\"\",\"position\":\"is-centered\"}},[_c('b-field',[_c('b-icon',{staticClass:\"icon-btn\",attrs:{\"icon\":\"chevron-left\",\"size\":\"is-large\"},nativeOn:{\"click\":function($event){return _vm.prevGeneration()}}})],1),_c('b-field',[_c('b-icon',{staticClass:\"icon-btn\",attrs:{\"icon\":_vm.paused ? 'play' : 'pause',\"size\":\"is-large\"},nativeOn:{\"click\":function($event){return _vm.togglePlay()}}})],1),_c('b-field',[_c('b-icon',{staticClass:\"icon-btn\",attrs:{\"icon\":\"chevron-right\",\"size\":\"is-large\"},nativeOn:{\"click\":function($event){return _vm.nextGeneration()}}})],1)],1),_c('div',{staticClass:\"right\"},[_c('FloatingPanel',{attrs:{\"size\":\"is-medium\",\"direction\":\"up\",\"close-on-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c('b-icon',{staticClass:\"icon-btn\",attrs:{\"icon\":\"clock-fast\",\"size\":\"is-medium\"}})]},proxy:true}],null,false,621597160)},[_c('div',{staticClass:\"item\"},[_c('vue-slider',{attrs:{\"min\":1,\"max\":13,\"interval\":1,\"height\":200,\"direction\":\"btt\",\"contained\":true},model:{value:(_vm.playbackSpeed),callback:function ($$v) {_vm.playbackSpeed=$$v},expression:\"playbackSpeed\"}})],1)])],1)],1),_c('AudioScrubber',{attrs:{\"progress\":_vm.progress},on:{\"scrub\":_vm.onScrub,\"scrubstart\":_vm.onScrubStart,\"scrubend\":_vm.onScrubEnd}})],1):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"generation-viewer\"},[_c('v3-renderer',{ref:\"renderer\",attrs:{\"width\":_vm.viewWidth,\"height\":_vm.viewHeight,\"shadows\":true,\"outlineColor\":_vm.highlightColor}},[_c('Gestures',{attrs:{\"names\":_vm.interactiveObjects},on:{\"tap\":_vm.tapCreature,\"hover\":_vm.onHover}}),_c('v3-scene',[_c('v3-camera',{ref:\"camera\",attrs:{\"position\":_vm.persCameraPos,\"prevent-update\":\"\",\"far\":4500,\"near\":1,\"aspect\":_vm.viewWidth / _vm.viewHeight}},[_c('v3-dom',{ref:\"tour\",attrs:{\"position\":_vm.tourPosition}},[_c('Tour')],1)],1),_c('v3-light',{attrs:{\"type\":\"ambient\",\"intensity\":0.9}}),_c('v3-light',{attrs:{\"type\":\"directional\",\"intensity\":0.25,\"position\":[100, 200, -10],\"cast-shadow\":true,\"shadow-camera\":_vm.shadowCamera,\"shadow-bias\":0.0001,\"shadow-radius\":0,\"shadow-map-size-power\":1}}),_c('v3-fog',{attrs:{\"near\":1000,\"far\":3000,\"color\":0xc9d7e6}}),_c('fadeTransition',[(_vm.showWorld)?_c('v3-plane',{attrs:{\"width\":_vm.gridSize,\"height\":_vm.gridSize,\"position\":[0, -0.05, 0],\"color\":0xFFFFFF,\"rotation\":[-Math.PI / 2, 0, 0],\"receive-shadow\":true}}):_vm._e()],1),_c('fadeTransition',[(_vm.showWorld)?_c('v3-box',{attrs:{\"width\":_vm.gridSize + 40,\"height\":_vm.gridSize + 40,\"depth\":10,\"position\":[0, -6, 0],\"color\":0xAAAAAA,\"rotation\":[-Math.PI / 2, 0, 0],\"receive-shadow\":true}}):_vm._e()],1),(_vm.showWorld)?_c('v3-group',{attrs:{\"position\":[-_vm.gridSize * 0.5, 0, -_vm.gridSize * 0.5]}},_vm._l((_vm.generation.food),function(food,index){return _c('Food',{key:index,attrs:{\"food\":food,\"cast-shadow\":true,\"receive-shadow\":true}})}),1):_vm._e(),(_vm.showWorld)?_c('v3-group',{attrs:{\"position\":[-_vm.gridSize * 0.5, 0, -_vm.gridSize * 0.5]}},_vm._l((_vm.generation.creatures),function(c,index){return _c('Creature',_vm._b({key:index,ref:\"v3Creatures\",refInFor:true,attrs:{\"creature\":c,\"size\":3,\"color\":_vm.speedIndicators ? _vm.speedColorScale(c.speed[0]).num() : _vm.getCreatureColor(c.species)}},'Creature',_vm.creatureIndicators,false),[(c.id === _vm.followCreatureId)?_c('v3-group',[_c('v3-dom',{attrs:{\"position\":[0, 13 * (c.size[0]/10 + 0.5), 0]}},[_c('CreatureStatus',{attrs:{\"creature\":c}})],1),_c('v3-group',{ref:\"cameraGoal\",refInFor:true,attrs:{\"position\":[-100, 50, 0]}}),_c('v3-group',{ref:\"cameraFocusGoal\",refInFor:true,attrs:{\"position\":[0, 30, 0]}})],1):_vm._e()],1)}),1):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import * as THREE from 'three'\n/* eslint-disable no-unused-vars */\nimport { CSS2DRenderer } from 'three/examples/jsm/renderers/CSS2DRenderer'\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer'\nimport { CopyShader } from 'three/examples/jsm/shaders/CopyShader'\nimport { Pass } from 'three/examples/jsm/postprocessing/Pass'\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass'\nimport { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass'\nimport { OutlinePass } from 'three/examples/jsm/postprocessing/OutlinePass'\nimport { FXAAShader } from 'three/examples/jsm/shaders/FXAAShader'\n/* eslint-enable no-unused-vars */\n/* eslint-disable comma-style */\n// BUG fix for memory leak....\nPass.FullScreenQuad = ( function () {\n\n\tvar camera = new THREE.OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\n\tvar FullScreenQuad = function ( material ) {\n    var geometry = new THREE.PlaneBufferGeometry( 2, 2 );\n\n\t\tthis._mesh = new THREE.Mesh( geometry, material );\n\n\t};\n\n\tObject.defineProperty( FullScreenQuad.prototype, 'material', {\n\n\t\tget: function () {\n\n\t\t\treturn this._mesh.material;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._mesh.material = value;\n\n\t\t}\n\n\t} );\n\n\tObject.assign( FullScreenQuad.prototype, {\n\n\t\trender: function ( renderer ) {\n\n\t\t\trenderer.render( this._mesh, camera );\n\n\t\t}\n\n\t} );\n\n\treturn FullScreenQuad;\n\n} )();\n/* eslint-enable comma-style */\n\nexport default {\n  name: 'v3-renderer'\n  , props: {\n    width: Number\n    , height: Number\n    , outlineColor: {\n      type: Number\n      , default: 0xFFFFFF\n    }\n    , outlineColorBehind: {\n      type: Number\n      , default: 0x666666\n    }\n\t\t, clearColor: {\n\t\t\ttype: Number\n\t\t\t, default: 0x000000\n\t\t}\n\t\t, clearAlpha: {\n\t\t\ttype: Number\n\t\t\t, default: 0\n\t\t}\n\t\t, shadows: Boolean\n  }\n  , components: {\n  }\n  , data: () => ({\n  })\n  , provide(){\n    const threeVue = this\n\n    return { threeVue }\n  }\n  , created(){\n\n    this.afterReady(() => { this.isReady = true })\n\n    this.renderer = new THREE.WebGLRenderer({\n      alpha: true\n      , antialias: false\n      // , canvas: this.$el\n    })\n\n\t\tthis.renderer.shadowMap.enabled = this.shadows\n\t\tthis.renderer.shadowMap.type = THREE.PCFSoftShadowMap\n    this.renderer.setPixelRatio( window.devicePixelRatio )\n    // this.renderer.toneMapping = THREE.ReinhardToneMapping\n\n    this.cssRenderer = new CSS2DRenderer({})\n\n    // https://threejs.org/examples/webgl_postprocessing_outline.html\n    let composer = this.composer = new EffectComposer( this.renderer )\n    let renderPass = this.renderPass = new RenderPass( null, null, null, new THREE.Color(this.clearColor), this.clearAlpha )\n    composer.addPass( renderPass )\n\n    let effectFXAA = this.effectFXAA = new ShaderPass( FXAAShader )\n    let pixelRatio = this.renderer.getPixelRatio()\n\t\teffectFXAA.material.uniforms[ 'resolution' ].value.x = 1 / ( this.width * pixelRatio )\n\t\teffectFXAA.material.uniforms[ 'resolution' ].value.y = 1 / ( this.height * pixelRatio )\n    composer.addPass( effectFXAA )\n\n    this.$watch(() => this.width + ~this.height, () => {\n      this.renderer.setSize( this.width, this.height )\n      this.cssRenderer.setSize( this.width, this.height )\n      this.composer.setSize( this.width, this.height )\n      effectFXAA.material.uniforms[ 'resolution' ].value.x = 1 / ( this.width * pixelRatio )\n      effectFXAA.material.uniforms[ 'resolution' ].value.y = 1 / ( this.height * pixelRatio )\n      this.$emit('resize')\n    }, { immediate: true })\n  }\n  , beforeDestroy(){\n    this.renderer.dispose()\n    this.effectFXAA.material.dispose()\n    this.effectFXAA.fsQuad._mesh.geometry.dispose()\n    this.composer.renderTarget1.dispose()\n    this.composer.renderTarget2.dispose()\n    this.composer.copyPass.material.dispose()\n    this.composer.copyPass.fsQuad._mesh.geometry.dispose()\n    if ( this.outlinePass ){\n      this.outlinePass.dispose()\n    }\n  }\n  , mounted(){\n    // append renderers\n    this.cssRenderer.domElement.style.position = 'absolute'\n    this.cssRenderer.domElement.style.top = '0'\n    this.cssRenderer.domElement.style.left = '0'\n    this.cssRenderer.domElement.style.zIndex = '1'\n    this.cssRenderer.domElement.style.userSelect = 'none'\n    this.cssRenderer.domElement.style.lineHeight = 'normal'\n    this.cssRenderer.domElement.className = 'no-events'\n    this.$el.appendChild( this.renderer.domElement )\n    this.$el.appendChild( this.cssRenderer.domElement )\n  }\n  , computed: {\n  }\n  , watch: {\n    outlineColor(){\n      this.outlinePass.visibleEdgeColor.set(this.outlineColor)\n    }\n    , outlineColorBehind(){\n      this.outlinePass.hiddenEdgeColor.set(this.outlineColorBehind)\n    }\n\t\t, shadows(){\n\t\t\tthis.renderer.shadowMap.enabled = this.shadows\n\t\t}\n\t\t, clearColor(){\n\t\t\tthis.renderPass.clearColor = new THREE.Color(this.clearColor)\n\t\t}\n\t\t, clearAlpha(){\n\t\t\tthis.renderPass.clearAlpha = this.clearAlpha\n\t\t}\n  }\n  , methods: {\n    draw(){\n      if ( !this.scene ){\n        this.draw = () => {}\n        throw new Error('No scene added to the renderer')\n      }\n\n      if ( !this.camera ){\n        this.draw = () => {}\n        throw new Error('No camera added to the renderer')\n      }\n\n      this.$emit('beforeDraw')\n\n      this.initOutlinePass()\n\n      this.renderPass.camera = this.camera\n      this.renderPass.scene = this.scene\n      // this.renderer.render( this.scene, this.camera )\n      this.composer.render()\n      this.cssRenderer.render( this.scene, this.camera )\n    }\n    , getObjectByName( name ){\n      return this.scene.getObjectByName( name )\n    }\n    , afterReady( fn ){\n      if ( this.isReady ){\n        fn()\n        return this\n      }\n\n      this.$once('hook:mounted', fn)\n    }\n    , checkClear(){\n      let idx = this.composer.passes.indexOf(this.renderPass)\n      this.renderPass.clear = idx === 0\n    }\n    , insertRenderPass( pass, idx ){\n      if ( this.composer.passes.indexOf( pass ) > -1 ){ return }\n      if ( idx === undefined ){\n        idx = this.composer.passes.length\n      }\n\n      this.composer.insertPass( pass, idx )\n      this.checkClear()\n    }\n    , removeRenderPass( pass ){\n      let idx = this.composer.passes.indexOf( pass )\n      if ( idx < 0 ){ return }\n      this.composer.passes.splice( idx, 1 )\n    }\n    , initOutlinePass(){\n      if (\n        !this.outlinePass ||\n        this.outlinePass.renderCamera !== this.camera ||\n        this.outlinePass.renderScene !== this.scene\n      ){\n        if ( this.outlinePass ){\n          let idx = this.composer.passes.indexOf(this.outlinePass)\n          this.composer.passes.splice( idx, 1 )\n          this.outlinePass.dispose()\n        }\n        const dims = new THREE.Vector2( this.width, this.height )\n        let outlinePass = this.outlinePass = new OutlinePass( dims, this.scene, this.camera )\n\n        outlinePass.edgeStrength = 3\n        outlinePass.edgeThickness = 1\n        // outlinePass.pulsePeriod = 2\n        outlinePass.overlayMaterial.blending = THREE.NormalBlending\n        // outlinePass.overlayMaterial.blendEquation = THREE.ReverseSubtractEquation\n        // outlinePass.overlayMaterial.blendSrc = THREE.SrcColorFactor\n        // outlinePass.overlayMaterial.blendDst = THREE.DstAlphaFactor\n        outlinePass.visibleEdgeColor.set(this.outlineColor)\n        outlinePass.hiddenEdgeColor.set(this.outlineColorBehind)\n\n        this.composer.addPass( outlinePass )\n      }\n    }\n    , addOutline( v3object ){\n      let idx = this.outlinePass.selectedObjects.indexOf( v3object )\n      if ( idx > -1 ) return\n      this.outlinePass.selectedObjects.push( v3object )\n    }\n    , removeOutline( v3object ){\n      if ( v3object === undefined ){\n        // remove all\n        this.outlinePass.selectedObjects = []\n      }\n      let idx = this.outlinePass.selectedObjects.indexOf( v3object )\n      if ( idx < 0 ) return\n      this.outlinePass.selectedObjects.splice( idx, 1 )\n    }\n  }\n  , render(h){\n    return h('div'\n      , {\n        style: {\n          position: 'relative'\n          , overflow: 'hidden'\n          , lineHeight: 0\n        }\n      }\n      , this.$slots.default\n    )\n  }\n}\n","import {\n  Color\n  , Vector3\n  , Euler\n} from 'three'\n// import _uniq from 'lodash/uniq'\nimport _compact from 'lodash/compact'\n\nexport default {\n  props: {\n    name: String\n    , visible: {\n      type: Boolean\n      , default: true\n    }\n    , castShadow: {\n      type: Boolean\n      , default: false\n    }\n    , receiveShadow: {\n      type: Boolean\n      , default: false\n    }\n    , depthTest: {\n      type: Boolean\n      , default: true\n    }\n    , depthWrite: {\n      type: Boolean\n      , default: true\n    }\n  }\n  , inject: [ 'threeVue' ]\n  , created(){\n    this.disposables = []\n  }\n  , mounted(){\n    if ( !this.v3object ){\n      throw new Error('Please set component v3object property')\n    }\n\n    const parent = this.$parent.v3object\n\n    if ( !parent ){ return }\n\n    parent.add( this.v3object )\n    this.$on('hook:beforeDestroy', () => {\n      parent.remove( this.v3object )\n    })\n\n    this.threeVue.$emit('scene:changed', { type: 'add', component: this, object: this.v3object })\n  }\n  , beforeDestroy(){\n    this.threeVue.$emit('scene:changed', { type: 'remove', component: this, object: this.v3object })\n\n    // set this to false to prevent autoclean\n    if ( this.autoClean !== false ){\n      this.registerDisposables([ this.v3object, this.v3object.geometry, this.v3object.material ])\n    }\n\n    this.disposables.forEach( thing => {\n      thing.dispose()\n    })\n  }\n  , render(h){\n    if ( !this.v3object ){\n      this.createObject()\n    }\n    this.updateObjects()\n    let obj = this.v3object\n    let material = obj.material\n    obj.name = this.name\n    obj.visible = this.visible\n    obj.castShadow = this.castShadow\n    obj.receiveShadow = this.receiveShadow\n    if ( material ){\n      material.depthTest = this.depthTest\n      material.depthWrite = this.depthWrite\n    }\n    return h(\n      'div'\n      , this.visible ? this.$slots.default : []\n    )\n  }\n  , methods: {\n\n    updateObjects(){\n      // abstract\n    }\n\n    , registerDisposables( thing, deep ){\n      if ( !thing || this.disposables.indexOf(thing) > -1 ){ return this }\n      if ( deep ){\n        if ( thing.children ){\n          this.registerDisposables(thing.children, deep)\n        }\n        if ( thing.material ){\n          this.registerDisposables(thing.material, deep)\n        }\n        if ( thing.geometry ){\n          this.registerDisposables(thing.material, deep)\n        }\n      }\n      if ( thing.dispose ){\n        this.disposables.push( thing )\n\n        thing = _compact(thing)\n        Array.prototype.push.apply( this.disposables, thing )\n\n      } else if ( Array.isArray( thing ) ){\n\n        for ( let th of thing ){\n          this.registerDisposables( th, deep )\n        }\n      }\n\n      // this.disposables = _uniq(this.disposables)\n      return this\n    }\n\n    // add frame listner\n    , beforeDraw( fn ){\n      this.threeVue.$on( 'beforeDraw', fn )\n\n      this.$on('hook:beforeDestroy', () => {\n        this.threeVue.$off( 'beforeDraw', fn )\n      })\n    }\n\n    , assignProps( dest, props ){\n      if ( !dest ){ return }\n      for ( let prop of Object.keys(props) ){\n        if ( prop in dest ){\n          let val = this[prop]\n          let cur = dest[prop]\n\n          if (\n            cur instanceof Color ||\n            cur instanceof Vector3 ||\n            cur instanceof Euler\n          ){\n            if ( Array.isArray(val) ){\n              cur.fromArray( val )\n              this.$emit(`update:${prop}`, cur)\n            } else if ( typeof val === 'object' ){\n              cur.copy( val )\n              this.$emit(`update:${prop}`, cur)\n            } else {\n              cur.set( val )\n              this.$emit(`update:${prop}`, cur)\n            }\n          } else {\n            dest[ prop ] = val\n            this.$emit(`update:${prop}`, val)\n          }\n        }\n      }\n    }\n  }\n}\n","import Copilot from 'copilot'\nimport * as THREE from 'three'\nimport THREEObjectMixin from '@/components/three-vue/v3-object.mixin'\n\nexport default {\n  name: 'fade-transtion'\n  , mixins: [ THREEObjectMixin ]\n  , props: {\n    duration: {\n      type: Number\n      , default: 1000\n    }\n  }\n  , created(){\n    this.v3object = new THREE.Object3D()\n  }\n  , render: function (h) {\n    let data = {\n      props: {\n        css: false\n        // , mode: 'out-in'\n        // , appear: true\n      }\n      , on: {\n        enter: this.enter\n        , beforeEnter: this.beforeEnter\n        , beforeLeave: this.beforeLeave\n        , leave: this.leave\n        , afterLeave: this.afterLeave\n      }\n    }\n    return h('transition', data, this.$slots.default)\n  }\n  , methods: {\n    beforeEnter() {\n      this.$children.forEach( ch => {\n        let material = ch.v3object.material\n        material.transparent = true\n        material.oldOpacity = material.opacity\n        material.opacity = 0\n      })\n    }\n    , enter( el, done ){\n      this.fade( true, done )\n    }\n    , beforeLeave(){\n      this.$children.forEach( ch => {\n        let material = ch.v3object.material\n        material.oldOpacity = material.opacity\n      })\n    }\n    , leave( el, done ){\n      this.fade( false, done )\n    }\n    , afterLeave(){\n      this.$children.forEach( ch => {\n        let material = ch.v3object.material\n        material.opacity = material.oldOpacity\n        ch.$parent.v3object.remove( ch.v3object )\n      })\n    }\n    , fade( fadeIn, done ){\n      const threeVue = this.threeVue\n      const duration = this.duration\n      const startTime = Copilot.Util.now()\n      const endTime = startTime + duration\n      const fn = Copilot.Interpolators.Linear\n      const children = this.$children.concat()\n      children.forEach( ch => {\n        // override\n        ch.$parent.v3object.add( ch.v3object )\n      })\n\n      const update = () => {\n        let now = Copilot.Util.now()\n        let timeFraction = Copilot.Animation.getTimeFraction(startTime, endTime, now)\n        let t = Copilot.Easing.Quadratic.InOut(timeFraction)\n        children.forEach( ch => {\n          let material = ch.v3object.material\n          let from = fadeIn ? 0 : material.oldOpacity\n          let to = fadeIn ? material.oldOpacity : 0\n          let opacity = Copilot.Animation.interpolateProperty(fn, from, to, t)\n          material.opacity = opacity\n        })\n\n        if ( now > endTime ){\n          threeVue.$off('beforeDraw', update)\n          done()\n        }\n      }\n\n      threeVue.$on('beforeDraw', update)\n    }\n  }\n}\n","import * as THREE from 'three'\nimport _get from 'lodash/get'\n\nexport default {\n  name: 'Gestures'\n  , inject: [ 'threeVue' ]\n  , props: {\n    names: Array\n  }\n  , components: {\n  }\n  , data: () => ({\n  })\n  , created(){\n    this.raycaster = new THREE.Raycaster()\n    this.pos = new THREE.Vector2()\n  }\n  , mounted(){\n\n    const updateMonitored = () => {\n      if (!this.names){\n        this.monitored = []\n        return\n      }\n\n      let names = this.names\n\n      function collectNamedChildren( result, obj ){\n        if ( !obj ){ return result }\n\n        if ( names.indexOf(obj.name) > -1 ){\n          result.push( obj )\n        }\n\n        return obj.children.reduce( collectNamedChildren, result )\n      }\n\n      this.monitored = this.threeVue.scene.children.reduce( collectNamedChildren, [] )\n    }\n\n    this.threeVue.$on('scene:changed', updateMonitored)\n    this.$on('beforeDestroy', () => {\n      this.threeVue.$off('scene:changed', updateMonitored)\n    })\n\n    updateMonitored()\n\n    this.listen('mousemove', e => this.onMouseMove( e ))\n    this.listen('mousedown', e => this.onMouseDown( e ))\n    this.listen('mouseup', e => this.onMouseUp( e ))\n\n    this.listen('touchmove', e => this.onTouchMove( e ))\n    this.listen('touchstart', e => this.onTouchStart( e ), false)\n    this.listen('touchend', e => this.onTouchEnd( e ))\n  }\n  , render(){\n    return null\n  }\n  , methods: {\n    listen( name, fn, flag ){\n      let el = this.threeVue.renderer.domElement\n\n      if ( name === 'mouseup' || name === 'touchend' ){\n        el = document\n      }\n\n      el.addEventListener(name, fn, flag !== undefined ? flag : { passive: true })\n      this.$on('hook:beforeDestroy', () => {\n        el.removeEventListener(name, fn)\n      })\n    }\n    , getMousePos( e ){\n      let pos = this.pos\n      let elOffset = this.threeVue.renderer.domElement.getBoundingClientRect()\n      let x = e.clientX - elOffset.left\n      let y = e.clientY - elOffset.top\n\n      pos.x = ( x / elOffset.width ) * 2 - 1\n      pos.y = - ( y / elOffset.height ) * 2 + 1\n\n      return pos\n    }\n    , getTouchPos( e ){\n      let pos = this.pos\n      let elOffset = this.threeVue.renderer.domElement.getBoundingClientRect()\n      let touch = e.touches[0]\n\n      if ( !touch ){\n        return pos\n      }\n\n      let x = touch.pageX - elOffset.left\n      let y = touch.pageY - elOffset.top\n\n      pos.x = ( x / elOffset.width ) * 2 - 1\n      pos.y = - ( y / elOffset.height ) * 2 + 1\n\n      return pos\n    }\n    , raycast( pos ){\n      const camera = this.threeVue.camera\n      const raycaster = this.raycaster\n\n      if ( !camera ){ return [] }\n\n      // update the picking ray with the camera and mouse position\n      raycaster.setFromCamera( pos, camera )\n\n      // calculate objects intersecting the picking ray\n      return raycaster.intersectObjects( this.monitored )\n    }\n    , onMouseDown( e ){\n      let pos = this.getMousePos( e )\n      this.dragStart( pos )\n    }\n    , onMouseUp( e ){\n      let pos = this.getMousePos( e )\n      this.dragEnd( pos )\n    }\n    , onMouseMove( e ){\n      let pos = this.getMousePos( e )\n      this.drag( pos )\n    }\n    , onTouchStart( e ){\n      e.preventDefault()\n      let pos = this.getTouchPos( e )\n      this.dragStart( pos )\n    }\n    , onTouchEnd( e ){\n      let pos = this.getTouchPos( e )\n      this.dragEnd( pos )\n    }\n    , onTouchMove( e ){\n      e.stopPropagation()\n      let pos = this.getTouchPos( e )\n      this.drag( pos )\n    }\n    , dragStart( pos ){\n      let intersects = this.raycast( pos )\n\n      if ( !intersects.length ){ return }\n\n      let ray = this.raycaster.ray.clone()\n\n      this.dragging = { intersects, ray }\n      this.dragged = false\n\n      this.$emit('dragstart', { intersects, ray })\n    }\n    , dragEnd( pos ){\n      let intersects = this.raycast( pos )\n\n      let dragging = this.dragging\n      this.dragging = false\n\n      if ( !dragging ){ return }\n\n      let ray = this.raycaster.ray.clone()\n\n      if ( this.dragged ){\n        this.$emit('dragend', { intersects, ray })\n      } else if (_get(intersects[0], 'object') === _get(dragging.intersects[0], 'object')){\n        this.$emit('tap', { intersects, ray })\n      }\n    }\n    , drag( pos ){\n      let intersects = this.raycast( pos )\n\n      let ray = this.raycaster.ray.clone()\n\n      if ( this.dragging ){\n        this.dragged = true\n        this.$emit('drag', { intersects, ray })\n      } else {\n        this.$emit('hover', { intersects, ray })\n      }\n    }\n  }\n}\n","import * as THREE from 'three'\nimport THREEObjectMixin from './v3-object.mixin'\n\nconst sceneProps = {\n  background: Object\n}\n\nexport default {\n  name: 'v3-scene'\n  , mixins: [ THREEObjectMixin ]\n  , props: {\n    ...sceneProps\n  }\n  , components: {\n  }\n  , data: () => ({\n  })\n  , mounted(){\n    // cleanup\n    this.$el.parentNode.removeChild(this.$el)\n  }\n  , created(){\n    this.scene = this.v3object = new THREE.Scene()\n    this.threeVue.scene = this.scene\n  }\n  , methods: {\n    updateObjects(){\n      this.assignProps( this.scene, sceneProps )\n    }\n  }\n}\n","import {\n  OrthographicCamera\n  , PerspectiveCamera\n  , Vector3\n} from 'three'\nimport THREEObjectMixin from './v3-object.mixin'\n\nconst Types = {\n  orthographiccamera: ({ left, right, top, bottom, near, far }) => new OrthographicCamera( left, right, top, bottom, near, far )\n  , perspectivecamera: ({ fov, aspect, near, far }) => new PerspectiveCamera( fov, aspect, near, far )\n}\n\nconst watchableProps = {\n  fov: {\n    type: Number\n    , default: 45\n  }\n  , aspect: {\n    type: Number\n    , default: 1\n  }\n  , near: {\n    type: Number\n    , default: 1\n  }\n  , far: {\n    type: Number\n    , default: 1000\n  }\n  , left: Number\n  , right: Number\n  , top: Number\n  , bottom: Number\n}\n\nconst positionProps = {\n  zoom: {\n    type: Number\n    , default: 1\n  }\n\n  , position: {\n    default: () => [ 0, 0, 0 ]\n  }\n  , rotation: {\n    default: () => [ 0, 0, 0 ]\n  }\n}\n\nexport default {\n  name: 'v3-camera'\n  , mixins: [ THREEObjectMixin ]\n  , props: {\n    type: {\n      type: String\n      , default: 'perspective'\n    }\n\n    , preventUpdate: Boolean\n    , lookAt: Array\n    , ...watchableProps\n    , ...positionProps\n  }\n  , components: {\n  }\n  , data: () => ({\n  })\n  , created(){\n    const camera = this.camera = this.cameraConstructor( this )\n    camera.position.z = 1\n\n    this.v3object = camera\n    this.assignProps( this.v3object, positionProps )\n\n    this.$watch(() => {\n      // watch these\n      return '' + this.fov +\n        this.aspect +\n        this.left +\n        this.right +\n        this.top +\n        this.bottom +\n        this.zoom\n    }, () => {\n      this.$nextTick(() => this.v3object.updateProjectionMatrix())\n    })\n  }\n  , mounted(){\n    this.v3object.updateProjectionMatrix()\n    this.threeVue.camera = this.v3object\n  }\n  , computed: {\n    lookAtV(){\n      return new Vector3().fromArray(this.lookAt)\n    }\n    , cameraConstructor(){\n      let name = this.type.toLowerCase()\n      return Types[ name + 'camera' ] || Types[ name ]\n    }\n  }\n  , methods: {\n    updateObjects(){\n      this.assignProps( this.v3object, watchableProps )\n      if (!this.preventUpdate){\n        this.assignProps( this.v3object, positionProps )\n      }\n      if ( this.lookAt ){\n        this.v3object.lookAt(this.lookAtV)\n      }\n    }\n  }\n}\n","import {\n  AmbientLight\n  , DirectionalLight\n  , HemisphereLight\n  , PointLight\n  , RectAreaLight\n  , SpotLight\n  , CameraHelper\n  , Vector2\n} from 'three'\nimport _mapKeys from 'lodash/mapKeys'\nimport THREEObjectMixin from './v3-object.mixin'\n\nconst Types = {\n  ambientlight: ({ color, intensity }) => new AmbientLight( color, intensity )\n  , directionallight: ({ color, intensity }) => new DirectionalLight( color, intensity )\n  , hemispherelight: ({ skyColor, groundColor, intensity }) => new HemisphereLight( skyColor, groundColor, intensity )\n  , pointlight: ({ color, intensity, distance, decay }) => new PointLight( color, intensity, distance, decay )\n  , rectarealight: ({ color, intensity, width, height }) => new RectAreaLight( color, intensity, width, height )\n  , spotlight: ({ color, intensity, distance, angle, penumbra, decay }) => new SpotLight( color, intensity, distance, angle, penumbra, decay )\n}\n\nconst lightProps = {\n  color: {\n    type: Number\n    , default: 0xffffff\n  }\n  , intensity: {\n    type: Number\n    , default: 1\n  }\n  , distance: {\n    type: Number\n    , default: 0\n  }\n  , angle: {\n    type: Number\n    , default: Math.PI/2\n  }\n  , penumbra: {\n    type: Number\n    , default: 0\n  }\n  , decay: {\n    type: Number\n    , default: undefined\n  }\n  , skyColor: {\n    type: Number\n    , default: 0xffffff\n  }\n  , groundColor: {\n    type: Number\n    , default: 0xffffff\n  }\n  , position: {\n    default: () => [ 0, 0, 0 ]\n  }\n}\n\nconst shadowProps = {\n  shadowBias: {\n    type: Number\n    , default: 0\n  }\n  , shadowRadius: {\n    type: Number\n    , default: 1\n  }\n}\n\nconst shadowPropsNoPrefix = _mapKeys(shadowProps, (v, k) => k[6].toLowerCase() + k.substr(7))\n\nexport default {\n  name: 'v3-light'\n  , mixins: [ THREEObjectMixin ]\n  , props: {\n    type: String\n    , target: String\n\n    , ...lightProps\n    , ...shadowProps\n    , shadowMapSizePower: {\n      type: Number\n      , default: 0\n    }\n    , shadowCamera: {\n      type: Object\n      , default: () => ({})\n    }\n    , debug: Boolean\n  }\n  , components: {\n  }\n  , data: () => ({\n  })\n  , created(){\n    const light = this.lightConstructor( this )\n\n    this.v3object = light\n\n    if ( this.debug && light.shadow ){\n      let shadowHelper = this.shadowHelper = new CameraHelper( light.shadow.camera )\n      this.$parent.v3object.add( shadowHelper )\n      this.beforeDraw(() => {\n        shadowHelper.update()\n      })\n      this.$on('hook:beforeDestroy', () => {\n        this.$parent.v3object.remove( shadowHelper )\n      })\n    }\n\n    this.registerDisposables({\n      dispose: () => {\n        if (!this.v3object.shadow){ return }\n        if (this.v3object.shadow.map){\n          this.v3object.shadow.map.dispose()\n        }\n        if (this.v3object.shadow.mapPass){\n          this.v3object.shadow.mapPass.dispose()\n        }\n      }\n    })\n  }\n  , watch: {\n    target( val ){\n      if ( val ){\n        this.threeVue.afterReady(() => {\n          let obj = this.threeVue.getObjectByName( val )\n          this.v3object.target = obj\n        })\n      }\n    }\n  }\n  , computed: {\n    lightConstructor(){\n      let name = this.type.toLowerCase()\n      return Types[ name + 'light' ] || Types[ name ]\n    }\n  }\n  , methods: {\n    updateObjects(){\n      this.assignProps( this.v3object, lightProps )\n      if ( this.castShadow ){\n        this.assignProps( this.v3object.shadow, shadowPropsNoPrefix )\n        this.v3object.shadow.mapSize = new Vector2(512, 512)\n        this.v3object.shadow.mapSize.multiplyScalar(Math.pow(2, this.shadowMapSizePower))\n        if ( this.v3object.shadow.map ){\n          this.v3object.shadow.map.dispose()\n          this.v3object.shadow.map = null\n        }\n        Object.assign(this.v3object.shadow.camera, this.shadowCamera)\n        if (this.shadowHelper && this.v3object.shadow){\n          this.shadowHelper.camera = this.v3object.shadow.camera\n        }\n      }\n    }\n  }\n}\n","import * as THREE from 'three'\nimport THREEObjectMixin from '@/components/three-vue/v3-object.mixin'\n\nconst threeProps = {\n  position: {\n    default: () => [0, 0, 0]\n  }\n  , rotation: {\n    default: () => [0, 0, 0]\n  }\n}\n\nexport default {\n  name: 'v3-group'\n  , mixins: [ THREEObjectMixin ]\n  , props: {\n    ...threeProps\n  }\n  , components: {\n  }\n  , data: () => ({\n  })\n  , created(){\n    this.v3object = new THREE.Group()\n  }\n  , methods: {\n    updateObjects(){\n      this.assignProps( this.v3object, threeProps )\n    }\n  }\n}\n","import * as THREE from 'three'\nimport { CSS2DObject } from 'three/examples/jsm/renderers/CSS2DRenderer' // eslint-disable-line no-unused-vars\nimport THREEObjectMixin from '@/components/three-vue/v3-object.mixin'\n\nconst dummyEl = document.createElement('div')\nconst origin2d = new THREE.Vector2() // eslint-disable-line no-unused-vars\n\nconst threeProps = {\n  position: {\n    default: () => [0, 0, 0]\n  }\n  , rotation: {\n    default: () => [0, 0, 0]\n  }\n  , anchorDir: {\n    default: () => [0, 0, 0]\n  }\n}\n\nexport default {\n  name: 'v3-dom'\n  , mixins: [ THREEObjectMixin ]\n  , props: {\n    ...threeProps\n  }\n  , components: {\n  }\n  , data: () => ({\n  })\n  , created(){\n    this.boundingBox = new THREE.Box2()\n    // eslint-disable-next-line\n    this.v3object = new CSS2DObject( dummyEl )\n\n    // const vec = this.vec = new THREE.Vector3()\n    // const vec2 = this.vec2 = new THREE.Vector2()\n    // const vec2b = new THREE.Vector2()\n    // const viewProjectionMatrix = new THREE.Matrix4()\n    // const viewMatrix = new THREE.Matrix4()\n    // this.beforeDraw(() => {\n    //   const camera = this.threeVue.camera\n    //\n    //   viewMatrix.copy( camera.matrixWorldInverse );\n\t\t//   viewProjectionMatrix.multiplyMatrices( camera.projectionMatrix, viewMatrix );\n    //   vec.fromArray( this.anchorDir ).setLength(100)\n\t\t// \tvec.applyMatrix4( viewProjectionMatrix )\n    //   this.boundingBox.clampPoint(vec2b.set(vec.x, vec.y), vec2)\n    //\n    //   this.$el.style.marginTop = `${vec2.y}px`\n    //   this.$el.style.marginLeft = `${vec2.x}px`\n    // })\n  }\n  , mounted(){\n    this.$el.style.position = 'absolute'\n    this.v3object.element = this.$el\n    // this.threeVue.$el.appendChild( this.$el )\n  }\n  , methods: {\n    updateObjects(){\n      this.assignProps( this.v3object, threeProps )\n      // this.getSize()\n    }\n    // , getSize(){\n    //   if ( !this.$el ) return\n    //   let box = this.$el.getBoundingClientRect()\n    //   this.vec2.set(box.width, box.height)\n    //   this.boundingBox.setFromCenterAndSize(\n    //     origin2d\n    //     , this.vec2\n    //   )\n    // }\n  }\n}\n","import * as THREE from 'three'\nimport THREEObjectMixin from '@/components/three-vue/v3-object.mixin'\n\nconst threeProps = {\n  position: {\n    default: () => [0, 0, 0]\n  }\n  , rotation: {\n    default: () => [0, 0, 0]\n  }\n}\n\nexport default {\n  name: 'v3-grid'\n  , mixins: [ THREEObjectMixin ]\n  , props: {\n    ...threeProps\n    , size: {\n      type: Number\n      , default: 10\n    }\n    , divisions: {\n      type: Number\n      , default: 64\n    }\n    , color1: {\n      type: Number\n      , default: 0x444444\n    }\n    , color2: {\n      type: Number\n      , default: 0x888888\n    }\n  }\n  , components: {\n  }\n  , data: () => ({\n  })\n  , methods: {\n    createObject(){\n      this.v3object = new THREE.GridHelper(\n        this.size\n        , this.divisions\n        , this.color1\n        , this.color2\n      )\n    }\n    , updateObjects(){\n      let obj = this.v3object\n      obj.material.dispose()\n      obj.geometry.dispose()\n      this.createObject()\n      obj.material = this.v3object.material\n      obj.geometry = this.v3object.geometry\n      this.v3object = obj\n      this.assignProps( this.v3object, threeProps )\n    }\n  }\n}\n","import * as THREE from 'three'\nimport _pick from 'lodash/pick'\nimport THREEObjectMixin from '@/components/three-vue/v3-object.mixin'\n\nconst threeProps = {\n  position: {\n    default: () => [0, 0, 0]\n  }\n  , rotation: {\n    default: () => [0, 0, 0]\n  }\n}\n\nconst geometryProps = {\n  width: {\n    type: Number\n    , default: 10\n  }\n  , height: {\n    type: Number\n    , default: 10\n  }\n  , segments: {\n    type: Number\n    , default: 1\n  }\n}\n\nconst materialProps = {\n  color: {\n    type: Number\n    , default: 0xffffff\n  }\n  , transparent: {\n    type: Boolean\n    , default: false\n  }\n  , opacity: {\n    type: Number\n    , default: 1\n  }\n  // , shininess: {\n  //   type: Number\n  //   , default: 0\n  // }\n}\n\nexport default {\n  name: 'v3-plane'\n  , mixins: [ THREEObjectMixin ]\n  , props: {\n    ...threeProps\n    , ...geometryProps\n    , ...materialProps\n  }\n  , components: {\n  }\n  , data: () => ({\n  })\n  , watch: {\n    geometry( geometry, oldGeometry ){\n      // cleanup\n      oldGeometry.dispose()\n    }\n  }\n  , computed: {\n    geometry(){\n      return new THREE.PlaneGeometry( this.width, this.height, this.segments )\n    }\n  }\n  , methods: {\n    createObject(){\n      let options = _pick(this, Object.keys(materialProps))\n      let material = new THREE.MeshLambertMaterial({ side: THREE.DoubleSide, ...options })\n      let plane = new THREE.Mesh( this.geometry, material )\n      this.v3object = plane\n    }\n    , updateObjects(){\n      this.assignProps( this.v3object, threeProps )\n      this.assignProps( this.v3object.material, materialProps )\n      this.v3object.geometry = this.geometry\n    }\n  }\n}\n","import * as THREE from 'three'\nimport _pick from 'lodash/pick'\nimport THREEObjectMixin from '@/components/three-vue/v3-object.mixin'\n\nconst threeProps = {\n  position: {\n    default: () => [0, 0, 0]\n  }\n  , rotation: {\n    default: () => [0, 0, 0]\n  }\n}\n\nconst geometryProps = {\n  width: {\n    type: Number\n    , default: 10\n  }\n  , height: {\n    type: Number\n    , default: 10\n  }\n  , depth: {\n    type: Number\n    , default: 10\n  }\n}\n\nconst materialProps = {\n  color: {\n    type: Number\n    , default: 0xffffff\n  }\n  , transparent: {\n    type: Boolean\n    , default: false\n  }\n  , opacity: {\n    type: Number\n    , default: 1\n  }\n}\n\nexport default {\n  name: 'v3-box'\n  , mixins: [ THREEObjectMixin ]\n  , props: {\n    ...threeProps\n    , ...geometryProps\n    , ...materialProps\n  }\n  , components: {\n  }\n  , data: () => ({\n  })\n  , watch: {\n    geometry( geometry, oldGeometry ){\n      // cleanup\n      oldGeometry.dispose()\n    }\n  }\n  , computed: {\n    geometry(){\n      return new THREE.BoxGeometry(this.width, this.height, this.depth)\n    }\n  }\n  , methods: {\n    createObject(){\n      let options = _pick(this, Object.keys(materialProps))\n      let material = new THREE.MeshLambertMaterial({ ...options })\n      let box = new THREE.Mesh( this.geometry, material )\n      this.v3object = box\n    }\n    , updateObjects(){\n      this.assignProps( this.v3object, threeProps )\n      this.assignProps( this.v3object.material, materialProps )\n      this.v3object.geometry = this.geometry\n    }\n  }\n}\n","import * as THREE from 'three'\n\nconst threeProps = {\n  color: {\n    type: Number\n    , default: 0x000000\n  }\n  , near: {\n    type: Number\n    , default: 1\n  }\n  , far: {\n    type: Number\n    , default: 1000\n  }\n}\n\nexport default {\n  name: 'v3-fog'\n  , inject: [ 'threeVue' ]\n  , props: {\n    ...threeProps\n  }\n  , beforeDestroy(){\n    this.threeVue.scene.fog = null\n  }\n  , render(h){\n    this.threeVue.scene.fog = new THREE.Fog( this.color, this.near, this.far )\n    return h('div')\n  }\n}\n","import * as THREE from 'three'\nimport THREEObjectMixin from '@/components/three-vue/v3-object.mixin'\nimport sougy from '@/config/sougy-colors'\nimport chroma from 'chroma-js'\n\nconst foodSize = 2\nconst foodColor = chroma(sougy.green).darken(1).saturate(0.2).num()\n\nconst foodGeometry = new THREE.SphereGeometry( foodSize, 64, 64 )\nconst foodMaterial = new THREE.MeshLambertMaterial({\n  transparent: true\n  , opacity: 0\n  , color: foodColor\n})\n\nexport default {\n  name: 'food'\n  , mixins: [ THREEObjectMixin ]\n  , inject: [ 'getStep' ]\n  , props: {\n    food: Object\n  }\n  , data: () => ({\n  })\n  , watch: {\n    food(){\n      this.v3object.material.opacity = 0\n    }\n  }\n  , created(){\n    this.beforeDraw(() => {\n      let step = this.getStep()\n      let isEaten = step >= this.food.status.Eaten\n      this.v3object.visible = !isEaten\n\n      let material = this.v3object.material\n      material.opacity = THREE.Math.lerp(material.opacity, 1, 0.1)\n      // this.v3object.material.opacity = isEaten ? 0.2 : 1\n    })\n  }\n  , methods: {\n    createObject(){\n      this.v3object = new THREE.Mesh( foodGeometry, foodMaterial )\n      this.autoClean = false\n    }\n    , updateObjects(){\n      let pos = this.food.position\n      this.v3object.position.set(pos[0], foodSize + 0.2, pos[1])\n    }\n  }\n}\n","import * as THREE from 'three'\nimport _times from 'lodash/times'\nimport chroma from 'chroma-js'\nimport { MarchingCubes } from 'three/examples/jsm/objects/MarchingCubes'\nimport THREEObjectMixin from '@/components/three-vue/v3-object.mixin'\nimport traitColors from '@/config/trait-colors'\nimport sougy from '@/config/sougy-colors'\nimport { creatureColors } from '@/config/creature-colors'\n\nconst blobColor = creatureColors.default\n\nfunction makeEye(size){\n  let geo = new THREE.SphereGeometry( size, 16, 16, Math.PI / 2, Math.PI )\n  let material = new THREE.MeshBasicMaterial({ color: 0x000000 })\n  return new THREE.Mesh( geo, material )\n}\n\nfunction makeDeadEye(size){\n  let material = new THREE.MeshBasicMaterial({ color: 0x888888 })\n  let thickness = size / 8\n  let h = new THREE.Mesh(new THREE.PlaneGeometry(size, thickness), material)\n  h.rotation.set(0, Math.PI/2, 0)\n  let v = new THREE.Mesh(new THREE.PlaneGeometry(thickness, size), material)\n  v.rotation.set(0, Math.PI/2, 0)\n  let g = new THREE.Group()\n  g.add(h, v)\n  return g\n}\n\nfunction createBlobCreatureParts(){\n  const size = 40\n  const resolution = 160\n  const isolation = 300\n  const effect = new MarchingCubes(resolution, new THREE.MeshBasicMaterial(), true, true)\n  effect.scale.set(size, size, size)\n  effect.isolation = isolation\n\n  let strength = 1.2 / ( ( Math.sqrt( 3 ) - 1 ) / 4 + 1 )\n  effect.reset()\n  effect.addBall(0.5, 0.5, 0.5, strength, 100)\n  effect.addBall(0.52, 0.54, 0.5, strength/8, 10)\n  effect.addBall(0.515, 0.58, 0.5, strength/4, 10)\n\n  let geo = effect.generateBufferGeometry()\n  effect.material.dispose()\n  let material = new THREE.MeshLambertMaterial({ color: blobColor })\n  let blob = new THREE.Mesh( geo, material )\n  blob.name = 'blob'\n  blob.scale.set(size, size, size)\n  blob.position.y = 4\n\n  // eyes\n  let x = 0.082\n  let right = makeEye(size / 85)\n  right.name = 'right-eye'\n  right.position.set(size * x, size / 4.2, size / 30)\n  right.rotation.set(-0.6, -0.6, 0)\n\n  let left = right.clone() //makeEye(size / 85)\n  left.name = 'left-eye'\n  left.position.set(size * x, size / 4.2, -size / 30)\n  left.rotation.set(0.6, 0.6, 0)\n\n  let rightDead = makeDeadEye(size / 35)\n  rightDead.name = 'right-dead-eye'\n  rightDead.position.set(size * x + 0.25, size / 4.2, size / 28)\n  rightDead.rotation.set(-1, -0.4, -0.35)\n\n  let leftDead = rightDead.clone() //makeDeadEye(size / 35)\n  leftDead.name = 'left-dead-eye'\n  leftDead.position.set(size * x + 0.25, size / 4.2, -size / 28)\n  leftDead.rotation.set(1, 0.4, -0.35)\n\n  return [blob, left, right, rightDead, leftDead]\n}\n\nconst cachedBlobParts = createBlobCreatureParts()\n\nconst createBlob = () => cachedBlobParts.reduce(\n  (group, part) => group.add(part.clone(true))\n  , new THREE.Group()\n)\n\nfunction createCircle(r, color = 'white'){\n  let geometry = new THREE.CircleGeometry( r, 64 )\n  let material = new THREE.MeshBasicMaterial({ color })\n  let circle = new THREE.Mesh( geometry, material )\n  return circle\n}\n\nconst cachedVisionCircle = (() => {\n  let c = createCircle(1, chroma.mix(traitColors.sense_range, 'white', 0.8).num())\n  c.rotation.x = -Math.PI / 2\n  // c.position.y = 0.05\n  c.material.depthWrite = false\n  c.material.transparent = true\n  c.material.blending = THREE.MultiplyBlending\n  return c\n})()\n\nconst cachedEnergyCircle = (() => {\n  let c = createCircle(6)\n  c.rotation.x = -Math.PI / 2\n  // c.position.y = 0.06\n  c.material.depthWrite = false\n  c.material.transparent = true\n  // c.material.blending = THREE.MultiplyBlending\n  return c\n})()\n\nconst cachedFoodIndicator = (() => {\n  let foodColor = chroma(sougy.green).darken(0.4).saturate(0.2).num()\n  let c = createCircle(0.8, foodColor)\n  c.rotation.x = -Math.PI / 2\n  // c.material.depthWrite = false\n  c.material.transparent = true\n  // c.material.blending = THREE.MultiplyBlending\n  return c\n})()\n\nfunction getChevronShape(t = 0.4, ang = 45){\n  ang *= Math.PI / 180\n  let sin = Math.sin(ang)\n  let cos = Math.cos(ang)\n  let s = new THREE.Shape()\n  s.lineTo(-1 * cos, -1 * sin)\n  s.lineTo(-1 * cos + t * sin, -1 * sin - t * cos)\n  s.lineTo(0, - t / cos)\n  s.lineTo(1 * cos - t * sin, -1 * sin - t * cos)\n  s.lineTo(1 * cos, -1 * sin)\n  s.lineTo(0, 0)\n  return s\n}\n\nconst cachedSpeedIndicator = (() => {\n  let g = new THREE.ShapeGeometry( getChevronShape(0.35, 30) )\n  let m = new THREE.MeshBasicMaterial({ color: chroma(traitColors.speed).num() })\n  // m.depthWrite = false\n  // m.transparent = true\n  // m.blending = THREE.MultiplyBlending\n  m.depthFunc = THREE.AlwaysDepth\n  let obj = new THREE.Group()\n  _times(4, n => {\n    let growth = 1\n    let spaceBetween = 2\n    let chev = new THREE.Mesh(g, m)\n    let c = n + 1\n    let s = Math.sqrt(c) * c * growth + 1\n    chev.rotation.set(-Math.PI / 2, 0, -Math.PI / 2)\n    chev.position.set(s * spaceBetween - 4, 0, 0)\n    chev.scale.set(s, s, s)\n    obj.add(chev)\n  })\n\n  return obj\n})()\n\nconst getSpeedIndicator = () => cachedSpeedIndicator.children.reduce(\n  (group, part) => group.add(part.clone(false))\n  , new THREE.Group()\n)\n\nconst energyColorScale = chroma.scale([sougy.yellow, '#ccc']).mode('lab')\nfunction getEnergyColor(creature, progress){\n  let start = 0\n  let end = creature.energy_consumed / creature.energy\n  let s = THREE.Math.lerp(start, end, progress)\n  return energyColorScale(s)\n}\n\nfunction getSpeedIndicatorCount(creature){\n  let speed = creature.speed[0]\n  let maxSpeed = 50\n  let s = speed / maxSpeed\n  return THREE.Math.lerp(1, 4, s) | 0\n}\n\nconst blobMaterialProps = {\n  color: {\n    type: Number\n    , default: blobColor\n  }\n}\n\nconst tmpV = new THREE.Vector3()\nconst axisX = new THREE.Vector3(1, 0, 0)\nconst axisY = new THREE.Vector3(0, 1, 0)\n\nexport default {\n  name: 'creature'\n  , mixins: [ THREEObjectMixin ]\n  , inject: [ 'getStep' ]\n  , props: {\n    creature: Object\n    , showSightIndicator: Boolean\n    , showSpeedIndicator: Boolean\n    , showEnergyIndicator: Boolean\n    , showFoodIndicator: Boolean\n    , ...blobMaterialProps\n  }\n  , components: {\n  }\n  , data: () => ({\n  })\n  , computed: {\n    steps(){\n      return this.creature.movement_history.length\n    }\n    , spline(){\n      return new THREE.SplineCurve(this.creature.movement_history.map(p => {\n        return new THREE.Vector2(p[0], p[1])\n      }))\n    }\n    , willDie(){\n      return this.creature.state === \"DEAD\"\n    }\n  }\n  , created(){\n    this.beforeDraw(() => {\n      let pos = this.v3object.position\n      let stepFrac = this.getStep()\n      let t = Math.min(stepFrac / this.steps, 1)\n      this.spline.getPoint(t, this.tmpV2)\n      pos.set(this.tmpV2.x, 0, this.tmpV2.y)\n\n      let rot = this.v3object.rotation\n      let ang = this.spline.getTangent(t).angle()\n      rot.set(0, -ang, 0)\n\n      let deadState = (t >= 1 && this.willDie)\n      this.creatureObject.rotation.x = deadState ? Math.PI / 2 : 0\n      this.creatureObject.position.y = deadState ? 2 : 0\n      this.blobMaterial.opacity = deadState ? 0.3 : 1\n      this.blob.castShadow = !deadState\n\n      this.rightEye.visible = !deadState\n      this.leftEye.visible = !deadState\n      this.rightDeadEye.visible = deadState\n      this.leftDeadEye.visible = deadState\n\n      // energy color\n      if (this.showEnergyIndicator){\n        let energyColor = getEnergyColor(this.creature, t)\n        this.energyIndicator.material.color.set(energyColor.num())\n        this.energyIndicator.material.opacity = energyColor.alpha()\n      }\n\n      // food indicator\n      if (this.showFoodIndicator){\n        let foods = this.creature.foods_eaten\n        let foodIndicators = this.foodIndicators.children\n        // console.log(foods, foodIndicators)\n        for (let i = 0, l = foodIndicators.length; i < l; i++){\n          let f = foods[i]\n          foodIndicators[i].visible = !!(f && (f[0] < stepFrac))\n        }\n\n        // rotate food indicators with camera\n        let dir = this.threeVue.camera.getWorldDirection( tmpV ).projectOnPlane( axisY )\n        let rot = dir.angleTo( axisX )\n        let sign = dir.cross( axisX ).y < 0 ? 1 : -1\n        this.foodIndicators.rotation.y = rot * sign - this.v3object.rotation.y\n      }\n    })\n  }\n  , methods: {\n    createObject(){\n      this.tmpV2 = new THREE.Vector2()\n      this.v3object = new THREE.Group()\n      this.creatureObject = createBlob()\n      this.v3object.add(this.creatureObject)\n      let blob = this.v3object.getObjectByName('blob')\n      this.blob = blob\n      blob.material = blob.material.clone()\n      this.blobMaterial = blob.material\n      this.blobMaterial.transparent = true\n      this.registerDisposables(this.creatureObject.material)\n\n      this.leftEye = this.creatureObject.getObjectByName('left-eye')\n      this.rightEye = this.creatureObject.getObjectByName('right-eye')\n      this.leftDeadEye = this.creatureObject.getObjectByName('left-dead-eye')\n      this.rightDeadEye = this.creatureObject.getObjectByName('right-dead-eye')\n\n      // vision radius\n      // material and geometry are reused between creatures\n      let visionIndicator = this.visionIndicator = cachedVisionCircle.clone(false) // createCircle( 1, 0xe2ebef )\n      this.v3object.add(visionIndicator)\n\n      // energy indicator (geometry reused)\n      let energyIndicator = this.energyIndicator = cachedEnergyCircle.clone(false)\n      energyIndicator.material = cachedEnergyCircle.material.clone()\n      this.registerDisposables([ energyIndicator.material ])\n      this.v3object.add(energyIndicator)\n\n      let speedIndicator = this.speedIndicator = getSpeedIndicator() //cachedSpeedIndicator.clone(false)\n      speedIndicator.position.set(9, 0.05, 0)\n      this.v3object.add(speedIndicator)\n\n      let foodIndicators = this.foodIndicators = new THREE.Group()\n      foodIndicators.position.set(0, 0.2, 0)\n      this.v3object.add(foodIndicators)\n\n      this.$watch('creature', () => {\n        let foodsEaten = this.creature.foods_eaten.length\n        // if we need more food\n        for (let i = foodIndicators.children.length; i < foodsEaten; i++){\n          let f = cachedFoodIndicator.clone(false)\n          f.visible = false\n          f.position.set(0, 0, 4).applyAxisAngle(new THREE.Vector3(0, 1, 0), -0.6 * i)\n          foodIndicators.add(f)\n          this.registerDisposables(f)\n        }\n      }, { immediate: true })\n\n      // const scene = this.threeVue.scene\n      // let light = this.light = new THREE.SpotLight( 0xFFFFFF, 1, 0, Math.PI / 24 )\n      // light.penumbra = 0.2\n      // light.target = blob\n      // scene.add(light)\n      //\n      // this.beforeDraw(() => {\n      //   blob.getWorldPosition(light.position)\n      //   light.position.y += 200\n      // })\n      //\n      // this.$on('hook:beforeDestroy', () => {\n      //   scene.remove(light)\n      // })\n\n      // Path\n      // let points = new THREE.BufferGeometry()\n      // let line = new THREE.Line(points)\n      // this.$parent.v3object.add(line)\n      // this.$watch('spline', () => {\n      //   let vertices = this.spline.points.reduce((r, p) => r.push(p.x, 0, p.y) && r, [])\n      //   points.setAttribute('position', new THREE.Float32BufferAttribute(vertices, 3))\n      //   points.attributes.position.needsUpdate = true\n      // }, { immediate: true })\n      //\n      // this.$on('hook:beforeDestroy', () => {\n      //   this.$parent.v3object.remove(line)\n      // })\n    }\n    , updateObjects(){\n      let vision = this.creature.sense_range[0]\n      this.visionIndicator.scale.set(vision, vision, vision)\n      this.visionIndicator.visible = this.showSightIndicator\n\n      // speed indication\n      this.speedIndicator.visible = this.showSpeedIndicator\n      if (this.showSpeedIndicator){\n        let chevN = getSpeedIndicatorCount(this.creature)\n        this.speedIndicator.children.forEach((c, n) => {\n          c.visible = (n < chevN)\n        })\n      }\n\n      let scale = this.creature.size[0] / 10\n      this.creatureObject.scale.set(scale, scale, scale)\n\n      this.energyIndicator.visible = this.showEnergyIndicator\n      this.foodIndicators.visible = this.showFoodIndicator\n\n      this.assignProps( this.blobMaterial, blobMaterialProps )\n    }\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"creature-status\",on:{\"click\":function($event){_vm.open = !_vm.open}}},[_c('transition',{attrs:{\"name\":\"boing\",\"mode\":\"out-in\",\"appear\":\"\",\"appear-class\":\"boing-appear\",\"appear-to-class\":\"boing-appear-to\"}},[(_vm.open)?_c('div',{key:\"bubble\",staticClass:\"bubble\"},[_c('div',{staticClass:\"bg\"},[_c('img',{attrs:{\"src\":require(\"@/assets/status-icons/thought-2.svg\"),\"width\":\"160\"}})]),_c('transition',{attrs:{\"name\":\"boing\",\"mode\":\"out-in\"}},[(_vm.status)?_c('div',{key:_vm.status,staticClass:\"status-icon\"},[_c('img',{staticClass:\"status\",attrs:{\"src\":_vm.iconUrl,\"width\":\"160\"}})]):_vm._e()])],1):_c('div',{key:\"collapsed\",staticClass:\"collapsed\"},[_c('img',{attrs:{\"src\":require(\"@/assets/status-icons/thought-1.svg\"),\"width\":\"160\"}})])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.creature-status(@click=\"open = !open\")\n  transition(name=\"boing\", mode=\"out-in\", appear, appear-class=\"boing-appear\", appear-to-class=\"boing-appear-to\")\n    .bubble(v-if=\"open\", key=\"bubble\")\n      .bg\n        img(src=\"@/assets/status-icons/thought-2.svg\", width=\"160\")\n      transition(name=\"boing\", mode=\"out-in\")\n        .status-icon(v-if=\"status\", :key=\"status\")\n          img.status(:src=\"iconUrl\", width=\"160\")\n    .collapsed(v-else, key=\"collapsed\")\n      img(src=\"@/assets/status-icons/thought-1.svg\", width=\"160\")\n</template>\n\n<script>\n\nconst ICONS = {\n  'wandering': require('@/assets/status-icons/search.svg')\n  , 'low energy': require('@/assets/status-icons/low-energy.svg')\n  , 'see food': require('@/assets/status-icons/food.svg')\n  , 'see prey': require('@/assets/status-icons/chase.svg')\n  , 'running away': require('@/assets/status-icons/run.svg')\n  , 'satisfied': require('@/assets/status-icons/satisfied.svg')\n  , 'reproduce': require('@/assets/status-icons/reproduce.svg')\n}\n\nexport default {\n  name: 'CreatureStatus'\n  , inject: [ 'getStep', 'threeVue' ]\n  , props: {\n    creature: Object\n  }\n  , data: () => ({\n    status: null\n    , open: true\n  })\n  , created(){\n    this.beforeDraw(() => {\n      if (!this.creature){ return }\n      let lastStep = false\n      let step = this.getStep() | 0\n      let history = this.creature.status_history\n      if ( step >= history.length ){\n        step = history.length - 1\n        lastStep = true\n      }\n\n      let status = history[step]\n\n      if ( lastStep && status == \"satisfied\" ){\n        status = \"reproduce\"\n      }\n\n      this.status = status\n    })\n  }\n  , watch: {\n  }\n  , computed: {\n    iconUrl(){\n      return ICONS[this.status]\n    }\n  }\n  , methods: {\n    beforeDraw( fn ){\n      this.threeVue.$on( 'beforeDraw', fn )\n\n      this.$on('hook:beforeDestroy', () => {\n        this.threeVue.$off( 'beforeDraw', fn )\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.creature-status\n  position: relative\n  pointer-events: all\n  color: $text\n\n  img\n    max-width: none\n\n  .bg\n    opacity: 0.9\n\n  .status-icon\n    position: absolute\n    z-index: 1\n    top: 0\n    left: 0\n\n.boing-enter-active, .boing-leave-active\n  transition: transform .1s ease-in\n.boing-enter, .boing-leave-to\n  transform: scale(0)\n\n.collapsed.boing-enter, .collapsed.boing-leave-to\n  transform: translate(0, 60px) scale(0)\n\n.bubble.boing-enter, .bubble.boing-leave-to\n  transform: translate(0, 60px) scale(0)\n\n.bubble.boing-appear\n  transform: translate(0, 60px) scale(0)\n.boing-appear-to\n  transition: transform 0.5s 0.5s ease-in\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./creature-status.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./creature-status.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./creature-status.vue?vue&type=template&id=05ee1011&scoped=true&lang=pug&\"\nimport script from \"./creature-status.vue?vue&type=script&lang=js&\"\nexport * from \"./creature-status.vue?vue&type=script&lang=js&\"\nimport style0 from \"./creature-status.vue?vue&type=style&index=0&id=05ee1011&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05ee1011\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tour-steps\"},[_c('TourStep',{attrs:{\"button-text\":\"get started\",\"step\":1},scopedSlots:_vm._u([{key:\"controls\",fn:function(props){return [_c('div',{staticClass:\"level is-mobile\"},[_c('div',{staticClass:\"level-left\"},[_c('b-field',[_c('b-button',{staticClass:\"is-text skip\",on:{\"click\":props.skip}},[_vm._v(\"skip\")])],1)],1),_c('div',{staticClass:\"level-right\"},[_c('b-field',[_c('b-button',{staticClass:\"is-primary\",on:{\"click\":props.next}},[_vm._v(\"get started\")])],1)],1)])]}}])},[_c('div',{staticClass:\"has-text-centered\"},[_c('p',{staticClass:\"is-size-5\"},[_vm._v(\"Welcome to the\")]),_c('h5',{staticClass:\"title is-size-3 has-text-primary\"},[_vm._v(\"Evolution Simulator\")]),_c('h6',{staticClass:\"title is-size-6\"},[_vm._v(\"By MinuteLabs\"),_c('br'),_vm._v(\"(concept by Primer Learning)\")]),_c('br')]),_c('p',[_vm._v(\"Before we dive into the deep end, let's take a little look around...\")])]),_c('TourStep',{attrs:{\"step\":2}},[_c('TypewriterTextTransition',[_c('p',[_vm._v(\"This is blob world. Life is simple here.\")])])],1),_c('TourStep',{attrs:{\"step\":3}},[_c('TypewriterTextTransition',[_c('p',[_vm._v(\"If you click/tap on a blob, you can follow it and see what it's thinking.\")])])],1),_c('TourStep',{attrs:{\"step\":4}},[_c('TypewriterTextTransition',[_c('p',[_vm._v(\"Blobs use up energy searching for food and smaller blobs to eat. They need one\\npiece of food to survive to the next generation.\")])])],1),_c('TourStep',{attrs:{\"step\":5}},[_c('TypewriterTextTransition',[_c('p',[_vm._v(\"Although they'll settle for one food and head home if they're low on energy,\\nwith two food they can reproduce.\")])])],1),_c('TourStep',{attrs:{\"button-text\":\"let's watch them evolve!\",\"is-last\":\"\",\"step\":6}},[_c('TypewriterTextTransition',[_c('p',[_vm._v(\"In the next generation, when they reproduce, their offspring will be slightly different.\\nTheir traits are mutated in a random way that can be controlled in the settings.\")]),_c('p',[_vm._v(\"(Find more details in the about page)\")])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.step === _vm.stepNumber)?_c('div',{staticClass:\"tour-step\"},[_c('div',{staticClass:\"content\"},[_vm._t(\"default\")],2),_c('div',{staticClass:\"controls\"},[_vm._t(\"controls\",[_c('div',{staticClass:\"level is-mobile\"},[_c('div',{staticClass:\"level-left\"},[(!_vm.isLast)?_c('b-field',[_c('p',{staticClass:\"control\"},[_c('b-button',{staticClass:\"is-info\",on:{\"click\":_vm.skip}},[_vm._v(\"skip\")])],1)]):_vm._e()],1),_c('div',{staticClass:\"level-right\"},[_c('b-field',{attrs:{\"position\":\"is-right\"}},[(_vm.step !== 1)?_c('p',{staticClass:\"control\"},[_c('b-button',{staticClass:\"btn-dark\",on:{\"click\":_vm.back}},[_vm._v(\"back\")])],1):_vm._e(),_c('p',{staticClass:\"control\"},[_c('b-button',{staticClass:\"is-primary\",on:{\"click\":_vm.next}},[_vm._v(_vm._s(_vm.buttonText))])],1)])],1)])],{\"skip\":_vm.skip,\"next\":_vm.next,\"back\":_vm.back})],2)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.tour-step(v-if=\"step === stepNumber\")\n  .content\n    slot\n\n  .controls\n    slot(name=\"controls\", :skip=\"skip\", :next=\"next\", :back=\"back\")\n      .level.is-mobile\n        .level-left\n          b-field(v-if=\"!isLast\")\n            p.control\n              b-button.is-info(@click=\"skip\") skip\n        .level-right\n          b-field(position=\"is-right\")\n            p.control(v-if=\"step !== 1\")\n              b-button.btn-dark(@click=\"back\") back\n            p.control\n              b-button.is-primary(@click=\"next\") {{ buttonText }}\n</template>\n\n<script>\n\nexport default {\n  name: 'TourStep'\n  , props: {\n    buttonText: {\n      default: 'tell me more'\n    }\n    , step: Number\n    , isLast: Boolean\n  }\n  , data: () => ({\n  })\n  , mounted(){\n  }\n  , watch: {\n  }\n  , computed: {\n    stepNumber(){\n      return this.$route.query.intro | 0\n    }\n  }\n  , methods: {\n    skip(){\n      this.$router.push({ ...this.$route, query: { intro: '' } })\n    }\n    , back(){\n      this.$router.push({ ...this.$route, query: { intro: this.stepNumber - 1 } })\n    }\n    , next(){\n      if (this.isLast){\n        return this.skip()\n      }\n\n      this.$router.push({ ...this.$route, query: { intro: this.stepNumber + 1 } })\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.tour-step\n  max-width: 480px\n  pointer-events: all\n  background: transparentize($background, 0)\n  border-radius: 4px\n  padding: 1.61rem\n  box-shadow: 0px 0px 4px transparentize($primary, 0.8)\n\n.content\n  line-height: 1.2\n.controls .button\n  font-size: 0.9rem\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tour-step.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tour-step.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tour-step.vue?vue&type=template&id=2e2473f9&scoped=true&lang=pug&\"\nimport script from \"./tour-step.vue?vue&type=script&lang=js&\"\nexport * from \"./tour-step.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tour-step.vue?vue&type=style&index=0&id=2e2473f9&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e2473f9\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"appear\":\"\",\"css\":false},on:{\"appear\":_vm.transitionText,\"appear-cancelled\":_vm.cancelTransition}},[_c('div',{ref:\"content\"},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\ntransition(\n  appear\n  , :css=\"false\"\n  , @appear=\"transitionText\"\n  , @appear-cancelled=\"cancelTransition\"\n)\n  div(ref=\"content\")\n    slot\n</template>\n\n<script>\nimport _map from 'lodash/map'\nimport _sum from 'lodash/sum'\nimport Copilot from 'copilot'\n\nexport default {\n  name: 'TypewriterTextTransition'\n  , props: {\n    // letters per second\n    lps: {\n      type: Number\n      , default: 50\n    }\n  }\n  , data: () => ({\n  })\n  , created(){\n    this.player = Copilot.Player({ totalTime: 1 })\n  }\n  , beforeDestroy(){\n    this.cancelTransition()\n  }\n  , watch: {\n  }\n  , computed: {\n  }\n  , methods: {\n    transitionText(el, done){\n      let ps = el.getElementsByTagName('p')\n      let nps = ps.length\n      let psText = _map(ps, p => p.innerText)\n      let psLetters = psText.map(t => t.length)\n      let letterCount = _sum(psLetters)\n\n      Array.prototype.forEach.call(ps, (p) => {\n        let { width, height } = p.getBoundingClientRect()\n        p.style.display = 'inline-block'\n        p.style.width = width + 'px'\n        p.style.height = height + 'px'\n        p.innerText = ''\n      })\n\n      this.player.totalTime = letterCount * 1000 / this.lps\n      this.player.on('update', () => {\n        let progress = this.player.time / this.player.totalTime\n        let letterProgress = Math.round(progress * letterCount)\n        let i = 0\n        let l = letterProgress - psLetters[0]\n        while ( l > 0 ){\n          ps[i].innerText = psText[i]\n          i++\n          l -= psLetters[i]\n        }\n\n        let p = ps[i]\n        let lettersVisible = psLetters[i] + l\n        let visibleText = psText[i].substr(0, lettersVisible)\n        let pad = psText[i].substr(lettersVisible).replace(/\\s+.*/, '')\n\n        p.innerHTML = visibleText + `<span class=\"hide\">${pad}</span>`\n\n        for (i += 1; i < nps; i++){\n          ps[i].innerHTML = '<span class=\"hide\">x</span>'\n        }\n      })\n\n      this.player.on('end', () => {\n        for (let i = 0; i < nps; i++){\n          ps[i].innerHTML = psText[i]\n        }\n        done()\n        this.player.off(true)\n      })\n\n      this.player.seek(0)\n      this.player.togglePause(false)\n    }\n    , cancelTransition(){\n      this.player.togglePause(true)\n      this.player.off(true)\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n>>> .hide\n  color: transparent\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./typewriter-text.transition.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./typewriter-text.transition.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./typewriter-text.transition.vue?vue&type=template&id=7699a6b4&scoped=true&lang=pug&\"\nimport script from \"./typewriter-text.transition.vue?vue&type=script&lang=js&\"\nexport * from \"./typewriter-text.transition.vue?vue&type=script&lang=js&\"\nimport style0 from \"./typewriter-text.transition.vue?vue&type=style&index=0&id=7699a6b4&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7699a6b4\",\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n.tour-steps\n  TourStep(button-text=\"get started\", :step=\"1\")\n    .has-text-centered\n      p.is-size-5 Welcome to the\n      h5.title.is-size-3.has-text-primary Evolution Simulator\n      h6.title.is-size-6 By MinuteLabs<br/>(concept by Primer Learning)\n      br\n    p.\n      Before we dive into the deep end, let's take a little look around...\n    template(#controls=\"props\")\n      .level.is-mobile\n        .level-left\n          b-field\n            b-button.is-text.skip(@click=\"props.skip\") skip\n        .level-right\n          b-field\n            b-button.is-primary(@click=\"props.next\") get started\n\n  TourStep(:step=\"2\")\n    TypewriterTextTransition\n      p This is blob world. Life is simple here.\n  TourStep(:step=\"3\")\n    TypewriterTextTransition\n      p If you click/tap on a blob, you can follow it and see what it's thinking.\n  TourStep(:step=\"4\")\n    TypewriterTextTransition\n      p.\n        Blobs use up energy searching for food and smaller blobs to eat. They need one\n        piece of food to survive to the next generation.\n  TourStep(:step=\"5\")\n    TypewriterTextTransition\n      p.\n        Although they'll settle for one food and head home if they're low on energy,\n        with two food they can reproduce.\n  TourStep(button-text=\"let's watch them evolve!\", is-last, :step=\"6\")\n    TypewriterTextTransition\n      p.\n        In the next generation, when they reproduce, their offspring will be slightly different.\n        Their traits are mutated in a random way that can be controlled in the settings.\n      p (Find more details in the about page)\n</template>\n\n<script>\nimport TourStep from '@/components/tour-step'\nimport TypewriterTextTransition from '@/components/typewriter-text.transition'\n\nexport default {\n  name: 'TourSteps'\n  , props: {\n  }\n  , components: {\n    TourStep\n    , TypewriterTextTransition\n  }\n  , data: () => ({\n  })\n  , mounted(){\n  }\n  , watch: {\n  }\n  , computed: {\n    stepNumber(){\n      return this.$route.query.intro | 0\n    }\n  }\n  , methods: {\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.button.skip\n  color: darken($grey-light, 10)\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tour.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tour.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tour.vue?vue&type=template&id=6fc9acb1&scoped=true&lang=pug&\"\nimport script from \"./tour.vue?vue&type=script&lang=js&\"\nexport * from \"./tour.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tour.vue?vue&type=style&index=0&id=6fc9acb1&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6fc9acb1\",\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n.generation-viewer\n  v3-renderer(\n    ref=\"renderer\"\n    , :width=\"viewWidth\"\n    , :height=\"viewHeight\"\n    , :shadows=\"true\"\n    , :outlineColor=\"highlightColor\"\n  )\n    Gestures(\n      :names=\"interactiveObjects\"\n      , @tap=\"tapCreature\"\n      , @hover=\"onHover\"\n    )\n    v3-scene\n      //- v3-camera(\n      //-   ref=\"camera\"\n      //-   , type=\"orthographic\"\n      //-   , :left=\"-viewWidth/2\"\n      //-   , :right=\"viewWidth/2\"\n      //-   , :top=\"viewHeight/2\"\n      //-   , :bottom=\"-viewHeight/2\"\n      //-   , :zoom=\"2\"\n      //-   , :near=\"0.01\"\n      //-   , :far=\"5000\"\n      //-   , :position=\"orthCameraPos\"\n      //-   , :look-at=\"origin\"\n      //- )\n\n      //- v3-grid(\n      //-   :size=\"gridSize - 10\"\n      //-   , :position=\"[0, 0.01, 0]\",\n      //-   , :divisions=\"50\"\n      //-   , :color1=\"0x999999\"\n      //-   , :color2=\"0x999999\"\n      //- )\n      v3-camera(\n        ref=\"camera\"\n        , :position=\"persCameraPos\"\n        , prevent-update\n        , :far=\"4500\"\n        , :near=\"1\"\n        , :aspect=\"viewWidth / viewHeight\"\n      )\n        v3-dom(ref=\"tour\", :position=\"tourPosition\")\n          Tour\n      v3-light(type=\"ambient\", :intensity=\"0.9\")\n      v3-light(\n        type=\"directional\"\n        , :intensity=\"0.25\"\n        , :position=\"[100, 200, -10]\"\n        , :cast-shadow=\"true\"\n        , :shadow-camera=\"shadowCamera\"\n        , :shadow-bias=\"0.0001\"\n        , :shadow-radius=\"0\"\n        , :shadow-map-size-power=\"1\"\n      )\n      v3-fog(:near=\"1000\", :far=\"3000\", :color=\"0xc9d7e6\")\n\n      //- Board\n      fadeTransition\n        v3-plane(v-if=\"showWorld\", :width=\"gridSize\", :height=\"gridSize\", :position=\"[0, -0.05, 0]\", :color=\"0xFFFFFF\", :rotation=\"[-Math.PI / 2, 0, 0]\", :receive-shadow=\"true\")\n      fadeTransition\n        //- Thick board undernieth\n        v3-box(v-if=\"showWorld\", :width=\"gridSize + 40\", :height=\"gridSize + 40\", :depth=\"10\", :position=\"[0, -6, 0]\", :color=\"0xAAAAAA\", :rotation=\"[-Math.PI / 2, 0, 0]\", :receive-shadow=\"true\")\n\n      v3-group(v-if=\"showWorld\", :position=\"[-gridSize * 0.5, 0, -gridSize * 0.5]\")\n        Food(v-for=\"(food, index) in generation.food\", :key=\"index\", :food=\"food\", :cast-shadow=\"true\", :receive-shadow=\"true\")\n      v3-group(v-if=\"showWorld\", :position=\"[-gridSize * 0.5, 0, -gridSize * 0.5]\")\n        Creature(\n          ref=\"v3Creatures\"\n            , v-for=\"(c, index) in generation.creatures\"\n            , :key=\"index\"\n            , :creature=\"c\"\n            , :size=\"3\"\n            , v-bind=\"creatureIndicators\"\n            , :color=\"speedIndicators ? speedColorScale(c.speed[0]).num() : getCreatureColor(c.species)\"\n          )\n          v3-group(v-if=\"c.id === followCreatureId\")\n            v3-dom(:position=\"[0, 13 * (c.size[0]/10 + 0.5), 0]\")\n              CreatureStatus(:creature=\"c\")\n            v3-group(:position=\"[-100, 50, 0]\", ref=\"cameraGoal\")\n            v3-group(:position=\"[0, 30, 0]\", ref=\"cameraFocusGoal\")\n</template>\n\n<script>\nimport Copilot from 'copilot'\nimport { mapGetters } from 'vuex'\nimport chroma from 'chroma-js'\nimport sougy from '@/config/sougy-colors'\nimport * as THREE from 'three'\nimport _throttle from 'lodash/throttle'\nimport _findIndex from 'lodash/findIndex'\nimport v3Renderer from '@/components/three-vue/v3-renderer'\nimport fadeTransition from '@/components/three-vue/fade.transition'\nimport Gestures from '@/components/three-vue/gestures'\nimport v3Scene from '@/components/three-vue/v3-scene'\nimport v3Camera from '@/components/three-vue/v3-camera'\nimport v3Light from '@/components/three-vue/v3-light'\nimport v3Group from '@/components/three-vue/v3-group'\nimport v3Dom from '@/components/three-vue/v3-dom'\nimport v3Grid from '@/components/three-vue/v3-grid'\nimport v3Plane from '@/components/three-vue/v3-plane'\nimport v3Box from '@/components/three-vue/v3-box'\nimport v3Fog from '@/components/three-vue/v3-fog'\nimport Food from '@/components/3d-objects/food'\nimport Creature from '@/components/3d-objects/creature'\nimport CreatureStatus from '@/components/3d-objects/creature-status'\nimport { creatureColors } from '@/config/creature-colors'\nimport Tour from '@/components/tour'\nconst OrbitControls = require('three-orbit-controls')(THREE)\n\nconst defaultCreatureColor = chroma(sougy.blue).desaturate(0.5).num()\n\n\nconst components = {\n  v3Renderer\n  , fadeTransition\n  , Gestures\n  , v3Scene\n  , v3Camera\n  , v3Light\n  , v3Group\n  , v3Dom\n  , v3Grid\n  , v3Plane\n  , v3Box\n  , v3Fog\n\n  , Food\n  , Creature\n  , CreatureStatus\n  , Tour\n}\n\nconst computed = {\n  steps(){\n    return this.generation.steps\n  }\n  , generation(){\n    return this.getCurrentGeneration()\n  }\n  , creatureIndicators(){\n    return {\n      showSightIndicator: this.sightIndicators\n      // , showSpeedIndicator: this.speedIndicators\n      , showEnergyIndicator: this.energyIndicators\n      , showFoodIndicator: this.foodIndicators\n    }\n  }\n  , tourStepNumber(){\n    return this.$route.query.intro | 0\n  }\n  , showWorld(){\n    return this.generation && !this.hideStage\n  }\n  , speedColorScale(){\n    return chroma.scale([\n      chroma(sougy.red).desaturate(4)\n      , chroma(sougy.red).desaturate(0.5)\n    ]).mode('lab').domain([this.statistics.speed.min, this.statistics.speed.max])\n  }\n  , ...mapGetters('simulation', {\n    'getCurrentGeneration': 'getCurrentGeneration'\n    , 'statistics': 'statistics'\n  })\n}\n\nconst watch = {\n  followCreatureId(){\n    this.checkFollowCreature()\n  }\n}\n\nconst tmpV = new THREE.Vector3()\nconst methods = {\n  debug(){\n    // The X axis is red. The Y axis is green. The Z axis is blue.\n    var axesHelper = new THREE.AxesHelper( 5 )\n    this.scene.add( axesHelper )\n  }\n  , getCreatureColor(species){\n    return creatureColors[species] || defaultCreatureColor\n  }\n  , initCamera(){\n    const renderer = this.$refs.renderer.renderer\n    const camera = this.camera = this.$refs.camera.v3object\n    // controls\n    let controls = this.controls = new OrbitControls( camera, renderer.domElement )\n    controls.rotateSpeed = 0.2\n    controls.zoomSpeed = 0.5\n    controls.panSpeed = 0.8\n    controls.enableZoom = true\n    controls.enablePan = false\n    // controls.staticMoving = true\n    controls.enableDamping = true\n    controls.dampingFactor = 0.1\n    controls.minZoom = 1\n    controls.maxZoom = 500\n    controls.maxDistance = 4000\n    let epsilon = 0.001\n    controls.minPolarAngle = epsilon\n    controls.maxPolarAngle = Math.PI - epsilon\n\n    controls.addEventListener('start', () => {\n      this.cameraDragging = true\n    })\n\n    controls.addEventListener('end', () => {\n      this.cameraDragging = false\n    })\n  }\n  , draw(){\n    this.followCreature()\n    if ( this.transitionCamera && !this.cameraDragging ){\n      this.camera.position.lerp(this.cameraGoal, 0.05)\n    }\n    this.controls.target.copy(this.cameraFocusGoal)\n\n    this.controls.update()\n    this.$refs.renderer.draw()\n  }\n  , followCreature(){\n    let goal = this.$refs.cameraGoal && this.$refs.cameraGoal[0]\n    let focusGoal = this.$refs.cameraFocusGoal && this.$refs.cameraFocusGoal[0]\n    if (!goal){ return }\n    // let creature = this.$refs.v3Creatures[this.followCreatureId]\n    this.cameraGoal.setFromMatrixPosition(goal.v3object.matrixWorld)\n    tmpV.setFromMatrixPosition(focusGoal.v3object.matrixWorld)\n    this.cameraFocusGoal.lerp(tmpV, 0.05)\n  }\n  , checkFollowCreature(){\n    clearTimeout(this.followTO)\n    let active = this.followCreatureId !== undefined\n    // this.controls.enabled = !active\n    if (!active){\n      this.cameraGoal.fromArray(this.persCameraPos)\n      this.cameraFocusGoal.copy(this.scene.position)\n      this.followTO = setTimeout(() => {\n        this.transitionCamera = false\n      }, 1500)\n    } else {\n      this.transitionCamera = true\n    }\n  }\n  , onResize(){\n    let el = this.$el\n    this.viewWidth = el.offsetWidth\n    this.viewHeight = el.offsetHeight\n  }\n  , toViewCoords(x = 0, y = 0){\n    let hw = 0.5 * this.gridSize\n    return [x - hw, 0, y - hw]\n  }\n  , tapCreature({ intersects }){\n    if (!intersects.length){ return }\n    let blob = intersects[0].object\n    let index = _findIndex(this.$refs.v3Creatures, c => c.v3object === blob.parent.parent)\n    let creature = this.generation.creatures[index]\n    this.$emit('tap-creature', {creature, index})\n  }\n  , onHover: _throttle(function({ intersects }){\n    let renderer = this.renderer\n    renderer.removeOutline()\n    if (intersects.length){\n      let blob = intersects[0].object\n      let index = _findIndex(this.$refs.v3Creatures, c => c.v3object === blob.parent.parent)\n      let id = this.generation.creatures[index].id\n\n      renderer.addOutline( blob )\n      this.$emit('creature-hover', { index, id, creature: blob })\n    }\n  }, 100)\n  , initTour(){\n    let frames = Copilot({\n      cameraPosition: {\n        type: 'Vector3'\n        , default: new THREE.Vector3(0, 4000, 300)\n        , easing: Copilot.Easing.Quadratic.InOut\n      }\n      , cameraRotation: {\n        type: 'Vector3'\n        , default: new THREE.Vector3(0, 0, 0)\n      }\n      , hideStage: false\n      , tourPosition: [0, 0, -100]\n    })\n\n    frames.add({}, {\n      id: 'step-1'\n      , time: 0\n    })\n\n    // frames.add({ hideStage: false }, { time: 1, duration: 1 })\n\n    frames.add({\n      tourPosition: [0, 25, -100]\n    }, {\n      time: '1s'\n      , duration: '1s'\n      , easing: Copilot.Easing.Quadratic.InOut\n    })\n\n    // step 1\n    frames.add({\n      cameraPosition: new THREE.Vector3().fromArray(this.persCameraPos)\n    }, {\n      id: 'step-2'\n      , time: '5s'\n      , duration: '5s'\n    })\n\n    frames.add({\n      tourPosition: [0, 0, -100]\n    }, {\n      id: 'step-6'\n      , time: '6s'\n      , duration: '1s'\n      , easing: Copilot.Easing.Quadratic.InOut\n    })\n\n    this.tourActive = false\n    let player = Copilot.Player({ manager: frames })\n\n    frames.on('update', () => {\n      if (!this.tourActive){return}\n      let state = frames.state\n\n      if (!this.transitionCamera){\n        this.camera.position.copy(state.cameraPosition)\n      }\n      this.hideStage = state.hideStage\n      this.tourPosition = state.tourPosition\n    })\n\n    this.$watch('tourStepNumber', (n) => {\n      if (!n){\n        player.seek(player.totalTime)\n        this.tourActive = false\n        this.controls.enabled = true\n        return\n      }\n\n      this.tourActive = true\n      this.controls.enabled = false\n\n      let f = frames.getFrame('step-' + n)\n      while (!f && n > 0){\n        n--\n        f = frames.getFrame('step-' + n)\n      }\n\n      player.playTo(f.meta.time)\n    }, { immediate: true })\n\n    this.$on('hook:beforeDestroy', () => {\n      player.destroy()\n      frames.off(true)\n    })\n  }\n}\n\nexport default {\n  name: 'GenerationViewer'\n  , props: {\n    generationIndex: {\n      type: Number\n      , default: 0\n    }\n    , stepTime: Number\n    , sightIndicators: Boolean\n    , speedIndicators: Boolean\n    , energyIndicators: Boolean\n    , foodIndicators: Boolean\n    , followCreatureId: String\n  }\n  , inject: [ 'getTime' ]\n  , data: () => ({\n    viewWidth: 500\n    , viewHeight: 500\n    , gridSize: 500\n    , origin: [0, 0, 0]\n    , persCameraPos: [600, 300, 600]\n    , orthCameraPos: [100, 50, 100]\n    , shadowCamera: {\n      near: 100\n      , far: 380\n      , left: -280\n      , right: 280\n      , top: 280\n      , bottom: -280\n    }\n    , cameraGoal: new THREE.Vector3()\n    , cameraFocusGoal: new THREE.Vector3()\n    , interactiveObjects: ['blob']\n    , highlightColor: chroma(sougy.red).num()\n    , hideStage: false\n    , tourPosition: [0, 0, -100]\n  })\n  , components\n  , computed\n  , watch\n  , methods\n  , mounted(){\n    this.renderer = this.$refs.renderer\n    this.scene = this.renderer.scene\n\n    this.$onResize(() => this.onResize())\n    this.onResize()\n    this.initCamera()\n    // this.debug()\n    this.checkFollowCreature()\n    this.initTour()\n\n    // Initialize drawing\n    let stop = false\n    const clock = new THREE.Clock()\n    const draw = () => {\n      if ( stop ) { return }\n      requestAnimationFrame( draw )\n      this.draw( clock.getDelta() * 1000 )\n    }\n    this.$on('hook:beforeDestroy', () => {\n      stop = true\n    })\n    draw()\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.generation-viewer\n  max-width: 100vw\n  background: $grey-darker\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./generation-viewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./generation-viewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./generation-viewer.vue?vue&type=template&id=afdd8940&scoped=true&lang=pug&\"\nimport script from \"./generation-viewer.vue?vue&type=script&lang=js&\"\nexport * from \"./generation-viewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./generation-viewer.vue?vue&type=style&index=0&id=afdd8940&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"afdd8940\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {\nvar _obj;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"floating-panel\",class:( _obj = { 'is-open': _vm.isOpen }, _obj['direction-' + _vm.direction] = true, _obj )},[_c('div',{staticClass:\"activator\",on:{\"click\":function($event){_vm.isOpen = true}}},[_vm._t(\"activator\",[_c('b-icon',{staticClass:\"icon-btn\",attrs:{\"icon\":_vm.openIcon,\"size\":_vm.size}})])],2),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.isOpen)?_c('div',{staticClass:\"panel\",on:{\"click\":function($event){_vm.closeOnClick && (_vm.isOpen = false)}}},[_c('div',{staticClass:\"close\",on:{\"click\":function($event){$event.stopPropagation();_vm.isOpen = false}}},[_vm._t(\"deactivator\",[_c('b-icon',{staticClass:\"icon-btn\",attrs:{\"icon\":_vm.closeIcon,\"size\":_vm.size}})])],2),_vm._t(\"default\")],2):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.floating-panel(:class=\"{ 'is-open': isOpen, ['direction-' + direction]: true }\")\n  .activator(@click=\"isOpen = true\")\n    slot(name=\"activator\")\n      b-icon.icon-btn(:icon=\"openIcon\", :size=\"size\")\n  transition(name=\"fade\")\n    .panel(v-if=\"isOpen\", @click=\"closeOnClick && (isOpen = false)\")\n      .close(@click.stop=\"isOpen = false\")\n        slot(name=\"deactivator\")\n          b-icon.icon-btn(:icon=\"closeIcon\", :size=\"size\")\n      slot\n</template>\n\n<script>\nconst components = {\n\n}\n\nconst computed = {\n  closeIcon(){\n    switch (this.direction) {\n      case 'right':\n        return 'menu-left'\n      case 'left':\n        return 'menu-right'\n      case 'up':\n        return 'menu-down'\n      case 'down':\n        return 'menu-up'\n    }\n  }\n  , openIcon(){\n    switch (this.direction) {\n      case 'right':\n        return 'menu-right'\n      case 'left':\n        return 'menu-left'\n      case 'up':\n        return 'menu-up'\n      case 'down':\n        return 'menu-down'\n    }\n  }\n  , isOpen: {\n    get(){\n      if (this.open === undefined){\n        return this.openState\n      } else {\n        return this.open\n      }\n    }\n    , set(v){\n      this.openState = v\n      this.$emit('update:open', v)\n    }\n  }\n}\n\nconst watch = {\n}\n\nconst methods = {\n}\n\nexport default {\n  name: 'FloatingPanel'\n  , props: {\n    open: {\n      type: Boolean\n      , default: undefined\n    }\n    , closeOnClick: {\n      type: Boolean\n      , default: true\n    }\n    , size: String\n    , direction: {\n      type: String\n      , validator: v => (['right', 'up', 'left', 'down'].indexOf(v) > -1)\n      , default: 'down'\n    }\n  }\n  , data: () => ({\n    openState: false\n  })\n  , components\n  , computed\n  , watch\n  , methods\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.floating-panel\n  position: relative\n  display: inline-block\n  &.is-open .activator\n    visibility: hidden\n.panel\n  position: absolute\n  z-index: 1\n  padding: 0.5rem\n  border-radius: 4px\n  border: 1px solid darken($grey, 10)\n  background: rgba(0, 0, 0, 0.3)\n  backdrop-filter: blur(3px)\n  box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.3)\n  display: flex\n  flex-direction: column\n  align-items: center\n  .close\n    display: flex\n\n.direction-down\n  .panel\n    top: -0.5rem\n    left: 50%\n    transform: translateX(-50%)\n\n    .close\n      border-bottom: 1px solid $grey-dark\n      padding-bottom: 0.5rem\n\n    >>> .item\n      margin-top: 0.5rem\n.direction-up\n  .panel\n    flex-direction: column-reverse\n    left: 50%\n    bottom: -0.5rem\n    transform: translateX(-50%)\n\n    .close\n      border-top: 1px solid $grey-dark\n      padding-top: 0.5rem\n\n    >>> .item\n      margin-bottom: 0.5rem\n.direction-left\n  .panel\n    flex-direction: row-reverse\n    bottom: -0.4em\n    right: -0.5rem\n\n    .close\n      border-left: 1px solid $grey-dark\n      padding-left: 0.5rem\n\n    >>> .item\n      margin-right: 0.5rem\n\n.direction-right\n  .panel\n    flex-direction: row\n    bottom: -0.4em\n    left: -0.5rem\n\n    .close\n      border-right: 1px solid $grey-dark\n      padding-right: 0.5rem\n\n    >>> .item\n      margin-left: 0.5rem\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./floating-panel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./floating-panel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./floating-panel.vue?vue&type=template&id=1b033d01&scoped=true&lang=pug&\"\nimport script from \"./floating-panel.vue?vue&type=script&lang=js&\"\nexport * from \"./floating-panel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./floating-panel.vue?vue&type=style&index=0&id=1b033d01&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b033d01\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"creature-flower-chart\"},[_c('div',{staticClass:\"bg\"},[_c('FlowerChart',{attrs:{\"data\":_vm.traitData,\"data-ranges\":_vm.generationRanges,\"size\":_vm.size,\"colors\":_vm.colors,\"show-center\":false,\"show-values\":false,\"values-outside\":true}})],1),_c('label',[_c('span',[_vm._v(\"Current Creature \")]),_c('b-tooltip',{attrs:{\"label\":\"Flower diagram is sized relative to averages in the current generation\",\"position\":\"is-left\",\"multilined\":\"\"}},[_c('b-icon',{attrs:{\"icon\":\"help-circle\",\"size\":\"is-small\"}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.creature-flower-chart\n  .bg\n    FlowerChart(\n      :data=\"traitData\"\n      , :data-ranges=\"generationRanges\"\n      , :size=\"size\"\n      , :colors=\"colors\"\n      , :show-center=\"false\"\n      , :show-values=\"false\"\n      , :values-outside=\"true\"\n    )\n  label\n    span='Current Creature '\n    b-tooltip(label=\"Flower diagram is sized relative to averages in the current generation\", position=\"is-left\", multilined)\n      b-icon(icon=\"help-circle\", size=\"is-small\")\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport _find from 'lodash/find'\nimport _reject from 'lodash/reject'\nimport _get from 'lodash/get'\nimport FlowerChart from '@/components/flower-chart'\n\nconst invalidTraits = ['age_at_death']\n\nconst components = {\n  FlowerChart\n}\n\nconst computed = {\n  colors(){\n    return {\n      petals: this.getTraitColors(this.shownTraits)\n    }\n  }\n  , creature(){\n    let g = this.getCurrentGeneration()\n    return _find(g.creatures, { id: this.id })\n  }\n  , shownTraits(){\n    return _reject(this.traits, e => invalidTraits.indexOf(e) > -1)\n  }\n  , traitData(){\n    return {\n      center: 0\n      , petals: this.shownTraits.map(t => _get(this.creature[t], '0', this.creature[t]))\n    }\n  }\n  , generationRanges(){\n    let s = this.generationStats\n    return {\n      center: [0, 1]\n      , petals: this.shownTraits.map(t => [s[t].min, s[t].max])\n    }\n  }\n  , generationStats(){\n    if (!this.statistics){ return {} }\n    return this.statistics.generation_statistics[this.currentGenerationIndex]\n  }\n  , ...mapGetters('simulation', {\n    'statistics': 'statistics'\n    , 'getCurrentGeneration': 'getCurrentGeneration'\n    , 'currentGenerationIndex': 'currentGenerationIndex'\n    , 'traits': 'traits'\n    , 'getTraitColors': 'getTraitColors'\n  })\n}\n\nconst watch = {\n}\n\nconst methods = {\n}\n\nexport default {\n  name: 'CreatureFlowerChart'\n  , props: {\n    id: String\n    , size: {\n      type: Number\n      , default: 200\n    }\n  }\n  , data: () => ({\n  })\n  , components\n  , computed\n  , watch\n  , methods\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.creature-flower-chart\n  color: lighten($grey, 10)\n  text-align: center\n  label\n    // text-shadow: 0 0 4px rgba(255, 255, 255, 0.5)\n    font-family: $family-monospace\n  .bg\n    border-radius: 50%\n    >>> svg\n      font-size: .2px\n      circle\n        fill: transparentize($background, 0.1)\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./creature-flower-chart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./creature-flower-chart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./creature-flower-chart.vue?vue&type=template&id=d8a70d3a&scoped=true&lang=pug&\"\nimport script from \"./creature-flower-chart.vue?vue&type=script&lang=js&\"\nexport * from \"./creature-flower-chart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./creature-flower-chart.vue?vue&type=style&index=0&id=d8a70d3a&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d8a70d3a\",\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n.viewer\n  transition(name=\"slide-down\", appear, @after-enter=\"fixLayout\", @after-leave=\"fixLayout\")\n    .top-controls(v-show=\"!showConfig && !showIntro\")\n      FloatingPanel(size=\"is-medium\", :close-on-click=\"false\")\n        template(#activator)\n          b-icon.icon-btn(icon=\"layers-search\", size=\"is-medium\")\n        .item\n          b-tooltip(label=\"Toggle sight range indicators\", position=\"is-left\")\n            b-icon.icon-btn(icon=\"eye\", size=\"is-medium\", :class=\"{ active: showSightIndicator }\", @click.native.stop=\"showSightIndicator = !showSightIndicator\")\n        .item\n          b-tooltip(label=\"Color blobs based on speed (brown: slow, red: fast)\", position=\"is-left\")\n            b-icon.icon-btn(icon=\"run-fast\", size=\"is-medium\", :class=\"{ active: showSpeedIndicator }\", @click.native.stop=\"showSpeedIndicator = !showSpeedIndicator\")\n        .item\n          b-tooltip(label=\"Toggle energy indicators\", position=\"is-left\")\n            b-icon.icon-btn(icon=\"battery-charging\", size=\"is-medium\", :class=\"{ active: showEnergyIndicator }\", @click.native.stop=\"showEnergyIndicator = !showEnergyIndicator\")\n        .item\n          b-tooltip(label=\"Toggle food indicators\", position=\"is-left\")\n            b-icon.icon-btn(icon=\"silverware-fork-knife\", size=\"is-medium\", :class=\"{ active: showFoodIndicator }\", @click.native.stop=\"showFoodIndicator = !showFoodIndicator\")\n\n      b-icon.icon-btn(icon=\"cctv\", :class=\"{ active: followCreature }\", size=\"is-medium\", @click.native.stop=\"followCreature = !followCreature\")\n\n      .under\n        CreatureFlowerChart(v-if=\"followCreature && followCreatureId\", :id=\"followCreatureId\")\n\n  .screen\n    b-loading.loading-cover(:is-full-page=\"false\", :active=\"!showIntro && isLoading\")\n    GenerationViewer(\n      ref=\"generationViewer\"\n      , :generation-index=\"genIndex\"\n      , :step-time=\"stepTime\"\n      , :sight-indicators=\"showSightIndicator\"\n      , :speed-indicators=\"showSpeedIndicator\"\n      , :energy-indicators=\"showEnergyIndicator\"\n      , :food-indicators=\"showFoodIndicator\"\n      , :followCreatureId=\"followCreature ? followCreatureId : undefined\"\n      , @tap-creature=\"followCreatureId = $event.creature.id; followCreature = true\"\n    )\n  transition(name=\"fade\", appear)\n    .controls(v-if=\"!showIntro\", v-show=\"!showConfig\")\n      .inner\n        b-field.extras(grouped, position=\"is-centered\", :class=\"{ active: playthrough }\")\n          b-field\n            b-tooltip(:label=\"'Playthrough ' + (playthrough ? '(is on)' : '(is off)')\", position=\"is-top\")\n              b-icon.icon-btn(title=\"play through\", size=\"is-medium\", icon=\"transfer-right\", @click.native=\"playthrough = !playthrough\")\n        b-field(grouped, position=\"is-centered\")\n          b-field\n            b-icon.icon-btn(icon=\"chevron-left\", size=\"is-large\", @click.native=\"prevGeneration()\")\n          b-field\n            b-icon.icon-btn(:icon=\"paused ? 'play' : 'pause'\", size=\"is-large\", @click.native=\"togglePlay()\")\n          b-field\n            b-icon.icon-btn(icon=\"chevron-right\", size=\"is-large\", @click.native=\"nextGeneration()\")\n\n        .right\n          FloatingPanel(size=\"is-medium\", direction=\"up\", :close-on-click=\"false\")\n            template(#activator)\n              b-icon.icon-btn(icon=\"clock-fast\", size=\"is-medium\")\n            .item\n              vue-slider(\n                v-model=\"playbackSpeed\"\n                , :min=\"1\"\n                , :max=\"13\"\n                , :interval=\"1\"\n                , :height=\"200\"\n                , direction=\"btt\"\n                , :contained=\"true\"\n              )\n      AudioScrubber(:progress=\"progress\", @scrub=\"onScrub\", @scrubstart=\"onScrubStart\", @scrubend=\"onScrubEnd\")\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport _findIndex from 'lodash/findIndex'\nimport Copilot from 'copilot'\nimport AudioScrubber from '@/components/audio-scrubber'\nimport GenerationViewer from '@/components/generation-viewer'\nimport FloatingPanel from '@/components/floating-panel'\nimport CreatureFlowerChart from '@/components/creature-flower-chart'\n\nexport default {\n  name: 'ViewScreen'\n  , props: {\n    showConfig: Boolean\n    , showIntro: Number\n  }\n  , provide(){\n    const self = this\n    return {\n      getTime(){ return self.player.time }\n      , getStep(){ return self.player.time / self.stepTime }\n    }\n  }\n  , data: () => ({\n    paused: true\n    , playthrough: false\n    , progress: 0\n    , showSightIndicator: false\n    , showSpeedIndicator: false\n    , showEnergyIndicator: false\n    , showFoodIndicator: false\n    , followCreature: false\n    , followCreatureId: 0\n    , prate: 1\n  })\n  , components: {\n    AudioScrubber\n    , GenerationViewer\n    , FloatingPanel\n    , CreatureFlowerChart\n  }\n  , created(){\n    this.player = Copilot.Player({ totalTime: 1 })\n  }\n  , deactivated(){\n    this.player.togglePause(true)\n  }\n  , beforeDestroy(){\n    this.player.togglePause(true)\n    this.player.destroy()\n  }\n  , mounted(){\n    this.player.on('update', () => {\n      this.progress = this.player.time / this.totalTime * 100\n    })\n    this.player.on('togglePause', () => {\n      if ( this.player.paused !== this.paused ){\n        this.paused = this.player.paused\n      }\n    })\n    this.player.on('end', () => {\n      if ( this.playthrough ){\n        this.nextGeneration()\n      }\n    })\n  }\n  , computed: {\n    stepTime(){\n      return 100 //Math.pow(10, 1.5 * (1 - this.playbackSpeed/5)) * 100\n    }\n    , playbackSpeed: {\n      get(){\n        let s = this.player.playbackRate + 1e-40 * this.prate\n        return Math.log2(s) * 2 + 7\n      }\n      , set(s){\n        this.player.playbackRate = Math.pow(2, (s - 7)/2)\n        this.prate = this.player.playbackRate\n      }\n    }\n    , totalTime(){\n      if ( !this.generation ){ return 1 }\n      return this.stepTime * this.generation.steps\n    }\n    , generation(){\n      return this.getCurrentGeneration()\n    }\n    , genIndex: {\n      get(){\n        return this.generationIndex\n      }\n      , set(v){\n        this.loadGeneration(v)\n      }\n    }\n    , tourStepNumber(){\n      return this.$route.query.intro | 0\n    }\n    , ...mapGetters('simulation', {\n      getCurrentGeneration: 'getCurrentGeneration'\n      , generationIndex: 'currentGenerationIndex'\n      , stats: 'statistics'\n      , isLoading: 'isLoading'\n    })\n  }\n  , watch: {\n    totalTime(){\n      let p = this.player.time / this.player.totalTime\n      this.player.totalTime = this.totalTime\n      this.player.time = this.totalTime * p\n    }\n    , tourStepNumber(step, oldStep){\n      if (step >= 2){\n        this.playthrough = true\n        this.playbackSpeed = 2\n        this.paused = false\n      } else {\n        this.playbackSpeed = 5\n        this.paused = true\n        if (oldStep > 1 && !step){\n          this.playthrough = true\n          this.genIndex = 0\n          this.paused = false\n        }\n      }\n\n      if (step === 2){\n        this.genIndex = 0\n      }\n\n      if (step === 3){\n        this.genIndex = 0\n        this.followCreatureId = this.generation.creatures[2].id\n      }\n\n      if (step === 4){\n        this.genIndex = 0\n        this.showEnergyIndicator = true\n      } else {\n        this.showEnergyIndicator = false\n      }\n\n      this.followCreature = step === 3\n    }\n    , paused(){\n      this.player.togglePause(this.paused)\n    }\n    , genIndex(g, oldg){\n      if (g === oldg){ return }\n      let index = _findIndex(this.generation.creatures, c => c.id === this.followCreatureId)\n\n      if ( index < 0 ){\n        this.followCreature = false\n        this.followCreatureId = null\n      }\n\n      if (this._inactive) return\n\n      this.paused = true\n      if ( this.player ){\n        this.player.seek(0)\n      }\n      if (!this.playthrough) return\n      setTimeout(() => {\n        this.paused = false\n      }, 500)\n    }\n    , followCreature(f){\n      if ( f && !this.followCreatureId ){\n        this.followCreatureId = this.generation.creatures[0].id\n      }\n    }\n  }\n  , methods: {\n    togglePlay(){\n      this.paused = !this.paused\n    }\n    , updateTime(time){\n      if ( time !== this.player.time ){\n        this.player.seek(time)\n      }\n    }\n    , onScrub(progress){\n      this.updateTime(progress * this.totalTime / 100)\n    }\n    , onScrubStart(){\n      this.wasPaused = this.paused\n      this.paused = true\n    }\n    , onScrubEnd(){\n      this.paused = this.wasPaused\n    }\n    , loadGeneration(v){\n      this.$store.dispatch('simulation/loadGeneration', v)\n    }\n    , prevGeneration(){\n      if ( !this.generation ){ return }\n      if ( this.genIndex <= 0 ){ return }\n      this.genIndex -= 1\n    }\n    , nextGeneration(){\n      if ( !this.generation ){ return }\n      if ( this.genIndex >= this.stats.num_generations - 1 ){ return }\n      this.genIndex += 1\n    }\n    , fixLayout(){\n      let viewer = this.$refs.generationViewer\n      if ( viewer ){\n        viewer.onResize()\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.viewer\n  position: relative\n  display: flex\n  flex-direction: column\n  .screen\n    flex-grow: 1\n    overflow: hidden\n    display: flex\n    align-items: stretch\n    > *\n      flex: 1\n\n.top-controls\n  position: absolute\n  top: 1.5rem\n  right: 1.5rem\n  z-index: 1\n  text-align: right\n\n  > *\n    &:not(:first-child)\n      margin-left: 1rem\n\n  @media screen and (max-width: $tablet)\n    top: 5rem\n\n    .under\n      transform: scale(0.6)\n      transform-origin: top right\n\n.loading-cover\n  z-index: 1\n.controls\n  position: absolute\n  bottom: 0\n  left: 0\n  right: 0\n  align-items: baseline\n  pointer-events: none\n\n  >>> .icon,\n  .right,\n  >>> .scrubber\n    pointer-events: all\n\n  >>> .vue-slider-process\n    background-color: $primary\n  >>> .vue-slider-rail\n    background-color: $sand\n  >>> .vue-slider-dot-tooltip-inner\n    background-color: $primary\n\n  .left\n    position: absolute\n    left: 1.5rem\n    bottom: 1.5rem\n    z-index: 1\n  .right\n    position: absolute\n    right: 1.5rem\n    bottom: 1.5rem\n\n  >>> .field\n    margin-bottom: 0.5em\n\n  .extras\n    margin-bottom: 0\n\n>>> .scrubber .inner\n  background: $sand\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./view-screen.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./view-screen.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./view-screen.vue?vue&type=template&id=7b6932ac&scoped=true&lang=pug&\"\nimport script from \"./view-screen.vue?vue&type=script&lang=js&\"\nexport * from \"./view-screen.vue?vue&type=script&lang=js&\"\nimport style0 from \"./view-screen.vue?vue&type=style&index=0&id=7b6932ac&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b6932ac\",\n  null\n  \n)\n\nexport default component.exports","import _get from 'lodash/get'\nimport Vue from 'vue'\nimport Router from 'vue-router'\nimport PlayerUI from '@/pages/player-ui'\nimport About from '@/pages/about'\nimport Simulation from '@/pages/simulation'\nimport SimulationStatistics from '@/components/simulation-statistics'\nimport ViewScreen from '@/components/view-screen'\n\n// const CDN = 'https://cdn.minutelabs.io/what-is-a-day/audio'\n//\n// function getTracks(name){\n//   return [\n//     `${CDN}/${name}.mp3`\n//     , `${CDN}/${name}.ogg`\n//   ]\n// }\n\nVue.use(Router)\n\nlet shownIntro = false\n\nconst parseProps = (route) => {\n  return {\n    ...route.params\n    , showConfig: !!route.query.cfg\n    , showIntro: route.query.intro | 0\n    , generationIndex: route.params.generationIndex\n    , hideControls: route.name === 'about' || route.name === 'stats'\n    , hideSettings: route.name === 'about'\n  }\n}\n\nconst router = new Router({\n  routes: [\n    {\n      path: '/'\n      , name: 'home'\n      , component: PlayerUI\n      , redirect: { name: 'viewscreen', params: { generationIndex: 1, intro: 1 } }\n      , meta: {\n        // music: {\n        //   maxVolume: 0.7\n        //   , audio: [\n        //     `${CDN}/Candlepower.mp3`\n        //     , `${CDN}/Candlepower.ogg`\n        //   ]\n        // }\n      }\n      , children: [\n        // {\n        //   path: 'welcome'\n        //   , name: 'welcome'\n        //   , component: () => import('@/components/chapters/welcome')\n        //   , meta: {\n        //     title: 'Welcome'\n        //     , audio: getTracks('welcome')\n        //   }\n        // }\n      ]\n    }\n    , {\n      path: '/s/:generationIndex'\n      , name: 'simulation'\n      , redirect: (route) => ({\n          name: 'viewscreen'\n          , params: {\n            generationIndex: +_get(route, 'params.generationIndex', 1)\n          }\n          , append: true\n        })\n      , component: Simulation\n      , props: parseProps\n      , children: [\n        {\n          path: 'viewer'\n          , name: 'viewscreen'\n          , component: ViewScreen\n          , props: parseProps\n          , beforeEnter(to, from, next) {\n            if (shownIntro){\n              return next()\n            }\n\n            shownIntro = true\n            next({ ...to, query: { intro: 1 }, append: true, replace: true })\n          }\n        }\n        , {\n          path: 'stats'\n          , name: 'stats'\n          , component: SimulationStatistics\n          , props: true\n        }\n        , {\n          path: 'about'\n          , name: 'about'\n          , component: About\n        }\n      ]\n    }\n    , {\n      path: '*'\n      , redirect: { name: 'viewscreen', params: { generationIndex: 1 } }\n    }\n  ]\n})\n\nexport default router\n","import { wrap } from 'comlink';var inst;var worker = require('!worker-loader?{}!/Users/wellcaffeinated/Documents/github/minutelabsio/evolution-simulator/node_modules/comlink-loader/dist/comlink-worker-loader.js!/Users/wellcaffeinated/Documents/github/minutelabsio/evolution-simulator/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/wellcaffeinated/Documents/github/minutelabsio/evolution-simulator/src/workers/simulation.js');export default function f() {inst = inst || wrap(worker());return (this instanceof f) ? wrap(worker()) : inst;}","import _uniqueId from 'lodash/uniqueId'\nimport _differenceBy from 'lodash/differenceBy'\n\nconst DEFAULT_INFO_TIMEOUT = 5000\nconst DEFAULT_ERROR_TIMEOUT = 0 // persistent\n\nconst initialState = {\n  errors: []\n  , infos: []\n}\n\nexport const alerts = {\n  namespaced: false\n  , state: initialState\n  , getters: {\n    hasError: state => state.errors.length > 0\n    , hasInfo: state => state.infos.length > 0\n    , errors: state => state.errors\n    , infos: state => state.infos\n  }\n  , actions: {\n    error({ commit }, { error, context, timeout }) {\n      commit('addError', { error, context, timeout })\n      console.error(error)\n      return error\n    }\n    , clearError({ commit }, { id }){\n      commit('removeError', id)\n    }\n    , clearErrors({ commit }) {\n      commit('clearErrors')\n    }\n    , info({ commit }, { message, timeout }) {\n      commit('addInfo', { message, timeout })\n    }\n    , clearInfo({ commit }, { id }){\n      commit('removeInfo', id)\n    }\n    , clearInfos({ commit }) {\n      commit('clearInfos')\n    }\n  }\n  , mutations: {\n    clearAll(state) {\n      state.errors = []\n      state.infos = []\n    }\n    , addError(state, { error, context, timeout }){\n      state.errors.push({\n        id: _uniqueId('error-')\n        , error\n        , context\n        , timeout: timeout || DEFAULT_ERROR_TIMEOUT\n      })\n    }\n    , removeError(state, id){\n      state.errors = _differenceBy(state.errors, [{ id }], 'id')\n    }\n    , clearErrors(state){\n      state.errors = []\n    }\n    , addInfo(state, { message, timeout }){\n      state.infos.push({\n        id: _uniqueId('info-')\n        , message\n        , timeout: timeout || DEFAULT_INFO_TIMEOUT\n      })\n    }\n    , removeInfo(state, id){\n      state.infos = _differenceBy(state.infos, [{ id }], 'id')\n    }\n    , clearInfos(state){\n      state.infos = []\n    }\n  }\n}\n","import router from '../router'\nimport _cloneDeep from 'lodash/cloneDeep'\n// import _some from 'lodash/some'\nimport traitColors from '@/config/trait-colors'\nimport createWorker from '@/workers/simulation'\nconst worker = createWorker()\n\nconst PRESETS = [\n  'default'\n  // , 'home_remove'\n  // , 'invasive_species'\n]\n\nfunction getTraitsForPreset(){\n  return [ 'age', 'age_at_death', 'speed', 'size', 'sense_range' ]\n}\n\nconst DEFAULT_CREATURE_PROPS = {\n  speed: [10, 0.5]\n  , size: [10, 0.5]\n  , sense_range: [20, 0.5]\n  , reach: [1, 0]\n  , flee_distance: [1e12, 0] // for now flee within sight range\n  , life_span: [1e4, 0]\n  , energy: 500\n  , species: 'default'\n}\n\nconst initialState = {\n  isBusy: false\n  , isRestarting: false\n  , isContinuing: false\n  , startedAt: 0\n  , computeTime: 0\n  , statsSpeciesFilter: 0\n\n  , config: {\n    seed: 118\n    , food_per_generation: [[0, 50]]\n    , max_generations: 50\n    , size: 500\n    , preset: {\n      name: 'default'\n      , options: {\n        step: 10\n      }\n    }\n  }\n  , creatureConfigs: {\n    'default': {\n      count: 50\n      , name: 'Blue'\n      , active: true\n      , template: {\n        ...DEFAULT_CREATURE_PROPS\n      }\n    }\n    , 'orange': {\n      count: 1\n      , name: 'Orange'\n      , active: false\n      , template: {\n        ...DEFAULT_CREATURE_PROPS\n        , sense_range: [50, 0.5]\n        , species: 'orange'\n      }\n    }\n    , 'pink': {\n      count: 1\n      , name: 'Pink'\n      , active: false\n      , template: {\n        ...DEFAULT_CREATURE_PROPS\n        , size: [9, 0.5]\n        , speed: [9, 0.5]\n        , species: 'pink'\n      }\n    }\n  }\n\n  , canContinue: true\n  , statistics: null\n  , currentGenerationIndex: -1\n  , getCurrentGeneration: () => null\n}\n\nfunction strTypeToNumber( val ){\n  if ( typeof val === 'string' ){\n    return +val\n  }\n\n  return val\n}\n\n// parses all strings as numbers\nfunction sanitizeConfig( cfg ){\n  return Object.keys(cfg).reduce((p, k) => {\n    let value = cfg[k]\n    if ( Array.isArray(value) ){\n      value = value.map(strTypeToNumber)\n    } else if (k !== 'species') {\n      value = strTypeToNumber( value )\n    }\n\n    p[k] = value\n    return p\n  }, {})\n}\n\nfunction getCreatureTemplate( creatureProps = DEFAULT_CREATURE_PROPS ){\n  let props = sanitizeConfig(creatureProps)\n\n  return {\n    state: 'ACTIVE'\n    , foods_eaten: []\n    , age: 0\n    , energy_consumed: 0\n    // gets overridden\n    , pos: [0, 0]\n    , home_pos: [0, 0]\n    , movement_history: [[0, 0]]\n    , status_history: []\n    , id: '00000000000000000000000000000000'\n    , ...props\n  }\n}\n\nfunction getCreatureConfigs(preset, cfgs){\n  let ret = []\n  let specieses = Object.keys(cfgs) // shhhhhh.....\n\n  for (let species of specieses){\n    let cfg = cfgs[species]\n    if (cfg.active){\n      ret.push({\n        count: cfg.count | 0\n        , template: getCreatureTemplate(cfg.template)\n      })\n    }\n  }\n\n  return ret\n}\n\nexport const simulation = {\n  namespaced: true\n  , state: initialState\n  , getters: {\n    isLoading: state => state.isRestarting\n    , isContinuing: state => state.isContinuing\n    , isBusy: state => state.isBusy\n    , canContinue: state => state.canContinue\n    , presets: () => PRESETS\n    , config: state => state.config\n    , speciesKeys: state => Object.keys(state.creatureConfigs)\n    , creatureConfig: state => species => state.creatureConfigs[species]\n    , creatureTemplate: state => species => state.creatureConfigs[species].template\n    , getCurrentGeneration: state => state.getCurrentGeneration\n    , currentGenerationIndex: (state, getters, rootState) =>\n        rootState.route ? +rootState.route.params.generationIndex - 1 : 0\n    , statistics: state => state.statistics\n\n    , traits: state => getTraitsForPreset(state.config.preset.name)\n    , traitColors: (state, getters) => getters.getTraitColors(getters.traits)\n    , getTraitColors: () => (traits) => traits.map(k => traitColors[k])\n\n    , speciesFilterList: (state) => {\n      let filters = Object.keys(state.creatureConfigs)\n        .filter(k => state.creatureConfigs[k].active)\n        .map(k => {\n          return [k, state.creatureConfigs[k].name + ' Blobs']\n        })\n\n      return [\n        [null, 'All']\n        , ...filters\n      ]\n    }\n    , speciesFilterKey: (state, getters) => getters.speciesFilterList[state.statsSpeciesFilter][0]\n  }\n  , actions: {\n    async run({ state, dispatch, commit, getters }, fresh = true) {\n      if ( state.isBusy ){ return Promise.reject(new Error('Busy')) }\n\n      let preload = fresh ? 1 : getters.currentGenerationIndex + 1\n      let postload = state.config.max_generations - preload\n\n      commit('start', true)\n      try {\n        await worker.initSimulation(\n          state.config\n          , getCreatureConfigs(state.config.preset.name, state.creatureConfigs)\n        )\n\n        await worker.advanceSimulation(preload)\n        commit('setMeta', {\n          canContinue: await worker.canContinue()\n        })\n        await dispatch('getStats')\n\n        await dispatch('loadGeneration', fresh ? 0 : getters.currentGenerationIndex)\n\n      } catch ( error ){\n        dispatch('error', { error, context: 'while calculating simulation results' }, { root: true })\n      } finally {\n        commit('stop')\n      }\n\n      if (postload && getters.canContinue) {\n        dispatch('continue', postload)\n      }\n    }\n    , async continue({ state, getters, dispatch, commit }, numGenerations) {\n      if ( state.isBusy ){ return Promise.reject(new Error('Busy')) }\n      if ( !getters.canContinue ){ return Promise.reject(new Error('No Results')) }\n\n      commit('start')\n      try {\n        await worker.advanceSimulation((numGenerations | 0) || state.config.max_generations)\n        commit('setMeta', {\n          canContinue: await worker.canContinue()\n        })\n        await dispatch('getStats')\n\n        // await dispatch('loadGeneration', getters.currentGenerationIndex)\n\n      } catch ( error ){\n        dispatch('error', { error, context: 'while calculating simulation results' }, { root: true })\n      } finally {\n        commit('stop')\n      }\n    }\n    , async loadGeneration({ state, commit, getters }, idx){\n      if (!state.statistics) { return }\n      idx = Math.max(0, Math.min(idx, state.statistics.num_generations - 1))\n\n      if ( idx !== getters.currentGenerationIndex ){\n        let route = router.history.current\n        let params = route ? route.params : {}\n        let query = route ? route.query : {}\n        router.replace({ params: { ...params, generationIndex: idx + 1 }, query })\n      }\n\n      commit('setGenerationIndex', idx)\n      commit('setGeneration', await worker.getGeneration(idx))\n    }\n    , async setStatsFilter({ commit, dispatch }, statsSpeciesFilter){\n      commit('setSpeciesFilter', statsSpeciesFilter)\n      await dispatch('getStats')\n    }\n    , async getStats({ commit, getters }){\n      commit('setStatistics', await worker.getStatistics(getters.speciesFilterKey))\n    }\n    , setConfig({ commit }, config = {}){\n      commit('setConfig', _cloneDeep(config))\n    }\n    , setCreatureConfig({ commit }, config = {}){\n      commit('setCreatureConfig', _cloneDeep(config))\n    }\n    , setCreatureTemplate({ commit }, config = {}){\n      commit('setCreatureTemplate', _cloneDeep(config))\n    }\n    , getCSV({ getters }){\n      return worker.getCSV(getters.speciesFilterKey)\n    }\n  }\n  , mutations: {\n    start(state, isRestart){\n      state.isBusy = true\n      state.isRestarting = !!isRestart\n      state.isContinuing = !isRestart\n      state.computeTime = 0\n      state.startedAt = performance.now()\n    }\n    , stop(state){\n      state.isBusy = false\n      state.isRestarting = false\n      state.isContinuing = false\n      state.computeTime = performance.now() - state.startedAt\n      state.startedAt = 0\n    }\n    , setGenerationIndex(state, idx){\n      state.currentGenerationIndex = idx | 0\n    }\n    , setMeta(state, meta){\n      Object.keys(meta).forEach(k => {\n        state[k] = meta[k]\n      })\n    }\n    , setStatistics(state, stats){\n      state.statistics = Object.freeze(stats)\n    }\n    , setGeneration(state, gen){\n      let generation = Object.freeze(gen)\n      state.getCurrentGeneration = () => generation\n    }\n    , setConfig(state, cfg){\n      state.config = {\n        ...state.config\n        , ...sanitizeConfig(cfg)\n      }\n    }\n    , setCreatureConfig(state, cfg){\n      let species = cfg.species || 'default'\n      state.creatureConfigs[species] = {\n        ...state.creatureConfigs[species]\n        , ...cfg\n      }\n    }\n    , setCreatureTemplate(state, cfg){\n      let species = cfg.species || 'default'\n      state.creatureConfigs[species] = {\n        ...state.creatureConfigs[species]\n        , template: {\n          ...state.creatureConfigs[species].template\n          , ...cfg\n        }\n      }\n    }\n    , setSpeciesFilter(state, idx){\n      state.statsSpeciesFilter = idx\n    }\n  }\n}\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport { alerts } from './alerts'\nimport { simulation } from './simulation'\n\nVue.use(Vuex)\n\nconst watchGeneration = (store) => {\n  store.watch((state) => state.route && state.route.params.generationIndex, (index) => {\n    if (index === undefined){ return }\n    store.dispatch('simulation/loadGeneration', index - 1)\n  })\n}\n\nexport default new Vuex.Store({\n  strict: process.env.NODE_ENV !== 'production'\n  , plugins: [watchGeneration]\n  , modules: {\n    alerts\n    , simulation\n  }\n})\n","// import moment from 'moment'\n// import momentDurationFormatSetup from 'moment-duration-format'\nimport _capitalize from 'lodash/capitalize'\nimport _kebabCase from 'lodash/kebabCase'\nimport _find from 'lodash/find'\nimport _filter from 'lodash/filter'\nimport _startCase from 'lodash/startCase'\n\n// momentDurationFormatSetup(moment)\n\nfunction titleCase( str ){\n  return str.split(' ').map( w => _capitalize(w) ).join(' ')\n}\n\nconst numberRanges = [\n  { range: [1, 1e3], suffix: '', decimals: 0 }\n  , { range: [1e3, 1e6], suffix: 'k', decimals: 1 }\n  , { range: [1e6, 1e9], suffix: 'M', decimals: 1 }\n  , { range: [1e9, Infinity], suffix: 'B', decimals: 1 }\n]\n\nfunction shortNumber( n ){\n  if ( n === 0 ){\n    return '0'\n  }\n\n  let cfg = _find( numberRanges, cfg => (cfg.range[0] && n < cfg.range[1]) )\n  return (n / cfg.range[0]).toFixed( cfg.decimals ) + cfg.suffix\n}\n\nfunction duration( n ){\n  n = Math.round(n / 1000)\n  let hours   = Math.floor(n / 3600)\n  let minutes = Math.floor((n - (hours * 3600)) / 60)\n  let seconds = n - (hours * 3600) - (minutes * 60)\n  var fmt = ''\n\n  if ( hours !== 0 ){\n    if ( hours   < 10 ) { hours   = '0' + hours }\n    fmt = hours + ':'\n  }\n\n  if ( minutes < 10 ) { minutes = '0' + minutes }\n  if ( seconds < 10 ) { seconds = '0' + seconds }\n\n  fmt += `${minutes}:${seconds}`\n\n  return fmt\n}\n\nfunction truncate( str = '', len = 30, sfx = '...' ){\n  if ( str.length < len ){ return str }\n  return str.substr( 0, len - sfx.length ) + sfx\n}\n\nexport default {\n  install( Vue ){\n    Vue.filter('capitalize', _capitalize)\n    Vue.filter('kebabCase', _kebabCase)\n    Vue.filter('titleCase', titleCase)\n    Vue.filter('startCase', _startCase)\n    Vue.filter('filter', _filter)\n    Vue.filter('shortNumber', shortNumber)\n    Vue.filter('truncate', truncate)\n    Vue.filter('duration', duration)\n  }\n}\n","const POINTER_START_EVENTS = ['mousedown', 'touchstart']\nconst POINTER_MOVE_EVENTS = ['mousemove', 'touchmove']\nconst POINTER_END_EVENTS = ['mouseup', 'touchend']\n\nfunction addEventListeners (el, events, handler) {\n  for (var i = 0, len = events.length; i < len; i++) {\n    el.addEventListener(events[i], handler, { passive: false })\n  }\n}\n\nfunction removeEventListeners (el, events, handler) {\n  for (var i = 0, len = events.length; i < len; i++) {\n    el.removeEventListener(events[i], handler)\n  }\n}\n\nfunction getCoords( e, el ){\n  let rect = el.getBoundingClientRect()\n\n  if ( e.changedTouches ){\n    e = e.changedTouches[0]\n  }\n\n  return {\n    clientX: e.clientX\n    , clientY: e.clientY\n    , layerX: e.clientX - rect.left\n    , layerY: e.clientY - rect.top\n  }\n}\n\nexport default {\n  inserted(el, binding) {\n    var draggedElem\n    if (!document){ return }\n\n    function onPointerStart(evt) {\n      evt.preventDefault()\n      let coords = getCoords( evt, el )\n      el.lastCoords = el.firstCoords = {\n        x: coords.clientX\n        , y: coords.clientY\n      }\n      binding.value({\n        el\n        , first: true\n        , clientX: coords.clientX\n        , clientY: coords.clientY\n        , offsetX: 0\n        , offsetY: 0\n        , layerX: coords.layerX\n        , layerY: coords.layerY\n        , event: evt\n      })\n      draggedElem = el\n    }\n\n    function onPointerEnd(evt) {\n      if (el !== draggedElem) return\n      let coords = getCoords( evt, el )\n      var offsetX = coords.clientX - el.firstCoords.x\n      var offsetY = coords.clientY - el.firstCoords.y\n      evt.preventDefault()\n      el.lastCoords = null\n      binding.value({\n        el\n        , last: true\n        , clientX: coords.clientX\n        , clientY: coords.clientY\n        , offsetX\n        , offsetY\n        , layerX: coords.layerX\n        , layerY: coords.layerY\n        , event: evt\n      })\n      draggedElem = null\n    }\n\n    function onPointerMove(evt) {\n      if (el !== draggedElem) return\n      evt.preventDefault()\n      if (el.lastCoords) {\n        var coords = getCoords( evt, el )\n        var deltaX = coords.clientX - el.lastCoords.x\n        var deltaY = coords.clientY - el.lastCoords.y\n        var offsetX = coords.clientX - el.firstCoords.x\n        var offsetY = coords.clientY - el.firstCoords.y\n        var clientX = coords.clientX\n        var clientY = coords.clientY\n\n        binding.value({\n          el\n          , deltaX\n          , deltaY\n          , offsetX\n          , offsetY\n          , clientX\n          , clientY\n          , layerX: coords.layerX\n          , layerY: coords.layerY\n          , event: evt\n        })\n        el.lastCoords = {\n          x: coords.clientX\n          , y: coords.clientY\n        }\n      }\n    }\n\n    addEventListeners(el, POINTER_START_EVENTS, onPointerStart)\n    addEventListeners(\n      document.documentElement,\n      POINTER_END_EVENTS,\n      onPointerEnd\n    )\n    addEventListeners(\n      document.documentElement,\n      POINTER_MOVE_EVENTS,\n      onPointerMove\n    )\n  }\n\n  , unbind(el) {\n    removeEventListeners(el, POINTER_START_EVENTS)\n    removeEventListeners(document.documentElement, POINTER_END_EVENTS)\n    removeEventListeners(document.documentElement, POINTER_MOVE_EVENTS)\n  }\n}\n","// based on https://github.com/zhanziyang/v-dragged\nimport drag from './drag'\n\nexport default {\n  install: function (Vue) {\n    // registration\n    Vue.directive('drag', drag)\n  }\n\n  , drag\n}\n","import _throttle from 'lodash/throttle'\nimport _pull from 'lodash/pull'\n\nexport default {\n  install( Vue ){\n    const listeners = []\n    Vue.prototype.$onResize = function( fn, throttleTime = 50 ){\n      const cb = _throttle(fn, throttleTime)\n      listeners.push(cb)\n      this.$on('hook:activated', () => {\n        _pull(listeners, cb)\n        listeners.push(cb)\n        cb()\n      })\n      this.$on('hook:beforeDestroy', () => {\n        _pull(listeners, cb)\n      })\n      this.$on('hook:deactivated', () => {\n        _pull(listeners, cb)\n      })\n    }\n\n    window.addEventListener('resize', () => {\n      for (let i = 0, l = listeners.length; i < l; i++){\n        listeners[i]()\n      }\n    })\n  }\n}\n","import Vue from 'vue'\nimport App from '@/app'\nimport VueAnalytics from 'vue-analytics'\nimport router from '@/router'\nimport store from '@/store'\nimport { sync } from 'vuex-router-sync'\nimport Filters from '@/plugins/filters'\nimport Gestures from '@/plugins/gestures'\nimport onResize from '@/plugins/on-resize'\nimport Buefy from 'buefy'\nimport VueCircleSlider from 'vue-circle-slider'\nimport Copilot from 'copilot'\nimport * as THREE from 'three'\n\nimport '@mdi/font/css/materialdesignicons.css'\n// require styles\nimport './styles/main.scss'\n\nimport VueSlider from 'vue-slider-component'\nimport 'vue-slider-component/theme/default.css'\nimport labConfig from '../lab-config'\n\n\nVue.component('VueSlider', VueSlider)\n\n// sync router and store\nsync(store, router)\n\nCopilot.registerType({\n  type: 'Vector3'\n  , default: new THREE.Vector3()\n  , interpolator: (from, to, t) => {\n    let v = new THREE.Vector3()\n    v.copy( from )\n    return v.lerp( to, t )\n  }\n})\n\nconst isProduction = process.env.NODE_ENV === 'production'\nVue.use(VueAnalytics, {\n  id: 'UA-46248430-1'\n  , router\n  , debug: {\n    enabled: !isProduction\n    , trace: false\n    , sendHitTask: isProduction\n  }\n  , autoTracking: {\n    exception: true\n    , pageviewTemplate (route) {\n      return {\n        title: `${route.name} | ${labConfig.title}`\n        , page: `/${labConfig.repo}${route.path}`\n        , location: window.location.href\n      }\n    }\n  }\n})\n\nVue.use(Buefy, {\n  defaultContainerElement: '#app'\n  // , defaultIconPack: 'fas'\n})\n\nVue.use(VueCircleSlider)\n// Vue.use(ElementComponents)\nVue.use(Filters)\nVue.use(Gestures)\nVue.use(onResize)\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App)\n  , router\n  , store\n}).$mount('#app')\n","module.exports = __webpack_public_path__ + \"img/food.d4978be9.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./food-control.vue?vue&type=style&index=0&id=46acf317&lang=sass&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./number-input.vue?vue&type=style&index=0&id=63f5f686&lang=sass&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./number-input.vue?vue&type=style&index=1&lang=sass&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=style&index=0&id=d8e83a54&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./creature-flower-chart.vue?vue&type=style&index=0&id=d8a70d3a&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tour.vue?vue&type=style&index=0&id=6fc9acb1&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/satisfied.8c3f8221.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./creature-status.vue?vue&type=style&index=0&id=05ee1011&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./legend.vue?vue&type=style&index=0&id=08042aa2&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/run.23b7bd46.svg\";","module.exports = __webpack_public_path__ + \"img/logo-dark.956bfae2.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./simulation.vue?vue&type=style&index=0&id=890a57a6&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/thought-1.fd7e7992.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tour-step.vue?vue&type=style&index=0&id=2e2473f9&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./responsive-embed.vue?vue&type=style&index=0&lang=sass&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flower-timeline.vue?vue&type=style&index=0&id=2f482d10&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./player-ui.vue?vue&type=style&index=0&id=112075d2&scoped=true&lang=sass&\"","module.exports = __webpack_public_path__ + \"img/low-energy.bd2d9234.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./typewriter-text.transition.vue?vue&type=style&index=0&id=7699a6b4&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/search.6a0055fb.svg\";","module.exports = __webpack_public_path__ + \"img/extinction.47909d1d.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./simulation-statistics.vue?vue&type=style&index=0&id=0983793d&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/thought-2.19350122.svg\";"],"sourceRoot":""}